<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="boBaBatSvr">
   <!--
	******************************************************************************
	* SELECT : 배치서버 등록
	* 작성자 : spect22
	* 작성 일자 : 2022-12-29
	******************************************************************************
	-->
	<insert id="insertBatSvr" parameterType="com.ssp.core.ba.vo.BaBatSvrVo">
		<selectKey keyProperty="batServerSeq" resultType="Integer" order="BEFORE">
            SELECT SQ_BA_BAT_SERVER_01.NEXTVAL FROM DUAL
        </selectKey>
		/* boBaBatSvr.insertBatSvr */
		INSERT INTO TB_CO_BAT_SERVER_INFO (
			BAT_SERVER_SEQ
		,	PRTCL_CD
		,	SERVER_NM
		,	IP_ADDR
		,	PORT
		,	USE_YN
		,	MAIN_YN
		,	REGPSN_ID
		,	REG_DTM
		,	UPDPSN_ID
		,	UPD_DTM
		)
		VALUES (
			#{batServerSeq}
		,	#{prtclCd}
		,	#{serverNm}
		,	#{ipAddr}
		,	#{port}
		,	#{useYn}
		,	#{mainYn}
		,	'SM_V000'
		,	SYSDATE
		,	'SM_V000'
		,	SYSDATE
		)
	</insert>

	<!--
	******************************************************************************
	* SELECT : 배치프로그램 갱신
	* 작성자 : spect22
	* 작성 일자 : 2022-12-29
	******************************************************************************
	-->
	<update id="updateBatSvr" parameterType="com.ssp.core.ba.vo.BaBatSvrVo">
		/* boBaBatSvr.updateBatSvr */
		UPDATE TB_CO_BAT_SERVER_INFO SET
			BAT_SERVER_SEQ	= #{batServerSeq}
		,	PRTCL_CD		= #{prtclCd}
		,	SERVER_NM		= #{serverNm}
		,	IP_ADDR			= #{ipAddr}
		,	PORT			= #{port}
		,	USE_YN			= #{useYn}
		,	MAIN_YN			= #{mainYn}
		,	UPDPSN_ID		= #{updpsnId}
		,	UPD_DTM			= SYSDATE
		WHERE
			BAT_SERVER_SEQ = #{batServerSeq}
	</update>

	<delete id="deleteBatSvr" parameterType="com.ssp.core.ba.vo.BaBatSvrVo">
		/* boBaBatSvr.deleteBatSvr */
		DELETE FROM TB_CO_BAT_SERVER_INFO WHERE BAT_SERVER_SEQ = #{batServerSeq}
	</delete>
</mapper>
