var raonk_console=window.console||{log:function(){}},console=window.console||{log:function(){}};_raonk_uploader=null;
var RESULTFILELIST=[],FOLDERLISTINFO=[],RESULTFILELISTCLON=[],uploaders=[],TOTALFILELISTSIZE=0,TOTALFILELISTNUM=0,TOTALREALFILENUM=0,PREVIOUSUPLOADEDSIZE=0,ONEFILEUPLOADEDSIZE=0,UPLOADIDX=0,TOTALUPLOADSIZE=0,TOTALUPLOADNUM=0,fileworkers=[],upload_complete_count=0,complete_worker_count=0,basicExtIcon="ai avi bmp css doc eml exe fla flv gif gul html hwp jpg mp3 mp4 mpg msg pdf png ppt psd swf tif txt wmv xls zip".split(" "),G_ImageFileExt="bmp,gif,jpeg,jpg,png",G_ISExcelLoadResourceCheck=!1,G_StrCustomHeaderColor=
"",G_StrCustomHeaderColor2="",G_StrCustomFooterColor="",G_StrCustomProgressBarColor="",G_StrCustomProgressBarColor2="",G_StrCustomTextColor="",G_UploadStartTime,G_ElapsedTime=0,G_FileHandlerControl=0,G_FormData=[],G_downForm_submit=!1,G_zipInterval=null,G_zipResponseValue="",G_downloadRequestInterval=null,G_downloadListObj=null,G_downloadIdxArr=[],G_downloadPossibilityCnt=0,G_downloadStatusMaxNullCnt=5,G_CompleteImageQuality=!1,G_changeCount=0,G_ImageWorkerArr=[],G_ChnageImageArr=[],G_IntervalObj,
G_DeleteItemCount=0,G_ManagerColor={bluegray:{c1:"RGB(239,239,239)",c2:"RGB(73,73,73)",c3:"RGB(62,77,95)"},blue:{c1:"RGB(239,239,239)",c2:"RGB(73,73,73)",c3:"RGB(63,86,120)"},skyblue:{c1:"RGB(239,239,239)",c2:"RGB(73,73,73)",c3:"RGB(0,118,163)"},red:{c1:"RGB(239,239,239)",c2:"RGB(73,73,73)",c3:"RGB(177,39,32)"},bluegreen:{c1:"RGB(239,239,239)",c2:"RGB(73,73,73)",c3:"RGB(58,113,127)"},green:{c1:"RGB(239,239,239)",c2:"RGB(73,73,73)",c3:"RGB(57,95,83)"},orange:{c1:"RGB(239,239,239)",c2:"RGB(73,73,73)",
c3:"RGB(213,89,23)"},purple:{c1:"RGB(239,239,239)",c2:"RGB(73,73,73)",c3:"RGB(111,79,121)"},silver:{c1:"RGB(239,239,239)",c2:"RGB(73,73,73)",c3:"RGB(159,159,159)"},brown:{c1:"RGB(239,239,239)",c2:"RGB(73,73,73)",c3:"RGB(105,72,57)"},darkgray:{c1:"RGB(239,239,239)",c2:"RGB(73,73,73)",c3:"RGB(74,74,74)"},gold:{c1:"RGB(239,239,239)",c2:"RGB(73,73,73)",c3:"RGB(162,118,85)"},gray:{c1:"RGB(239,239,239)",c2:"RGB(73,73,73)",c3:"RGB(98,98,98)"},pink:{c1:"RGB(239,239,239)",c2:"RGB(73,73,73)",c3:"RGB(215,80,102)"},
yellow:{c1:"RGB(239,239,239)",c2:"RGB(73,73,73)",c3:"RGB(215,153,10)"}},G_FileHandlerProcessingFlag=!1,G_skipSentId="",KUPLOADTOP=parent;setUPLOADWINwindow();setUPLOADWINdocument();var SIL=[],Z=[],___=KUPLOADTOP.KUPLOADWIN.location,_0_,_1_,_7_;KUPLOADTOP.RAONKUPLOAD=parent.RAONKUPLOAD;parent.KUPLOADTOP=KUPLOADTOP;
var _R_O_="K",R=[],T=[],K__="fe",C1=[],C2=[],ALS=[],S1=[],S2=[],M1="IEludmianzwFsoraWQgUHJvZHVjdCBLZXkuIA==",M2="IExpY2ianzwVuorc2UgRXhwaXJlZC4g",M3="IEludmianzwFsoraWQgRG9tYWluLiA=",M4="IEludmianzwFsoraWQgVUkgTW9kdWxlIExpY2Vuc2UuIA==",M5="IEludmianzwFsoraWQgQ2xvdWQgTW9kdWxlIExpY2Vuc2UuIA",G_AP1=[],G_AP2=[],G_PreviewDialogPosition={top:-1,left:-1},before_shift_idx=0,select_file_idx=-1,startDragX=null,startDragY=null,dragFile=0,dragFileObj=null,dragFileIdx=null,dragFileRect=null,dragFilePlaceHolder=
null,scrollMoveInterval=null,scrollMoveThumbs=!1,dragClicked=!1;SIL[0]="t";
var K__=K__+"ab",G_M1="LSBSQUianzw9OorIEsgVXBsb2FkIEluZm9ybWF0aW9uIC0KQ2xpZW50IFZlciA6IHswfQpTZXJ2ZXIgVmVyIDogezF9ClJ1bnRpbWVzIDogezJ9",G_M2="UkFPTiianzwBLorIEVkaXRvciBMaWNlbnNlIEluZm9ybWF0aW9uCiAtIENvbXBhbnkgOiB7MH0KIC0gU3lzdGVtIDogezF9CiAtIERvbWFpbiA6IHsyfQogLSBFeHBpcmVEYXRlIDogezN9CiAtIFVzZXIgQ291bnQgOiB7NH0=",G_MultiTranferCheck=0,G_UploadEndRequestXhr=[],G_UploadEndRequestCancelXhr=[],G_NowUploadEndReqeustXhr=null,G_KUPlugin={},G_KVirtualList={module:null,virtualListInfo:[]};
Array.prototype.indexOf||(Array.prototype.indexOf=function(b,e){e=e||0;for(var c=this.length;e<c;){if(this[e]===b)return e;++e}return-1});String.prototype.insertAt||(String.prototype.insertAt=function(b,e){return this.substr(0,b)+e+this.substr(b)});String.prototype.replaceAt||(String.prototype.replaceAt=function(b,e){return this.substr(0,b)+e+this.substr(b+e.length)});
Date.prototype.toISOString||(Date.prototype.toISOString=function(){var b=function(b,c){return(10>b?"0"+b:b)+c};return this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1,"-")+b(this.getUTCDate(),"T")+b(this.getUTCHours(),":")+b(this.getUTCMinutes(),":")+b(this.getUTCSeconds(),".")+(this.getUTCMilliseconds()/1E3).toFixed(3).slice(2,5)+"Z"});KUPLOADTOP.RAONKUPLOAD.util.overrideFn(window);
function setUPLOADWINwindow(){try{topURL=top.location.href,"undefined"==typeof topURL?(KUPLOADTOP.KUPLOADWIN=parent,KUPLOADTOP.IsCrossDomain=!0):(KUPLOADTOP.KUPLOADWIN=parent,KUPLOADTOP.IsCrossDomain=!1)}catch(b){KUPLOADTOP.KUPLOADWIN=parent,KUPLOADTOP.IsCrossDomain=!0}}K__+="CDE";G_AP2[0]="r";
function setUPLOADWINdocument(){try{topURL=top.location.href,"undefined"==typeof topURL?(KUPLOADTOP.KUPLOADDOC=parent.document,KUPLOADTOP.IsCrossDomain=!0):(KUPLOADTOP.KUPLOADDOC=parent.document,KUPLOADTOP.IsCrossDomain=!1)}catch(b){KUPLOADTOP.KUPLOADDOC=parent.document,KUPLOADTOP.IsCrossDomain=!0}}
function RAONK_Uploader(b,e,c){this._config=e;this._frame=c;this.frameWin=window;this.ID=b;KUPLOADTOP.RAONKUPLOAD.RAONKMULTIPLE[c.frameID]=this;KUPLOADTOP.G_CURRKUPLOADER=this;this.newOriginalName=[];this.newUploadName=[];this.newUploadPath=[];this.newLogicalPath=[];this.newSize=[];this.newGuid=[];this.newStatus=[];this.newOrder=[];this.newLocalPath=[];this.newCustomValue=[];this.____={};this.newResponseCustomValue=[];this.newLargeFiles=[];this.delUniqKey=[];this.delOriginalName=[];this.delSize=[];
this.delLargeFiles=[];this.nonDelUniqKey=[];this.nonDelOriginalName=[];this.nonDelSize=[];this.nonDelOrder=[];this.nonDelLargeFiles=[];this.nonDelCustomValue=[];this.fileListHeight=0;this.TagID=KUPLOADTOP.RAONKUPLOAD.util.makeGuidTagName();_R_O_+="/";_R_O_+="=";G_AP2[6]="z";this.fileObj_html4={fileObj:null,markValue:"",fileSize:0};this.uploadModeFormTags=null;this.isUploadComplete=this.isDownloadReady=!1;this.thumbsImgExtArr="bmp jpg jpeg png gif tif tiff".split(" ");this.xhr_onprogress=null;this.transferCompleteEvt=
!1;this.managerUrl="http://127.0.0.1:";-1<KUPLOADTOP.location.host.indexOf("127.0.0.1")&&(this.managerUrl="http://localhost:");this._config.agentHttps&&(this.managerUrl=this.managerUrl.replace("http","https"));this.managerPort="";this.httpHeaderArr=[];this.tempHttpHeaderObj={};this.tempKMonitorHttpHeaderObj={};this.downEventkeyArr=[];this.managerLastCmd="";this.isHybridOpenResponse=this.checkDownloadFail=!1;this.dialogWindow=null!=e.dialogWindow?e.dialogWindow:null;null!=this.dialogWindow&&(this.dialogWindow.KUPLOADWIN=
KUPLOADTOP.KUPLOADWIN,this.dialogWindow.KUPLOADDOC=KUPLOADTOP.KUPLOADDOC,this.dialogWindow.G_CURRKUPLOADER=KUPLOADTOP.G_CURRKUPLOADER);this.commonToolCanvas=document.createElement("canvas");this.checkThumbsArr=[];this.checkThumbsArrIdx=0;this.managerInitInterval=[];this.dllVersion=this.agentVersion=this.managerId="";this.managerLoadedCheck=this.hasFolder=!1;this.workerMaxCount=2;this.currWorkerCount=1;this.resumeUploadCheck=this.resumeInfoObj=null;this.uploadedTaskId="";this.uploadedTaskIdArr=[];
this.uploadedSize=0;this.isCurrResumeUpload=!1;this.resumeSizeForProgress=0;this.uploadedSizeForProgress=[];this.processTimeInterval=null;this.processTime=0;this.isManagerDataSended=!1;this.networkSpeedTime=0;this.lastAgentCmd="";this.downloadedFileCount=0;this.agentNewInstall=null;this.agentInstallEvent=!1;this.agentCallGuidArr=[];this.agentCallGuid="";this.agentCallInterval=[];this.enforceChangeResumeDownload=!1;this.autoRecoveryDownloadList={fileListArr:[]};this.osDPI="";this.timeForErrorCheck=
null;this.sessionKeepUrl={};this.AgentInstallFailCheckTimeout=null;this.lastCmd="";try{try{if(""!=typeof KUPLOADTOP.G_CURRKUPLOADER._config.languageExtendObject){var a=JSON.parse(KUPLOADTOP.G_CURRKUPLOADER._config.languageExtendObject);"object"===typeof a&&KUPLOADTOP.RAONKUPLOAD.util.objectExtend(!0,RAONKUpload_Lang,a)}}catch(f){}if("function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.onLanguageDefinition)KUPLOADTOP.G_CURRKUPLOADER._config.event.onLanguageDefinition(b,RAONKUpload_Lang);else KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnLanguageDefinition(b,
RAONKUpload_Lang)}catch(g){}this.isScrollWidth0=!1;if(0==KUPLOADTOP.RAONKUPLOAD.UserAgent.os.name.toLowerCase().indexOf("mac")||1==KUPLOADTOP.RAONKUPLOAD.browser.mobile)this.isScrollWidth0=!0;this.beforeDownloadedSize=this.beforeUploadedSize=0;this.clientIP="";this.kBandwidth={bw:1024*this._config.agentBandwidth,bitPerSecSentBytes:0,transOneSecTime:0,bwStartTick:0,beforeSize:0};this.fileListIconTimeStamp=KUPLOADTOP.RAONKUPLOAD.util.makeGuid("p_")}G_AP1[2]=9;
RAONK_Uploader.prototype={init:function(b){b=KUPLOADTOP.RAONKUPLOAD.util._setRaonKUploader(b).frameWin;b.uploaders=[];b.TOTALFILELISTSIZE=0;b.TOTALFILELISTNUM=0;b.UPLOADIDX=0;b.TOTALUPLOADNUM=0;b.upload_complete_count=0;b.PREVIOUSUPLOADEDSIZE=0;b.TOTALUPLOADSIZE=0;b.calcTotalSize();b=getDialogDocument();try{b.getElementById("RAON_K_UP_current_upload_file_name").innerHTML="",b.getElementById("RAON_K_UP_total_upload_progress_bar").style.width="0%",b.getElementById("RAON_K_UP_total_upload_percent").innerHTML=
""}catch(e){}},reset:function(b){b=KUPLOADTOP.RAONKUPLOAD.util._setRaonKUploader(b);var e=b.frameWin;e.uploaders=[];e.TOTALFILELISTSIZE=0;e.TOTALFILELISTNUM=0;e.UPLOADIDX=0;e.TOTALUPLOADNUM=0;e.upload_complete_count=0;e.PREVIOUSUPLOADEDSIZE=0;e.TOTALUPLOADSIZE=0;e.calcTotalSize();try{var c=getDialogDocument();c.getElementById("RAON_K_UP_current_upload_file_name").innerHTML="";c.getElementById("RAON_K_UP_total_upload_progress_bar").style.width="0%";c.getElementById("RAON_K_UP_total_upload_percent").innerHTML=
""}catch(a){}e.RESULTFILELIST=[];e.FOLDERLISTINFO=[];e.calcTotalSize();e.displayTotalSizeAndNum();try{e.document.getElementById("file_list").innerHTML="","upload"==b._config.mode?e.document.getElementById("file_temp").style.display="":e.displayViewMessage(!0)}catch(f){}if("0"!=b._config.useKManager||"html4"!=b._config.userRunTimeMode||"upload"!=b._config.mode)e.document.getElementById("total_size").innerHTML="0 byte";if("0"==b._config.useKManager&&-1<b._config.userRunTimeMode.indexOf("html5")){if(c=
document.getElementById("file_"+b.TagID))c.value="",e=c.outerHTML,b._config.multiFileSelect&&0>e.indexOf("multiple=")&&(e=e.replace('type="file"','type="file" multiple="true" ')),c.outerHTML=e}else if("0"==b._config.useKManager&&"html4"==b._config.userRunTimeMode&&(b=document.getElementById("files_container")))for(c=b.childNodes.length,e=0;e<c;e++)e!=c-1&&b.removeChild(b.childNodes[0])},cancel:function(){PREVIOUSUPLOADEDSIZE=0;uploaders=[];upload_complete_count=TOTALUPLOADNUM=TOTALUPLOADSIZE=UPLOADIDX=
0;calcTotalSize();displayTotalSizeAndNum();var b=getDialogDocument();try{b.getElementById("RAON_K_UP_current_upload_file_name").innerHTML="",b.getElementById("RAON_K_UP_total_upload_progress_bar").style.width="0%",b.getElementById("RAON_K_UP_total_upload_percent").innerHTML=""}catch(e){}KUPLOADTOP.G_CURRKUPLOADER.xhr_onprogress&&KUPLOADTOP.G_CURRKUPLOADER.xhr_onprogress.abort()},start:function(b,e){var c=this;c.____.l=_L__.DE(_7_);for(var a=[],f=0,g=b.pluginToolExArr.length;f<g;f++)a.push(b.pluginToolExArr[f]);
var k=a.length,l=0,n=function(){loadPluginJs(b,a[l],function(){l++;l<k?n():q(b,e)})},q=function(a,b){var e=function(c){var b=c._config;""!=b.customHeaderColor&&(G_StrCustomHeaderColor=" background:"+b.customHeaderColor,G_StrCustomHeaderColor2=" border-bottom-color:"+b.customHeaderColor);""!=b.customFooterColor&&(G_StrCustomFooterColor=" color:"+b.customFooterColor);""!=b.customProgressBarColor&&(G_StrCustomProgressBarColor=" background:"+b.customProgressBarColor);G_StrCustomProgressBarColor2=" border-color:"+
b.customProgressBarColor;""!=b.customTextColor&&(G_StrCustomTextColor=" color:"+b.customTextColor);var a=getDialogDocument(),e=a.getElementById("RAON_K_UP_ly_wrapper");e&&e.parentNode.removeChild(e);(e=a.getElementById("RAON_K_UP_Popup_Mode"))&&e.parentNode.removeChild(e);(a=a.getElementById("raonkupload_context_menu_"+c.ID))&&a.parentNode.removeChild(a);var a=parseInt(b.height),f=getHeaderBarHeight(b),e=Math.floor((f-12)/2),f=f-e,e=e-4+"px",f=f+4+"px";-1<b.height.indexOf("%")&&(a=KUPLOADTOP.RAONKUPLOAD.util.getClientRect(KUPLOADTOP.KUPLOADDOC.getElementById("raonkuploader_holder_"+
c.ID)),a=a.bottom-a.top);setFileListHeight(a,b,c);a="";-1<b.userRunTimeMode.indexOf("html5")&&1>b.imageQuality.quality&&(a+='<canvas id="imageCanvas" style="display:none;"/></canvas>');var g=KUPLOADTOP.RAONKUPLOAD.util.getDefaultIframeSrc(),a=a+('<iframe id="download_frame" name="download_frame" frameborder="0" style="display:none;" src="'+g+'" title="RAONKUpload Download"></iframe>')+('<div id="RAON_K_UP_wrapper" class="RAON_K_UP_file_upload_'+b.skinName+'" style="width:100%"'),a=a+' onselectstart="return false"',
a=a+">";if("top"==b.buttonBarPosition){var k=b.userMessage.edit,l=b.userMessage.view;if("upload"!=b.mode){k=b.showButtonBarView.length;g="";0==k&&(g+="display: none;");a+='<div id="RAON_K_UP_uploadbox_btm" style="'+g+G_StrCustomHeaderColor+'" class="RAON_K_UP_uploadbox_btm2">';a="left"==b.showViewAlign?a+'<ul class="RAON_K_UP_uploadbox_left">':"right"==b.showViewAlign?a+'<ul class="RAON_K_UP_uploadbox_right">':a+"<ul>";a+='<li class="fbutton">';for(g=0;g<k;g++)a+=getHtmlForBtnNameView(b.showButtonBarView[g],
c);a+="</li>";a+="</ul>";"left"==b.showViewAlign&&""!=b.userMessage.view&&(a+='<div class="RAON_K_UP_user_message_rt" id="RAON_K_UP_usermessage" title="'+l+'">'+l+"</div>");"right"==b.showViewAlign&&""!=b.userMessage.view&&(a+='<div class="RAON_K_UP_user_message_lt" id="RAON_K_UP_usermessage" title="'+l+'">'+l+"</div>")}else{l=b.showButtonBarEdit.length;g="";0==l&&(g+="display:none;");a+='<div id="RAON_K_UP_uploadbox_btm" style="'+g+G_StrCustomHeaderColor+'" class="RAON_K_UP_uploadbox_btm2">';a="left"==
b.showEditAlign?a+'<ul class="RAON_K_UP_uploadbox_left">':"right"==b.showEditAlign?a+'<ul class="RAON_K_UP_uploadbox_right">':a+"<ul>";a+='<li class="fbutton">';for(g=0;g<l;g++)a+=getHtmlForBtnNameEdit(b.showButtonBarEdit[g],c);a+="</li>";a+="</ul>";"left"==b.showEditAlign&&""!=b.userMessage.edit&&(a+='<div class="RAON_K_UP_user_message_rt" id="RAON_K_UP_usermessage" title="'+k+'">'+k+"</div>");"right"==b.showEditAlign&&""!=b.userMessage.edit&&(a+='<div class="RAON_K_UP_user_message_lt" id="RAON_K_UP_usermessage" title="'+
k+'">'+k+"</div>")}a+="</div>"}a+='<div id="RAON_K_UP_content">';a+='<div class="RAON_K_UP_uploadbox">';a+='<div class="RAON_K_UP_uploadbox_tit"';"0"==b.showHeaderBar&&(a+=' style="display:none;" ');a+=">";g="";g=G_StrCustomHeaderColor;""!==g&&(g+="; "+G_StrCustomFooterColor);a+='<ul style="'+g+'">';g="";g="1"==b.downloadHybridApp?g+"display:none;":g+"display:block;";a+='<li style="height:'+f+"; padding-top:"+e+";"+g+'" class="input_chk"';g="";"0"==b.showCheckBox&&(g="visibility:hidden;");var a=a+
">",a=a+('<input style="'+g+'" type="checkbox" id="chk_all_box" name="" title="'+RAONKUpload_Lang.select_all+'" />'),a=a+"<em></em>",a=a+('<label id="chk_all_box_label" for="chk_all_box" class="blind">'+RAONKUpload_Lang.select_all+"</label>"),a=a+"</li>",n="",n="1"==b.downloadHybridApp?n+"margin-left:10px;":n+"margin-left:0;padding-left:35px",k="",k="0"==b.sizeColumnWidth?k+"display:none;":k+"display:block;",l="",l="0"==b.sort_ascdesc?l+"icon_up":l+"icon_down",p="";"1"==b.use_file_sort&&(p="cursor:pointer");
for(var q=b.headerBarItem.length,t=0,u="0",w=-1,w=b.headerBarItemFileNameOrder>b.headerBarItemFileSizeOrder?b.headerBarItemFileNameOrder-2:b.headerBarItemFileSizeOrder-2,g=0;g<q;g++)""==b.headerBarItemWidth[g]?b.headerBarItemWidth[g]="80px":"0px"==b.headerBarItemWidth[g]?b.headerBarItemWidth[g]="80px":b.headerBarItemWidth[g]||b.headerBarItemWidth.push("80px"),u+=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(b.headerBarItemWidth[g]),u++,g<w||(t+=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(b.headerBarItemWidth[g]),
t++);var x="95%",g=parseInt(b.width);-1<b.width.indexOf("%")&&(g=KUPLOADTOP.RAONKUPLOAD.util.getClientRect(KUPLOADTOP.KUPLOADDOC.getElementById("raonkuploader_holder_"+c.ID)),g=g.right-g.left);x="0"!=b.sizeColumnWidth?g-u-125:g-u;x+="px";w="";w="1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"detail"==KUPLOADTOP.G_CURRKUPLOADER._config.views?RAONKUpload_Lang.file_path:RAONKUpload_Lang.file_name;if(b.headerBarItem&&0<b.headerBarItem.length){var r=0;if(1==b.headerBarItemFileNameOrder&&2==b.headerBarItemFileSizeOrder)a+=
'<li id="header_bar_file_name" style="'+p+"; height:"+f+"; padding-top:"+e+";"+n+'" class="fname"',a+=">"+w+'<span style="display:none;width:'+x+';" class="btn_sort"><em class='+l+"></em></span></li>",a+='<li id="header_bar_file_size" style="'+p+";right:"+t+"px; height:"+f+"; padding-top:"+e+";"+k+'" class="fsize">'+RAONKUpload_Lang.file_size+'<span style="display:none;" class="btn_sort"><em class='+l+"></em></span></li>";else if(2==b.headerBarItemFileNameOrder&&1==b.headerBarItemFileSizeOrder)a+=
'<li id="header_bar_file_size" style="'+p+";width:74px; height:"+f+"; padding-top:"+e+";"+n+'" class="fsize_b"',a+=">"+RAONKUpload_Lang.file_size+'<span style="display:none;width:150px;" class="btn_sort"><em class='+l+"></em></span></li>",a+='<li id="header_bar_file_name" style="'+p+";width:"+(g-159-t)+"px; right:"+(t+1)+"px; height:"+f+"; padding-top:"+e+";"+k+'" class="fname_b">&nbsp;&nbsp;'+w+'<span style="display:none;" class="btn_sort"><em class='+l+"></em></span></li>";else if(b.headerBarItemFileNameOrder<
b.headerBarItemFileSizeOrder){if(1==b.headerBarItemFileNameOrder)a+='<li id="header_bar_file_name" style="'+p+"; height:"+f+"; padding-top:"+e+";"+n+'" class="fname"',a+=">"+w+'<span style="display:none;width:'+x+';" class="btn_sort"><em class='+l+"></em></span></li>";else{n="";n="1"==b.downloadHybridApp?n+"margin-left:10px;":n+"margin-left:0;padding-left:24px";a+='<li class="user_header_box_b" style="'+p+";height:"+f+";padding-top:"+e+";"+n+'">';b.headerBarItemWidth[0]&&(a+='<span id="user_header_bar_0" class="user_header_bar_lst" style="letter-spacing:0;width: '+
b.headerBarItemWidth[0]+";height:"+f+';">'+b.headerBarItem[0]+'<span style="display:none;width:'+b.headerBarItemWidth[0]+'" class="btn_sort btn_sort2"><em class='+l+"></em></span></span>");a+="</li>";r+=1;u=g-159-u;"0"==b.sizeColumnWidth&&(u+=100);for(var v=b.headerBarItemFileNameOrder-2,g=0+r;g<v+r;g++){n="0"==b.sizeColumnWidth?31-g+u+r+q:131-g+u+r+q;for(x=g+1;x<q;x++)n+=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(b.headerBarItemWidth[x]);a+='<li class="user_header_box" style="'+p+";right:"+n+'px;">';
b.headerBarItemWidth[g]&&(a+='<span id="user_header_bar_'+g+'" class="user_header_bar_lst" style="letter-spacing:0;width: '+b.headerBarItemWidth[g]+";height:"+f+"; padding-top:"+e+';">'+b.headerBarItem[g]+'<span style="display:none;width:'+b.headerBarItemWidth[g]+'" class="btn_sort btn_sort2"><em class='+l+"></em></span></span>");a+="</li>"}r+=v;n="0"==b.sizeColumnWidth?0-v+q:100-v+q;for(g=0+r;g<q;g++)n+=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(b.headerBarItemWidth[g]);a+='<li id="header_bar_file_name" style="'+
p+";width:"+u+"px; right:"+n+"px; height:"+f+"; padding-top:"+e+';" class="fname_b">&nbsp;&nbsp;'+w+'<span style="display:none;" class="btn_sort"><em class='+l+"></em></span></li>"}v=b.headerBarItemFileSizeOrder-b.headerBarItemFileNameOrder-1;for(g=0+r;g<v+r;g++){n="0"==b.sizeColumnWidth?16-g+q:116-g+q;for(x=g+1;x<q;x++)n+=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(b.headerBarItemWidth[x]);a+='<li class="user_header_box" style="'+p+";right:"+n+'px;">';b.headerBarItemWidth[g]&&(a+='<span id="user_header_bar_'+
g+'" class="user_header_bar_lst" style="letter-spacing:0;width: '+b.headerBarItemWidth[g]+";height:"+f+"; padding-top:"+e+';">'+b.headerBarItem[g]+'<span style="display:none;width:'+b.headerBarItemWidth[g]+'" class="btn_sort btn_sort2"><em class='+l+"></em></span></span>");a+="</li>"}r+=v;a+='<li id="header_bar_file_size" style="'+p+";right:"+t+"px; height:"+f+"; padding-top:"+e+";"+k+'" class="fsize">'+RAONKUpload_Lang.file_size+'<span style="display:none;" class="btn_sort"><em class='+l+"></em></span></li>"}else{u=
g-159-u;if("1"==b.headerBarItemFileSizeOrder)a+='<li id="header_bar_file_size" style="'+p+";width:74px; height:"+f+"; padding-top:"+e+";"+n+'" class="fsize_b"',a+=">"+RAONKUpload_Lang.file_size+'<span style="display:none;width:150px;" class="btn_sort"><em class='+l+"></em></span></li>";else{n="";n="1"==b.downloadHybridApp?n+"margin-left:10px;":n+"margin-left:0;padding-left:24px";a+='<li class="user_header_box_b" style="'+p+";height:"+f+";padding-top:"+e+";"+n+'">';b.headerBarItemWidth[0]&&(a+='<span id="user_header_bar_0" class="user_header_bar_lst" style="letter-spacing:0;width: '+
b.headerBarItemWidth[0]+";height:"+f+';">'+b.headerBarItem[0]+'<span style="display:none;width:'+b.headerBarItemWidth[0]+'" class="btn_sort btn_sort2"><em class='+l+"></em></span></span>");a+="</li>";r+=1;v=b.headerBarItemFileSizeOrder-2;for(g=0+r;g<v+r;g++){n=132-g+u+q;for(x=g+1;x<q;x++)n+=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(b.headerBarItemWidth[x]);a+='<li class="user_header_box" style="'+p+";right:"+n+'px;">';b.headerBarItemWidth[g]&&(a+='<span id="user_header_bar_'+g+'" class="user_header_bar_lst" style="letter-spacing:0;width: '+
b.headerBarItemWidth[g]+";height:"+f+"; padding-top:"+e+';">'+b.headerBarItem[g]+'<span style="display:none;width:'+b.headerBarItemWidth[g]+'" class="btn_sort btn_sort2"><em class='+l+"></em></span></span>");a+="</li>"}r+=v;n=u+15-v+q;for(g=0+r;g<q;g++)n+=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(b.headerBarItemWidth[g]);a+='<li id="header_bar_file_size" style="'+p+";right:"+n+"px; height:"+f+"; padding-top:"+e+";"+k+'" class="fsize">'+RAONKUpload_Lang.file_size+'<span style="display:none;" class="btn_sort"><em class='+
l+"></em></span></li>"}v=b.headerBarItemFileNameOrder-b.headerBarItemFileSizeOrder-1;for(g=0+r;g<v+r;g++){n=32-g+u+q;for(x=g+1;x<q;x++)n+=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(b.headerBarItemWidth[x]);a+='<li class="user_header_box" style="'+p+";right:"+n+'px;">';b.headerBarItemWidth[g]&&(a+='<span id="user_header_bar_'+g+'" class="user_header_bar_lst" style="letter-spacing:0;width: '+b.headerBarItemWidth[g]+";height:"+f+"; padding-top:"+e+';">'+b.headerBarItem[g]+'<span style="display:none;width:'+
b.headerBarItemWidth[g]+'" class="btn_sort btn_sort2"><em class='+l+"></em></span></span>");a+="</li>"}r+=v;a+='<li id="header_bar_file_name" style="'+p+";width:"+u+"px; right:"+(t+1)+"px; height:"+f+"; padding-top:"+e+';" class="fname_b">&nbsp;&nbsp;'+w+'<span style="display:none;" class="btn_sort"><em class='+l+"></em></span></li>"}if(r<q){a+='<li class="user_header_box" style="'+p+'">';for(g=0+r;g<q;g++)b.headerBarItemWidth[g]&&(a+='<span id="user_header_bar_'+g+'" class="user_header_bar_lst" style="letter-spacing:0;width: '+
b.headerBarItemWidth[g]+";height:"+f+"; padding-top:"+e+';">'+b.headerBarItem[g]+'<span style="display:none;width:'+b.headerBarItemWidth[g]+'" class="btn_sort btn_sort2"><em class='+l+"></em></span></span>");a+="</li>"}else a+='<li class="user_header_box" style="display:none"></li>'}else 2==b.headerBarItemFileNameOrder&&1==b.headerBarItemFileSizeOrder?(a+='<li id="header_bar_file_size" style="'+p+";width:74px; height:"+f+"; padding-top:"+e+";"+n+'" class="fsize_b"',a+=">"+RAONKUpload_Lang.file_size+
'<span style="display:none;width:150px;" class="btn_sort"><em class='+l+"></em></span></li>",a+='<li id="header_bar_file_name" style="'+p+";width:"+(g-159)+"px; right:1px; height:"+f+"; padding-top:"+e+";"+k+'" class="fname_b">&nbsp;&nbsp;'+w+'<span style="display:none;" class="btn_sort"><em class='+l+"></em></span></li>"):(a+='<li id="header_bar_file_name" style="'+p+"; height:"+f+"; padding-top:"+e+";"+n+'" class="fname"',a+=">"+w+'<span style="display:none;width:'+x+';" class="btn_sort"><em class='+
l+"></em></span></li>",a+='<li id="header_bar_file_size" style="'+p+";right:"+t+"px; height:"+f+"; padding-top:"+e+";"+k+'" class="fsize">'+RAONKUpload_Lang.file_size+'<span style="display:none;" class="btn_sort"><em class='+l+"></em></span></li>"),a+='<li class="user_header_box" style="display:none"></li>';a+='<li id="header_bar_rt" class="header_rt_type">&nbsp;</li>';a+="</ul>";a+="</div>";e="";b.initVisible||(e=' style="overflow:visible;"');a+='<div class="RAON_K_UP_uploadbox_sec" id="RAON_K_UP_PL_holder"'+
e+">";a+='<div id="RAON_K_UP_Load" class="RAON_K_UP_file_load_box" style="display:none;">';a+='<div class="RAON_K_UP_file_load">';"1"==b.pluginInstallComment&&(a+=RAONKUpload_Lang.plugin_install_guide.comment);a+="</div>";a+='<span class="RAON_K_UP_file_loadty"><img src="'+b.webPath.image+'loading.gif" alt="loading image" /></span>';a+="</div>";1>b.imageQuality.quality&&(a+='<div id="RAON_K_UP_Image_processing" class="RAON_K_UP_file_load_box" style="display:none;">',a+='<div class="RAON_K_UP_file_load">',
a+="</div>",a+='<span class="RAON_K_UP_file_text">Processing image...(<span id="quality_processing">0%</span>)</span>',a+="</div>");e="";e="0"==b.useKManager&&"html4"==b.userRunTimeMode&&"1"!=b.hideListInfo||1==KUPLOADTOP.RAONKUPLOAD.browser.mobile?RAONKUpload_Lang.message_insert_file:"1"==b.hideListInfo?"":"1"==b.listViewDbclick&&"1"==b.listViewDragAndDrop?RAONKUpload_Lang.message_drag_dbclick:"1"==b.listViewDbclick?RAONKUpload_Lang.message_dbclick:"1"==b.listViewDragAndDrop?RAONKUpload_Lang.message_drag_drop:
RAONKUpload_Lang.message_insert_file;f="";if("upload"!=b.mode||"1"==b.hideListInfo)f=' style="display:none;';g="";g=90>=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(c.fileListHeight)?""!=f?g+'background-image:none;margin-top:-3px;" ':'style="background-image:none;margin-top:-3px;" ':"";f+=g;""!=f&&""==g&&(f+='"');a+='<p id="file_temp" unselectable="on" class="txt"'+f+">"+e+"</p>";e='style="display:none;"';f="";""!=b.emptyDownloadFileText&&("upload"!=b.mode&&(e=""),f="<span>"+b.emptyDownloadFileText+"</span>",
""!=b.emptyDownloadFileTextColor&&(f=f.replace("<span>",'<span style="color:'+b.emptyDownloadFileTextColor+';">')),"1"==b.emptyDownloadFileTextBold&&(f="<b>"+f+"</b>"),"1"==b.emptyDownloadFileTextItalic&&(f="<i>"+f+"</i>"),"1"==b.emptyDownloadFileTextUnderline&&(f="<u>"+f+"</u>"),"1"==b.emptyDownloadFileTextStrike&&(f="<s>"+f+"</s>"),a+='<p id="file_temp_view" class="txt_2" '+e+">"+f+"</p>");e="overflow-y: scroll;";"1"==b.useVirtualList&&(e="overflow: hidden;");a+='<div id="RAON_K_UP_file_temp" class="RAON_K_UP_uploadbox_txt" style="position:relative; '+
e+" height:"+c.fileListHeight+'px">';a="thumbs"==b.views?a+'<ol id="file_list" class="lst_line_none olthumblst_sec"></ol>':"1"==b.useVirtualList?a+('<ol id="file_list" class="lst_line_'+b.uploadBorderStyle+'" style="position: relative; overflow-y: scroll; height:'+(c.fileListHeight+1)+'px;"></ol>'):a+('<ol id="file_list" class="lst_line_'+b.uploadBorderStyle+'"></ol>');a+="</div>";a+="</div>";a+='<div class="RAON_K_UP_info_area"';"0"==b.showStatusBar&&(a+=' style="display:none;" ');a+=">";a+="<ul>";
e="";"0"==b.statusBarShowLimit&&(e+="display: none;");a+='<li id="basic_file_info" class="basic_file_info" style="'+e+'">';if("upload"==b.mode){if("0"==b.useKManager&&"html4"==b.userRunTimeMode)0<b.maxTotalFileCount&&(a+=RAONKUpload_Lang.file_maximum+" ");else if(0<b.maxTotalFileCount||0<b.maxTotalFileSize)a+=RAONKUpload_Lang.file_maximum+" ";0<b.maxTotalFileCount&&(a+="<span>"+b.maxTotalFileCount+"</span> "+RAONKUpload_Lang.file_unit+" ");if("0"!=b.useKManager||"html4"!=b.userRunTimeMode)0<b.maxTotalFileSize?
(e=RAONKUpload_Lang.file_maximum_limit,e=e.replace("{0}","<span>"+KUPLOADTOP.RAONKUPLOAD.util.bytesToSize(b.maxTotalFileSize).toString+"</span>"),a+=e):a+=RAONKUpload_Lang.file_no_limit}a+="</li>";e="";"0"==b.statusBarShowStatus&&(e+="display: none;");a+='<li class="contents_file_info" id="current_file_info" style="'+e+'">';a+='<span id="total_num">0</span> '+RAONKUpload_Lang.file_unit;if("0"!=b.useKManager||"html4"!=b.userRunTimeMode||"upload"!=b.mode)a+=', <span id="total_size">0 byte</span> ';
a+=' <span id="file_inserted_text">';"upload"==b.mode&&(a+=RAONKUpload_Lang.file_inserted);a+="</span>";a+="</li>";a+="</ul>";a+="</div>";a+="</div>";a+="</div>";e="";""!=b.extension.mimeAccept&&(e='accept="'+b.extension.mimeAccept+'"');"1"==b.mobileSelectImage&&(e='accept="image/*"');f="";"0"==b.useKManager&&-1<b.userRunTimeMode.indexOf("html5")&&(b.multiFileSelect&&(f='multiple="true"'),a+='<div style="position:absolute; top:-1000px; left:-1000px; display:none;">',a+='<label id="file_label_'+c.TagID+
'" for="file_'+c.TagID+'">file</label>',a+='<input type="file" id="file_'+c.TagID+'" onchange="fileHandler(this.files, this.value);" '+e+" "+f+' tabIndex = "-1" title = "file" />',a+="</div>");if("top"!=b.buttonBarPosition){k=b.userMessage.edit;l=b.userMessage.view;if("upload"!=b.mode){k=b.showButtonBarView.length;g="";0==k&&(g+="display: none;");a+='<div id="RAON_K_UP_uploadbox_btm" style="'+g+G_StrCustomHeaderColor+'" class="RAON_K_UP_uploadbox_btm">';a="left"==b.showViewAlign?a+'<ul class="RAON_K_UP_uploadbox_left">':
"right"==b.showViewAlign?a+'<ul class="RAON_K_UP_uploadbox_right">':a+"<ul>";a+='<li class="fbutton">';for(g=0;g<k;g++)a+=getHtmlForBtnNameView(b.showButtonBarView[g],c);a+="</li>";a+="</ul>";"left"==b.showViewAlign&&""!=b.userMessage.view&&(a+='<div class="RAON_K_UP_user_message_rb" id="RAON_K_UP_usermessage" title="'+l+'">'+l+"</div>");"right"==b.showViewAlign&&""!=b.userMessage.view&&(a+='<div class="RAON_K_UP_user_message_lb" id="RAON_K_UP_usermessage" title="'+l+'">'+l+"</div>")}else{l=b.showButtonBarEdit.length;
g="";0==l&&(g+="display:none;");a+='<div id="RAON_K_UP_uploadbox_btm" style="'+g+G_StrCustomHeaderColor+'" class="RAON_K_UP_uploadbox_btm">';a="left"==b.showEditAlign?a+'<ul class="RAON_K_UP_uploadbox_left">':"right"==b.showEditAlign?a+'<ul class="RAON_K_UP_uploadbox_right">':a+"<ul>";a+='<li class="fbutton">';for(g=0;g<l;g++)a+=getHtmlForBtnNameEdit(b.showButtonBarEdit[g],c);a+="</li>";a+="</ul>";"left"==b.showEditAlign&&""!=b.userMessage.edit&&(a+='<div class="RAON_K_UP_user_message_rb" id="RAON_K_UP_usermessage" title="'+
k+'">'+k+"</div>");"right"==b.showEditAlign&&""!=b.userMessage.edit&&(a+='<div class="RAON_K_UP_user_message_lb" id="RAON_K_UP_usermessage" title="'+k+'">'+k+"</div>")}a+="</div>"}a+="</div>";"1"!=b.useKManager&&(a+=makeTransferHTML(c));"1"==b.imgPreView&&(a+=makeImgPreViewHTML(c));document.body.innerHTML=a;setViewMessagePosition();if("1"==b.pluginInstallComment&&(a=document.getElementById("RAON_K_UP_Load").firstChild.getElementsByTagName("a"))&&0<a.length)for(e=a.length,f="",f=b.pluginInstallUrl?
b.pluginInstallUrl:b.webPath.plugin+b.pluginInstallFileName,g=0;g<e;g++)a[g].href=f;var C=document.getElementById("RAON_K_UP_uploadbox_btm"),B=C.getElementsByTagName("button"),y=10;setTimeout(function(){for(var a=0;a<B.length;a++)y=y+parseInt(B[a].offsetWidth,10)+8;(a=document.getElementById("files_container"))&&(y=y+parseInt(a.offsetWidth,10)+8);if(a=document.getElementById("RAON_K_UP_usermessage")){var b;-1<c._config.width.indexOf("%")?(b=KUPLOADTOP.RAONKUPLOAD.util.getClientRect(C),b=b.right-b.left):
b=parseInt(c._config.width,10);try{y=b-y,a.style.width=y+"px"}catch(e){}}},1);setPage(c);c._config.useServerLicense?KUPLOADTOP.RAONKUPLOAD.util.checkServerLicense(c._config,c):"0"==c._config.useKManager&&setTimeout(_fn_0,2E3)};try{c.____.l=c.____.l.split("\x0B"),_0_=c.____.l,_1_=c.____.p}catch(f){}if(a.alertToEvent&&"1"==a.alertToEvent){var g=window.alert;window.alert=function(a,b){var c=KUPLOADTOP.G_CURRKUPLOADER;1==b||null==c||"1"!=c._config.alertToEvent||"function"!==typeof KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_Alert&&
"function"!=typeof c._config.event.alert?g(a):"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.alert?KUPLOADTOP.G_CURRKUPLOADER._config.event.alert(c.ID,a):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_Alert(c.ID,a)}}if("1"!=a.useKManager)e(b);else{var k;k=""+('<div id="RAON_K_UP_Load" class="RAON_K_UP_file_load_box" style="width:'+a.width+"; height:"+a.height+';">');k=k+'<div class="RAON_K_UP_file_load"></div>'+('<span class="RAON_K_UP_file_loadty2"><img src="'+a.webPath.image+'loading2.gif" alt="loading image" /></span>');
k+="</div>";k+='<iframe id="download_frame" name="download_frame" style="display:none;" title="RAONKUpload Download"></iframe>';k+='<div id="RAON_K_UP_Updating" class="RAON_K_UP_file_load_box" style="width:'+a.width+"; height:"+a.height+'; display:none;">';k+='<div class="RAON_K_UP_file_load"></div>';k+='<span class="RAON_K_UP_file_loadty2"><img src="'+a.webPath.image+'update.gif" alt="loading image" /></span>';k+="</div>";document.body.innerHTML=k;var l=function(a){try{a.stopPropagation(),a.preventDefault()}catch(b){KUPLOADTOP.RAONKUPLOAD.util.cancelEvent(a)}};
KUPLOADTOP.RAONKUPLOAD.util.addEvent(document.body,"dragenter",l);KUPLOADTOP.RAONKUPLOAD.util.addEvent(document.body,"dragover",l);KUPLOADTOP.RAONKUPLOAD.util.addEvent(document.body,"drop",l);deleteDummyCookie();k=null;try{var n=KUPLOADTOP.RAONKUPLOAD.ajax.load(a.agentInstallFolderUrl+"kversion.js?t="+KUPLOADTOP.RAONKUPLOAD.util.getTimeStamp(),!1,a.addHttpHeader),n=n.replace(/\r\n/gi,""),n=n.replace(/\r/gi,""),n=n.replace(/\n/gi,""),q=n.indexOf("{"),A=n.indexOf("}"),n=n.substring(q,A+1);k=JSON.parse(n)}catch(G){}n=
"";k&&(n="",q=KUPLOADTOP.RAONKUPLOAD.UserAgent.os.name.toLowerCase(),"fedora"!=q&&"ubuntu"!=q&&"linux"!=q||!k.linux?-1<q.indexOf("mac")&&k.mac?(n=k.mac,b.isMultiOsAgentModule=!0):k.agent&&k.upload&&(n=k.agent):(n=k.linux,b.isMultiOsAgentModule=!0),n=n+KUPLOADTOP.RAONKSolution.Agent.formfeed+k.upload);q=[["kcmd","KC00"]];q.push(["k00",{browser:KUPLOADTOP.RAONKUPLOAD.UserAgent.browser.name.toLowerCase(),useragent:encodeURIComponent(KUPLOADTOP.navigator.userAgent)}]);q.push(["k01",a.useServerLicense?
a.productKey.replace(/_/g,"-"):a.productKey]);A=a.licenseKey;0>KUPLOADTOP.RAONKUPLOAD.UserAgent.os.name.toLowerCase().indexOf("windows")&&b.isMultiOsAgentModule&&(A=a.licenseKeyHtml5);q.push(["k02",A.replace(/[+]/g,"%2B")]);q.push(["k03",encodeURIComponent(a.agentInstallFolderUrl+"kversion.js")]);var A=_0_[3],E=___,A=A.split(",");if(1==A.length&&__0_(A[0])||a.useServerLicense)E="http://localhost";0==E.indexOf("file://")&&(-1==a.configUrl.indexOf("file://")?E=a.configUrl:-1==a.handlerUrl.indexOf("file://")&&
(E=a.handlerUrl));q.push(["k04",encodeURIComponent(E)]);q.push(["k05",KUPLOADTOP.RAONKUPLOAD.ReleaseVer]);q.push(["k06","upload"]);""!=a.trustSites&&q.push(["k07",encodeURIComponent(a.trustSites)]);""!=a.agentTempRootDirectory&&q.push(["k08",encodeURIComponent(a.agentTempRootDirectory)]);q.push(["k09",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.agentEventInterval)]);q.push(["k10",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.folderSelectDialogType)]);q.push(["k16",a.managerLang]);q.push(["k17",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.useScriptEventControl)]);
q.push(["k24",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.highSpeed)]);q.push(["k31",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.agentMultiTransferCount)]);""!=a.NTLM&&(b.tempHttpHeaderObj.Authorization=a.NTLM);var A=a.customHeaderColor,E=a.customFooterColor,D=a.customProgressBarColor,B=a.customTextColor;""==A&&""==E&&""==D&&""==B&&(B=getManagerColorValue(a.skinName),A=B.c1,E=B.c2,D=B.c3,B=B.c4);q.push(["k35",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.skipInternetState)]);q.push(["k37",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.showTrayIcon)]);
q.push(["k50",{cr1:A,cr2:E,cr3:D,cr4:B}]);A=!1;E={};"1"==KUPLOADTOP.G_CURRKUPLOADER._config.disableLastNotify&&(E.disablelastnotify=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.disableLastNotify),A=!0);null!=a.cloudInfo&&"1"==a.cloudInfo.Use&&(E.usecloud=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.cloudInfo.Use),A=!0);A&&q.push(["k68",E]);q.push(["k71",getHttpHeaderAgentData(b)]);q.push(["k72",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.enableAgentShortcut)]);A=a.extendFunction.length;if(0<A){E="";for(D=
0;D<A;D++)"raonk.patent.dll"==a.extendFunction[D].name&&KUPLOADTOP.RAONKUPLOAD.browser.ie&&10>KUPLOADTOP.RAONKUPLOAD.browser.ieVersion&&(E+=a.extendFunction[D].name+KUPLOADTOP.RAONKSolution.Agent.formfeed+a.extendFunction[D].version+KUPLOADTOP.RAONKSolution.Agent.formfeed+a.extendFunction[D].id+KUPLOADTOP.RAONKSolution.Agent.vertical);E&&(E=E.substring(0,E.length-1),q.push(["k77",encodeURIComponent(E)]))}"1"==a.multipleAccessCheck.use&&(A=a.multipleAccessCheck.excludeCI,""!=A&&(A=A.replace(/ /g,""),
A=A.replace(/,/g,KUPLOADTOP.RAONKSolution.Agent.formfeed)),A={DoubleLoginCheck:1,CallURL:encodeURIComponent(a.multipleAccessCheck.callUrl),CheckInterval:KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.multipleAccessCheck.checkInterval),UnBlockIPs:A},q.push(["k79",A]));q.push(["kp1",encodeURIComponent(n)]);"1"==a.dext5Install&&(k.dext5editor||k.dext5upload)&&q.push(["kp3",1]);"1"==a.localLongPathEnable&&q.push(["kp4",1]);var z=setManagerParam("{}",q),z=KUPLOADTOP.RAONKSolution.Agent.makeEncryptManagerParam(z);
try{k="",k=b._config.agentHttps?"kupload_manager_port2":"kupload_manager_port",KUPLOADTOP.window.localStorage&&KUPLOADTOP.window.localStorage[k]&&5==KUPLOADTOP.window.localStorage[k].length&&(b.managerPort=KUPLOADTOP.window.localStorage[k])}catch(H){}b.checkPortArr=[];""!=b.managerPort?b.checkPortArr.push(b.managerPort):b.checkPortArr=b._config.agentHttps?a.managerHttpsPortArr:a.managerPortArr;b.checkImageArr=[];b.tempCheckImageArr=[];b.startCheckPort=function(c){if(0==c){var e=b.checkPortArr.length;
b.checkImageArr[0]=[];b.checkImageArr[0].push(b.checkPortArr[0]);b.tempCheckImageArr[0]=[];b.tempCheckImageArr[0].push(b.checkPortArr[0]);1<e&&(b.checkImageArr[1]=[],b.checkImageArr[1].push(b.checkPortArr[1]),b.checkImageArr[1].push(b.checkPortArr[3]),b.checkImageArr[2]=[],b.checkImageArr[2].push(b.checkPortArr[2]),b.checkImageArr[2].push(b.checkPortArr[4]),b.tempCheckImageArr[1]=[],b.tempCheckImageArr[1].push(b.checkPortArr[1]),b.tempCheckImageArr[1].push(b.checkPortArr[3]),b.tempCheckImageArr[2]=
[],b.tempCheckImageArr[2].push(b.checkPortArr[2]),b.tempCheckImageArr[2].push(b.checkPortArr[4]))}e=b.checkImageArr[c].length;b.agentInstallCheckImgArr=[];for(var f=0;f<e;f++){var g=new Image;g.style.display="none";g.onload=function(a){return function(e){b.removeAgentInstallCheckImg(b.agentInstallCheckImgArr);KUPLOADTOP.RAONKSolution.Agent.isOtherUploadWaiting&&1!=b.managerLoadedCheck?setTimeout(function(){b.startCheckPort(c)},500):I(b.checkImageArr[c][a])}}(f);g.onerror=function(e){return function(f){f=
b.checkImageArr[c][e];for(var g=b.tempCheckImageArr[c].length-1;0<=g;g--)b.tempCheckImageArr[c][g]==f&&b.tempCheckImageArr[c].splice(g,1);if(0==b.tempCheckImageArr[c].length){b.removeAgentInstallCheckImg(b.agentInstallCheckImgArr);if(""!=b.managerPort){b.managerPort="";try{f="",f=b._config.agentHttps?"kupload_manager_port2":"kupload_manager_port",KUPLOADTOP.window.localStorage[f]="",KUPLOADTOP.window.localStorage.kupload_multi_user_check=""}catch(k){}}f=b.checkPortArr.length;1<f?2==c&&(startAgentInstall(b),
c=-1,b.checkPortArr=[],b.checkPortArr=b._config.agentHttps?a.managerHttpsPortArr:a.managerPortArr):0==c&&(1<f&&startAgentInstall(b),c=-1,b.checkPortArr=[],b.checkPortArr=b._config.agentHttps?a.managerHttpsPortArr:a.managerPortArr);setTimeout(function(){b.startCheckPort(c+1)},500)}}}(f);b.agentInstallCheckImgArr.push(g);document.body.appendChild(g)}for(f=0;f<e;f++)b.agentInstallCheckImgArr[f]&&(b.agentInstallCheckImgArr[f].src=b.managerUrl+b.checkImageArr[c][f]+"/png.png?t="+KUPLOADTOP.RAONKUPLOAD.util.makeGuid())};
b.removeAgentInstallCheckImg=function(a){for(var b=a.length,c=0;c<b;c++)null!=a[c]&&void 0!=a[c]&&a[c].parentNode.removeChild(a[c]),a[c]=void 0};var F=function(a){var c=KUPLOADTOP.RAONKSolution.Agent.parseRtn(a),f=c.code,c=c.valueArr;if(""==b.managerId)if(9E3==f||9001==f){closeInstallPopup(b);var g={mode:"",macAddress:"",result:""};""==b._config.multipleAccessCheck.callUrl&&(g.macAddress=c[0]?c[0]:"");g.result=9E3==f?!0:!1;try{"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.multipleAccessEvent?
KUPLOADTOP.G_CURRKUPLOADER._config.event.multipleAccessEvent(g):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_MultipleAccessEvent(g)}catch(k){}}else if(1E3==f||2E3==f){2E3==f&&c[0]&&alert(c[0]);var n=function(a,b){var c=a._config.extendFunction.length;if(0<c)for(var g=0;g<c;g++)if("raonk.patent.dll"==a._config.extendFunction[g].name){try{"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.extendFunction?KUPLOADTOP.G_CURRKUPLOADER._config.event.extendFunction(a._config.extendFunction[g].name,a._config.extendFunction[g].id,
a._config.extendFunction[g].version):KUPLOADTOP.RAONKUPLOAD_Extend_Function(a._config.extendFunction[g].name,a._config.extendFunction[g].id,a._config.extendFunction[g].version)}catch(k){}break}KUPLOADTOP.RAONKSolution.Agent.isUpdating&&(KUPLOADTOP.RAONKSolution.Agent.isUpdating=!1);KUPLOADTOP.RAONKSolution.Agent.isOtherUploadWaiting=!1;a.AgentInstallFailCheckTimeout&&(clearTimeout(a.AgentInstallFailCheckTimeout),a.AgentInstallFailCheckTimeout=null);KUPLOADTOP.RAONKSolution.Agent.isLoaded=!0;a.managerId=
b[0];b[3]?a.agentVersion=b[3]:b[1]&&(a.agentVersion=b[1]);b[2]&&(a.dllVersion=b[2]);b[4]&&(a.osDPI=parseInt(b[4],10));c=!0;""==a.agentVersion&&2E3!=f?(c=!1,a.managerId="",startAgentInstall(a),setTimeout(function(){a.agentNewInstall=!0;null==a.newInstallInterval&&(a.newInstallInterval=setInterval(function(){a.agentNewInstall?sendMessageToAgent(z,F,null,!0,KUPLOADTOP.RAONKSolution.managerFinalUrl,a):clearInterval(a.newInstallInterval)},2E3))},500)):"2018012"<=a.agentVersion.replace(/\./g,"")&&(b[3]?
a.agentVersion=b[3]:(c=!1,a.managerId="",startAgentInstall(a),setTimeout(function(){a.agentNewInstall=!0;null==a.newInstallInterval&&(a.newInstallInterval=setInterval(function(){a.agentNewInstall?sendMessageToAgent(z,F,null,!0,KUPLOADTOP.RAONKSolution.managerFinalUrl,a):clearInterval(a.newInstallInterval)},2E3))},500)));c&&(a.agentNewInstall=null,closeInstallPopup(a),a.removeAgentInstallCheckImg=null,a.agentInstallCheckImgArr=null,""==KUPLOADTOP.RAONKSolution.Agent.connectedPort&&(KUPLOADTOP.RAONKSolution.Agent.connectedPort=
a.managerPort),KUPLOADTOP.RAONKSolution.Agent.sendCount--,KUPLOADTOP.RAONKUPLOAD.util.cancelEvent(document.body,"dragenter",l),KUPLOADTOP.RAONKUPLOAD.util.cancelEvent(document.body,"dragover",l),KUPLOADTOP.RAONKUPLOAD.util.cancelEvent(document.body,"drop",l),null!=b[5]&&(a.longPathEnabledRegistry=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(b[5])),e(a))};c[6]&&""!=c[6]&&(b.clientIP=c[6]);if(c[5]&&""!=c[5]){g=b.multiUserConfig=null;try{var g=JSON.parse(c[5]),p=g.MultiUserConfig.length;b.multiUserConfig=
{};for(a=0;a<p;a++)b.multiUserConfig[g.MultiUserConfig[a].name]={http:g.MultiUserConfig[a].http,https:g.MultiUserConfig[a].https,displayName:g.MultiUserConfig[a].name+"("+g.MultiUserConfig[a].id+")"};multiUserPortCheckAsync({currUpload:b,callback:function(){n(b,c)}})}catch(q){b.multiUserConfig=null,n(b,c)}}else n(b,c)}else if(1002==f){if(p=b.frameWin.document.getElementById("RAON_K_UP_Load"))p.style.display="none";if(p=b.frameWin.document.getElementById("RAON_K_UP_Updating"))p.style.display="";KUPLOADTOP.RAONKSolution.Agent.isUpdating=
!0;if(0==b.agentInstallEvent){g=!0;try{p={type:"update"},b.agentInstallEvent=!0,!1===("function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.agentInstall?KUPLOADTOP.G_CURRKUPLOADER._config.event.agentInstall(b.ID,p):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_AgentInstall(b.ID,p))&&(g=!1)}catch(w){}}"1"==b._config.agentInstallFailCheck.use&&startAgentInstallFailCheck(b);0!=g&&setTimeout(function(){b.startCheckPort(0)},500)}else 3E3==f?KUPLOADTOP.RAONKSolution.Agent.isOtherUploadWaiting=!1:7E3==f?(startAgentInstall(b,
{forceInstall:!0}),setTimeout(function(){b.agentNewInstall=!0;null==b.newInstallInterval&&(b.newInstallInterval=setInterval(function(){b.agentNewInstall?sendMessageToAgent(z,F,null,!0,KUPLOADTOP.RAONKSolution.managerFinalUrl,b):clearInterval(b.newInstallInterval)},2E3))},500)):2001==f?sendMessageToAgent(z,F,null,!0,KUPLOADTOP.RAONKSolution.managerFinalUrl,b):alert("Error occurred during create uploader\n"+f+", "+c)},I=function(a){KUPLOADTOP.RAONKSolution.Agent.isOtherUploadWaiting=!0;b.managerLoadedCheck=
!0;b.managerPort=a;KUPLOADTOP.RAONKSolution.managerFinalUrl=b.managerUrl+b.managerPort;try{a="",a=b._config.agentHttps?"kupload_manager_port2":"kupload_manager_port",KUPLOADTOP.window.localStorage[a]=b.managerPort}catch(c){}sendMessageToAgent(z,F,function(){b._config.sendToManagerType="2";sendMessageToAgent(z,F,null,!0,KUPLOADTOP.RAONKSolution.managerFinalUrl,b);b._config.sendToManagerType="1"},!0,KUPLOADTOP.RAONKSolution.managerFinalUrl,b)};if(0==KUPLOADTOP.RAONKSolution.Agent.isCheckingPort)KUPLOADTOP.RAONKSolution.Agent.isCheckingPort=
!0,b.startCheckPort(0);else var J=setInterval(function(){""!=KUPLOADTOP.RAONKSolution.Agent.connectedPort&&(clearInterval(J),I(KUPLOADTOP.RAONKSolution.Agent.connectedPort),KUPLOADTOP.RAONKSolution.Agent.sendCount++)},300)}};0<k?n():q(b,e)},_raonkCommands:function(b,e,c,a){G_LAST_CMD=e;switch(e){case "add_file":selectFile();break;case "add_folder":selectFile(null,!0);break;case "remove_current_file":deleteCurrentFile(a);break;case "remove_selected_file":deleteSelectedFile();break;case "remove_all_file":deleteAllFile();
break;case "open_seleceted_file":openFile();break;case "open_current_file":openCurrFile(a);break;case "download_seleceted_file":downloadFile();break;case "download_current_file":downloadCurrFile(a);break;case "download_all_file":downloadAllFile();break;case "move_first":moveFirstFile();break;case "move_forward":moveForwardFile();break;case "move_backward":moveBackwardFile();break;case "move_end":moveEndFile();break;case "setting":setting();break;case "download_and_open":saveAndOpenEx();break;case "download_and_folder_open":saveAndFolderOpenEx();
break;case "print":printFileEx();break;case "download_zipfile":downloadZipfile();break;case "download_all_zipfile":downloadAllZipfile();break;case "zip_inspector":zipInspector(null,null,a)}},_setLazyLoadFrame:function(b){"0"==KUPLOADTOP.G_CURRKUPLOADER._config.hideContextMenu&&RAONKUPLOAD_CONTEXT._create(b)}};K__+="FA";R[0]="h";SIL[1]="u";K__+="BG";C1[0]="h";C2[0]="h";ALS[0]="R";S1[0]="h";S2[0]="h";
function raonk_frame_loaded_event(b,e,c){_raonk_uploader=new RAONK_Uploader(b,e,c);_raonk_uploader.____.p=e.productKey;_7_=e.licenseKeyHtml5;_raonk_uploader.start(e,_raonk_uploader)}
function setPage(b){var e=document.getElementById("RAON_K_UP_wrapper");"1"==KUPLOADTOP.G_CURRKUPLOADER._config.autoDestroy&&KUPLOADTOP.RAONKUPLOAD.util.addEvent(window,"unload",_uploadiframe_unload);KUPLOADTOP.RAONKUPLOAD.util.addEvent(window,"beforeunload",_uploadiframe_beforeunload);"1"!=KUPLOADTOP.G_CURRKUPLOADER._config.listViewDragAndDrop||"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"html4"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode||KUPLOADTOP.RAONKUPLOAD.browser.mobile||(KUPLOADTOP.RAONKUPLOAD.util.addEvent(e,
"dragenter",dragenter),KUPLOADTOP.RAONKUPLOAD.util.addEvent(e,"dragover",dragover),KUPLOADTOP.RAONKUPLOAD.util.addEvent(e,"drop",drop));if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useDropzone&&("0"!=KUPLOADTOP.G_CURRKUPLOADER._config.useKManager||"html4"!=KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode)&&!KUPLOADTOP.RAONKUPLOAD.browser.mobile)if(KUPLOADTOP.document.querySelectorAll)for(var c=KUPLOADTOP.document.querySelectorAll("[class *= raonkdropzone]"),a=c.length,f=0;f<a;f++)null==c[f].getAttribute("raonk_event")&&
(KUPLOADTOP.RAONKUPLOAD.util.addEvent(c[f],"dragenter",dragenterDropZone),KUPLOADTOP.RAONKUPLOAD.util.addEvent(c[f],"dragleave",dragleaveDropZone),KUPLOADTOP.RAONKUPLOAD.util.addEvent(c[f],"dragover",dragoverDropZone),KUPLOADTOP.RAONKUPLOAD.util.addEvent(c[f],"drop",dropDropZone),c[f].setAttribute("raonk_event","1"));else for(c=KUPLOADTOP.document.getElementsByTagName("*"),a=c.length,f=0;f<a;f++)-1<c[f].className.indexOf("raonkdropzone")&&null==c[f].getAttribute("raonk_event")&&(KUPLOADTOP.RAONKUPLOAD.util.addEvent(c[f],
"dragenter",dragenterDropZone),KUPLOADTOP.RAONKUPLOAD.util.addEvent(c[f],"dragleave",dragleaveDropZone),KUPLOADTOP.RAONKUPLOAD.util.addEvent(c[f],"dragover",dragoverDropZone),KUPLOADTOP.RAONKUPLOAD.util.addEvent(c[f],"drop",dropDropZone),c[f].setAttribute("raonk_event","1"));KUPLOADTOP.RAONKUPLOAD.util.addEvent(e.parentNode,"keydown",_layer_Keydown);KUPLOADTOP.RAONKUPLOAD.util.addEvent(e.parentNode,"keyup",_layer_Keyup);KUPLOADTOP.RAONKUPLOAD.util.addEvent(e.parentNode,"click",_layer_filebtn);KUPLOADTOP.RAONKUPLOAD.util.addEvent(KUPLOADTOP,
"keydown",_top_Keydown);KUPLOADTOP.RAONKUPLOAD.util.addEvent(KUPLOADTOP,"click",_top_filebtn);"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&-1<KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode.indexOf("html5")&&!KUPLOADTOP.RAONKUPLOAD.browser.mobile&&KUPLOADTOP.RAONKUPLOAD.util.addEvent(document.body,"paste",_layer_PasteEvent);if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.use_file_sort){var g=document.getElementById("header_bar_file_name"),k=document.getElementById("header_bar_file_size");KUPLOADTOP.RAONKUPLOAD.util.addEvent(g,
"click",function(){fileListSort("0",g)});KUPLOADTOP.RAONKUPLOAD.util.addEvent(k,"click",function(){fileListSort("1",k)});if(""!=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItem)for(e=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItem.length,f=0;f<e;f++)c=document.getElementById("user_header_bar_"+f),KUPLOADTOP.RAONKUPLOAD.util.addEvent(c,"click",function(a,b){return function(){fileListSort(a,b)}}((2+f).toString(),c))}f=document.getElementById("chk_all_box");KUPLOADTOP.RAONKUPLOAD.util.addEvent(f,"click",
checkAll);f=document.getElementById("RAON_K_UP_close_btn");null!=f&&KUPLOADTOP.RAONKUPLOAD.util.addEvent(f,"click",function(){uploadCancel()});f=document.getElementById("RAON_K_UP_close_btn2");null!=document.getElementById("RAON_K_UP_Popup_Mode")&&KUPLOADTOP.RAONKUPLOAD.util.addEvent(f,"click",function(){closeBtnPreViewMode()});f=document.getElementById("RAON_K_UP_upload_cancel");null!=f&&KUPLOADTOP.RAONKUPLOAD.util.addEvent(f,"click",function(){uploadCancel()});if("1"==b._config.listViewDbclick&&
!KUPLOADTOP.RAONKUPLOAD.browser.mobile&&("0"!=KUPLOADTOP.G_CURRKUPLOADER._config.useKManager||"html4"!=KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode)){f=document.getElementById("file_temp").parentNode;if(null!=f){KUPLOADTOP.RAONKUPLOAD.util.addEvent(f,"dblclick",function(a){var c=a.target?a.target:a.srcElement,e=KUPLOADTOP.RAONKUPLOAD.util.getParentbyTagName(c,"ol");"upload"==b._config.mode&&null!=c.parentNode&&null==e&&"block"!=b.frameWin.document.getElementById("RAON_K_UP_Load").style.display&&
("2"==b._config.folderTransfer?selectFile(a,!0):selectFile(a))});var l=function(a){var b=a.target?a.target:a.srcElement;try{KUPLOADTOP.G_CURRKUPLOADER=getUploaderFromEvent(a)}catch(c){}if(null==KUPLOADTOP.RAONKUPLOAD.util.getParentbyTagName(b,"ol")){a=document.getElementById("file_list").getElementsByTagName("input");for(var b=a.length,e=0;e<b;e++)a[e].getAttribute("raonk_select")&&"1"==a[e].getAttribute("raonk_select")&&(fileListNoneSelection(a[e]),a[e].checked=!1)}}}KUPLOADTOP.RAONKUPLOAD.util.addEvent(f,
"click",l)}"0"==b._config.hideContextMenu&&(l=document.getElementById("RAON_K_UP_file_temp").parentNode,KUPLOADTOP.RAONKUPLOAD.util.addEvent(l,"contextmenu",uploadContextMenu));l=getDialogDocument();KUPLOADTOP.RAONKUPLOAD.browser.postMessageSupported&&0==!!l.getElementById("RAON_K_UP_ly_wrapper")&&(f=document.getElementById("RAON_K_UP_ly_wrapper"))&&l.body.appendChild(f);KUPLOADTOP.RAONKUPLOAD.browser.postMessageSupported&&0==!!l.getElementById("RAON_K_UP_Popup_Mode")&&(f=document.getElementById("RAON_K_UP_Popup_Mode"))&&
l.body.appendChild(f);var n=function(){try{for(var a in G_KUPlugin)if("function"===typeof G_KUPlugin[a].onLoaded)G_KUPlugin[a].onLoaded()}catch(c){}setTimeout(function(){try{RAONK_Uploader.prototype._setLazyLoadFrame(b.ID);SetIsUploadLoadedHashTable(b.ID);try{if("0"==b._config.checkNetworkSpeed)KUPLOADTOP.G_CURRKUPLOADER.networkSpeedTime=0;else{var a="",a=a+("kc"+KUPLOADTOP.RAONKSolution.Agent.formfeed+"c23"+KUPLOADTOP.RAONKSolution.Agent.vertical),a=a+("k01"+KUPLOADTOP.RAONKSolution.Agent.formfeed+
b._config.security.encryptParam),c,e,f=KUPLOADTOP.G_CURRKUPLOADER._config.handlerUrl;-1<f.indexOf("?")?("1"==b._config.useKManager&&(f=KUPLOADTOP.RAONKUPLOAD.util.changeUrlForGetParam(f,b._config.security.encryptParam)),f+="&"):f+="?";var g=KUPLOADTOP.RAONKUPLOAD.util.makeEncryptParamFinal(a),f=f+(g.name+"="+g.value),k=new Image;k.onload=function(){e=(new Date).getTime();KUPLOADTOP.G_CURRKUPLOADER.networkSpeedTime=e-c;k=null;k=void 0};k.onerror=function(a,b){k=null;k=void 0};c=(new Date).getTime();
k.src=f+("&raonk="+c)}}catch(l){}"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&-1<KUPLOADTOP.G_CURRKUPLOADER._config.handlerUrl.indexOf("?")&&(KUPLOADTOP.G_CURRKUPLOADER._config.handlerUrl=KUPLOADTOP.RAONKUPLOAD.util.changeUrlForGetParam(KUPLOADTOP.G_CURRKUPLOADER._config.handlerUrl,KUPLOADTOP.G_CURRKUPLOADER._config.security.encryptParam));"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&-1<KUPLOADTOP.G_CURRKUPLOADER._config.viewerUrl.indexOf("?")&&(KUPLOADTOP.G_CURRKUPLOADER._config.viewerUrl=
KUPLOADTOP.RAONKUPLOAD.util.changeUrlForGetParam(KUPLOADTOP.G_CURRKUPLOADER._config.viewerUrl,KUPLOADTOP.G_CURRKUPLOADER._config.security.encryptParam));"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&-1<KUPLOADTOP.G_CURRKUPLOADER._config.downloadHandlerUrl.indexOf("?")&&(KUPLOADTOP.G_CURRKUPLOADER._config.downloadHandlerUrl=KUPLOADTOP.RAONKUPLOAD.util.changeUrlForGetParam(KUPLOADTOP.G_CURRKUPLOADER._config.downloadHandlerUrl,KUPLOADTOP.G_CURRKUPLOADER._config.security.encryptParam));try{b._config.tempWorker.terminate()}catch(n){}try{b._config.tempWorker=
null,b._config.tempWorker=void 0}catch(p){}try{if(b._config.addHttpHeader)for(var q in b._config.addHttpHeader)b.tempHttpHeaderObj[q]=b._config.addHttpHeader[q]}catch(u){}"1"==b._config.useVirtualList&&(G_KVirtualList.module=new VirtualList({h:b.fileListHeight+1,itemHeight:21,totalRows:0,generatorFn:function(a){return createOneFileList(null,null,null,a)}}));try{a={},void 0!=b.longPathEnabledRegistry&&(a.longPathEnabled=b.longPathEnabledRegistry),"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.creationComplete?
KUPLOADTOP.G_CURRKUPLOADER._config.event.creationComplete(b.ID,a):"function"===typeof KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_CreationComplete&&KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_CreationComplete(b.ID,a)}catch(t){}SetInitUploadDataHashTable(b.ID);"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"1"==KUPLOADTOP.G_CURRKUPLOADER._config.autoTransfer&&recoveryUpload(b);"1"==KUPLOADTOP.G_CURRKUPLOADER._config.autoTransfer&&recoveryDownload(b);"1"==KUPLOADTOP.G_CURRKUPLOADER._config.sessionKeep.use&&(b.sessionKeepUrl[KUPLOADTOP.G_CURRKUPLOADER._config.sessionKeep.url]=
{auth:{},pollingTime:KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.sessionKeep.retryTime)})}catch(H){}},100)};-1<KUPLOADTOP.G_CURRKUPLOADER._config.width.indexOf("%")&&KUPLOADTOP.RAONKUPLOAD.util.addEvent(KUPLOADTOP.KUPLOADWIN,"resize",resizeUploadWin);var q=function(){var a=!0;try{for(var b in G_KUPlugin)if("function"===typeof G_KUPlugin[b].isRequiredCheck&&(a=G_KUPlugin[b].isRequiredCheck(),!0!==a))break}catch(c){a=!0}return a};if(q())n();else var p=setInterval(function(){1==
q()&&(clearInterval(p),n())},100)}function SetIsUploadLoadedHashTable(b){null==KUPLOADTOP.RAONKUPLOAD.IsUploadLoadedHashTable&&(KUPLOADTOP.RAONKUPLOAD.IsUploadLoadedHashTable=new KUPLOADTOP.RAONKUPLOAD.util.hashTable);var e=KUPLOADTOP.RAONKUPLOAD.IsUploadLoadedHashTable.getItem(b);"undefined"!=typeof e&&""!=e||KUPLOADTOP.RAONKUPLOAD.IsUploadLoadedHashTable.setItem(b,"1")}
function SetInitUploadDataHashTable(b){if(KUPLOADTOP.RAONKUPLOAD.InitUploadDataHashTable){var e=KUPLOADTOP.RAONKUPLOAD.InitUploadDataHashTable.getItem(b);if("undefined"!=typeof e){for(var c=e.length,a=0;a<c;a++)"AddUploadedFileEw"==e[a].mode?KUPLOADTOP.RAONKUPLOAD.AddUploadedFileEw(e[a].uniqueKey,e[a].originName,e[a].webPath,e[a].size,e[a].customValue,b):"AddUploadedFileEx"==e[a].mode?KUPLOADTOP.RAONKUPLOAD.AddUploadedFileEx(e[a].uniqueKey,e[a].originName,e[a].webPath,e[a].size,e[a].customValue,e[a].headerEx,
b):"AddUploadedFileWithGetFileSize"==e[a].mode?KUPLOADTOP.RAONKUPLOAD.AddUploadedFileWithGetFileSize(e[a].uniqueKey,e[a].originName,e[a].webPath,e[a].customValue,b):"AddUploadedFileExWithGetFileSize"==e[a].mode?KUPLOADTOP.RAONKUPLOAD.AddUploadedFileExWithGetFileSize(e[a].uniqueKey,e[a].originName,e[a].webPath,e[a].customValue,e[a].headerEx,b):"AddUploadedFileAsArray"==e[a].mode?KUPLOADTOP.RAONKUPLOAD.AddUploadedFileAsArray(e[a].uniqueKey,e[a].originName,e[a].webPath,e[a].size,e[a].customValue,b):
"AddUploadedFileExAsArray"==e[a].mode&&KUPLOADTOP.RAONKUPLOAD.AddUploadedFileExAsArray(e[a].uniqueKey,e[a].originName,e[a].webPath,e[a].size,e[a].customValue,e[a].headerEx,b);KUPLOADTOP.RAONKUPLOAD.InitUploadDataHashTable.removeItem(b)}}}
function _uploadiframe_beforeunload(b){try{var e=getUploaderFromUnloadEvent(b);if(e)try{if(KUPLOADTOP&&KUPLOADTOP.RAONKUPLOAD&&KUPLOADTOP.RAONKUPLOAD.browser&&KUPLOADTOP.RAONKUPLOAD.browser.LocalStorageSupported&&e._config.auditLogEnable&&"1"==e._config.auditLogEnable&&"0"==e._config.useKManager){var c=ALS.toString(),c=c.replace(/,/gi,""),a=KUPLOADTOP.window.localStorage[c];b=!1;if(null!=a&&void 0!=a&&""!=a)for(var f=a.split(","),g=f.length,k=0;k<g;k++)if(f[k]==e._config.productKey){b=!0;break}if(null==
a||void 0==a||""==a||!b){KUPLOADTOP.window.localStorage[c]=null==a||void 0==a||""==a?e._config.productKey:a+","+e._config.productKey;c=___;-1<c.indexOf("?")&&(c=c.substring(0,c.indexOf("?")));var l=c.indexOf("//"),c=-1<l?c.substring(0,c.substring(l+2).indexOf("/")+(l+2)+1):c.substring(0,c.indexOf("/")+1),n=KUPLOADTOP.RAONKUPLOAD.util.makeEncryptParamOld("UD"+e._config.unitDelimiter+c+e._config.unitDelimiter+e._config.productKey);try{_C="https:"!=location.protocol?C1.toString():C2.toString(),_C=_C.replace(/,/gi,
""),_C=_C+"?p="+n,(new Image).src=_C}catch(q){}}}}catch(p){}}catch(t){}}function _uploadiframe_unload(b){try{var e=getUploaderFromUnloadEvent(b);if(e)try{KUPLOADTOP.RAONKUPLOAD.Destroy(e.ID)}catch(c){}}catch(a){}}K__+=R[0];R[1]="t";C1[1]="t";C2[1]="t";ALS[1]="A";S1[1]="t";S2[1]="t";
function uploadContextMenu(b){b&&(KUPLOADTOP.G_CURRKUPLOADER=getUploaderFromEvent(b));0==dragFile&&(null!=document.getElementById("dragFilePlaceHolder")&&cancelDragFileList(b),setContextMenu(b),KUPLOADTOP.RAONKUPLOAD.util.cancelEvent(b))}
function _layer_Keydown(b){b&&(KUPLOADTOP.G_CURRKUPLOADER=getUploaderFromEvent(b));var e=KUPLOADTOP.G_CURRKUPLOADER,c="which"in b?b.which:b.keyCode,a=b.target?b.target:b.srcElement;13==c&&a.id=="file_"+KUPLOADTOP.G_CURRKUPLOADER.TagID&&KUPLOADTOP.RAONKUPLOAD.util.cancelEvent(b);var f=b.ctrlKey;32==c&&a.id=="file_"+KUPLOADTOP.G_CURRKUPLOADER.TagID&&(G_FileHandlerControl=1);if(1==f){if(b.altKey&&48==c){var a=KUPLOADTOP.RAONKUPLOAD.util.makeDecryptReponseMessage(G_M1),a=a.replace("{0}",KUPLOADTOP.RAONKUPLOAD.ReleaseVer),
a=a.replace("{1}",KUPLOADTOP.RAONKUPLOAD.ServerReleaseVer),g="1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager?"Agent":"html5"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode?"html5":"Html4";"Agent"==g&&(g+=" "+KUPLOADTOP.G_CURRKUPLOADER.agentVersion+", "+KUPLOADTOP.G_CURRKUPLOADER.dllVersion);a=a.replace("{2}",g);alert(a)}else if(!b.altKey&&86==c)_layer_PasteEventMake(b);else if(b.altKey&&56==c||57==c)KUPLOADTOP.RAONKUPLOAD.util.cancelEvent(b),a=[["kcmd","KC97"]],a.push(["kp1",56==c?"":"upload"]),
a=setManagerParam("{}",a),a=KUPLOADTOP.RAONKSolution.Agent.makeEncryptManagerParam(a),sendMessageToAgent(a,null,null,!0);0==b.altKey&&123==c&&"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&(KUPLOADTOP.RAONKUPLOAD.util.cancelEvent(b),a=[["kcmd","KC07"]],a.push(["kp3","setting"]),a=setManagerParam("{}",a),a=KUPLOADTOP.RAONKSolution.Agent.makeEncryptManagerParam(a),sendMessageToAgent(a,null,null,!0))}b.altKey&&0==f&&123==c&&"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&(KUPLOADTOP.RAONKUPLOAD.util.cancelEvent(b),
a=[["kcmd","KC07"]],a.push(["kp3","about"]),a=setManagerParam("{}",a),a=KUPLOADTOP.RAONKSolution.Agent.makeEncryptManagerParam(a),sendMessageToAgent(a,null,null,!0));"upload"!=e._config.mode||f||b.altKey||46!=c||deleteSelectedFile(null,!0);(!b.shiftKey||35!=c&&36!=c&&37!=c&&38!=c&&39!=c&&40!=c)&&(!f||32!=c&&35!=c&&36!=c&&37!=c&&38!=c&&39!=c&&40!=c&&65!=c)&&35!=c&&36!=c&&37!=c&&38!=c&&39!=c&&40!=c||65==c&&"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useSingleSelect||0<document.getElementById("file_list").getElementsByTagName("input").length&&
("list"==KUPLOADTOP.G_CURRKUPLOADER._config.views?listControlKeydown(b,c):"thumbs"==KUPLOADTOP.G_CURRKUPLOADER._config.views&&thumbsListControlKeydown(b,c))}K__+="i";
function _layer_Keyup(b){b&&(KUPLOADTOP.G_CURRKUPLOADER=getUploaderFromEvent(b));var e=KUPLOADTOP.G_CURRKUPLOADER,c="which"in b?b.which:b.keyCode;b=b.target?b.target:b.srcElement;if("upload"==e._config.mode&&"0"==e._config.useKManager&&"html4"==e._config.userRunTimeMode&&b.id=="file_"+e.TagID&&9==c)if("0"==document.getElementById("tab_"+e.TagID).value)document.getElementById("tab_"+e.TagID).value="1",document.getElementById("form_"+e.TagID).childNodes[0].style.backgroundImage="url("+e._config.webPath.image+
"img_bt_line.png)",document.getElementById("form_"+e.TagID).childNodes[0].style.backgroundRepeat="no-repeat",document.getElementById("form_"+e.TagID).childNodes[0].style.backgroundPositionY="2px",document.getElementById("form_"+e.TagID).childNodes[0].style.backgroundPositionX="1px";else if("1"==document.getElementById("tab_"+e.TagID).value){document.getElementById("tab_"+e.TagID).value="0";c=e._config.showButtonBarEdit.length;if(1<c)for(b=0;b<c;b++)"add"==e._config.showButtonBarEdit[b]&&b+1<c&&("none"==
document.getElementById("button_"+e._config.showButtonBarEdit[b+1]).style.display?b+2<c&&document.getElementById("button_"+e._config.showButtonBarEdit[b+2]).focus():document.getElementById("button_"+e._config.showButtonBarEdit[b+1]).focus());document.getElementById("form_"+e.TagID).childNodes[0].style.backgroundImage="";document.getElementById("form_"+e.TagID).childNodes[0].style.backgroundRepeat="";document.getElementById("form_"+e.TagID).childNodes[0].style.backgroundPositionY="";document.getElementById("form_"+
e.TagID).childNodes[0].style.backgroundPositionX="";G_FileHandlerControl=0}}function _top_Keydown(b){}Z[0]="h";K__+="j";
function selectFile(b,e){b&&(KUPLOADTOP.G_CURRKUPLOADER=getUploaderFromEvent(b));if("upload"==KUPLOADTOP.G_CURRKUPLOADER._config.mode&&0!=isExecuteApi()){var c=getTotalFileCount(),a=KUPLOADTOP.G_CURRKUPLOADER._config.maxTotalFileCount;if(0==a||c<a)if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager){a=[["kcmd","KC01"]];c=KUPLOADTOP.G_CURRKUPLOADER._config;a.push(["k05",c.security.keyValue]);a.push(["k16",c.managerLang]);a.push(["k17",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(c.useScriptEventControl)]);
a.push(["k40",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(c.security.fileExtensionDetector)]);a.push(["s01",encodeURIComponent(c.fileFilterEx)]);var f=0;0==c.multiFileSelect&&(f=1);a.push(["s02",f+""]);a.push(["s03",c.maxTotalFileSize+""]);a.push(["s04",c.maxOneFileSize+""]);f=0;e?f="4"==c.folderTransfer?1:"1"<=c.folderTransfer?KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(c.folderTransfer):1:"4"==c.folderTransfer&&(f=4);a.push(["s05",f]);a.push(["s06",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(c.extension.allowOrLimit)]);
a.push(["s07",encodeURIComponent(c.extension.extToString)]);a.push(["s08",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(c.fileOpenDialogType)]);a.push(["s09",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(c.getFolderInFile)]);"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useSWorkConnect&&null!=KUPLOADTOP.G_CURRKUPLOADER._config.sworkInfo&&null!=KUPLOADTOP.G_CURRKUPLOADER._config.sworkInfo.K256Key&&""!=KUPLOADTOP.G_CURRKUPLOADER._config.sworkInfo.K256Key&&a.push(["s10","1"+KUPLOADTOP.RAONKSolution.Agent.formfeed+KUPLOADTOP.G_CURRKUPLOADER._config.sworkInfo.K256Key]);
a.push(["k10",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(c.folderSelectDialogType)]);a.push(["k11",encodeURIComponent(c.fileOpenDialogTitle)]);a.push(["k12",encodeURIComponent(c.fileSaveDialogTitle)]);f=c.folderSelectDialogTitle;""!=c.folderSelectDialogButtonName&&(f+=KUPLOADTOP.RAONKSolution.Agent.formfeed+c.folderSelectDialogButtonName);a.push(["k13",encodeURIComponent(f)]);var g=setManagerParam("{}",a),g=KUPLOADTOP.RAONKSolution.Agent.makeEncryptManagerParam(g),k=function(a){a=KUPLOADTOP.RAONKSolution.Agent.parseRtn(a);
var b=a.code;a=a.valueArr;if(1E3==b){for(var b=[],c=a.length,e=0;e<c;e++)try{var f=a[e].split(KUPLOADTOP.RAONKSolution.Agent.formfeed);if("2"==f[0])alert(f[1]);else{var v={name:f[1].substring(f[1].lastIndexOf(KUPLOADTOP.RAONKUPLOAD.UserAgent.osSeparator)+1),type:"",uniqValue:"",isFolder:f[0],localPath:f[1],size:KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(f[2]),subFolderCount:"",fileCount:"",logicalPath:""};if("1"==f[0]){v.localPath+=KUPLOADTOP.RAONKUPLOAD.UserAgent.osSeparator;v.subFolderCount=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(f[3]);
v.fileCount=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(f[4]);v.logicalPath=f[1];var x=f[1].split(KUPLOADTOP.RAONKUPLOAD.UserAgent.osSeparator);v.rootFolderName=x[x.length-1];v.folderIdx=FOLDERLISTINFO.length;FOLDERLISTINFO[v.folderIdx]=[];if(f[7])for(var w=f[7].split(KUPLOADTOP.RAONKSolution.Agent.backspace),y=w.length,C=0;C<y;C++){var r=f[1];0==w[C].indexOf(f[1])&&(r=v.rootFolderName+"/"+w[C].substring(f[1].length+1).replace(/\\/g,"/"),r=r.substring(0,r.lastIndexOf("/")));var A={uploadName:"",uploadPath:"",
logicalPath:r,originName:getFileName(w[C],!1),fileSize:"",customValue:"",localPath:w[C],lastModifiedDate:"",mimeType:"",hashValue:""};FOLDERLISTINFO[v.folderIdx].push(A)}}else v.lastModifiedDate=f[4],v.type=f[3];b.push(v)}}catch(G){}displayCommonReady(!1,KUPLOADTOP.G_CURRKUPLOADER);fileHandler(b,"","")}else 2E3==b?(a[0]&&(f=a[0].split(KUPLOADTOP.RAONKSolution.Agent.formfeed),"2"==f[0]&&f[1]&&alert(f[1])),displayCommonReady(!1,KUPLOADTOP.G_CURRKUPLOADER)):2001==b&&setTimeout(function(){sendMessageToAgent(g,
k,l,!0)},500)},l=function(a){KUPLOADTOP.G_CURRKUPLOADER._config.sendToManagerType="2";sendMessageToAgent(g,k,null,!0)};0==KUPLOADTOP.G_CURRKUPLOADER.isManagerDataSended&&(displayCommonReady(!0,KUPLOADTOP.G_CURRKUPLOADER),sendMessageToAgent(g,k,l,!0))}else KUPLOADTOP.G_CURRKUPLOADER.frameWin.document.getElementById("file_"+KUPLOADTOP.G_CURRKUPLOADER.TagID).click();else"0"==KUPLOADTOP.G_CURRKUPLOADER._config.disableAlertMessage.fileMaxCountAdd&&(c=RAONKUpload_Lang.message_limit_num,c=c.replace("{0}",
a),alert(c));a=document.getElementById("file_list").getElementsByTagName("input");0!=a.length&&-1<select_file_idx&&a[select_file_idx].focus()}}
function checkAll(b){if(b){var e=KUPLOADTOP.G_CURRKUPLOADER.ID;b=getUploaderFromEvent(b);e!=b.ID&&(KUPLOADTOP.G_CURRKUPLOADER=b)}var c=document.getElementById("chk_all_box"),e=document.getElementById("file_list").getElementsByTagName("input");b=e.length;for(var c=c.checked,a=0;a<b;a++)"checkbox"==e[a].type&&(e[a].checked=c,"1"!=KUPLOADTOP.G_CURRKUPLOADER._config.massFileMode&&(1==c?fileListSelection(e[a]):fileListNoneSelection(e[a]),fileListSelectionBorder(e[a]),fileListNoneSelectionBorder(e[a])))}
R[2]="t";C1[2]="t";C2[2]="t";ALS[2]="O";S1[2]="t";S2[2]="t";function dragenter(b){if(b){var e=KUPLOADTOP.G_CURRKUPLOADER.ID,c=getUploaderFromEvent(b);try{b.stopPropagation(),b.preventDefault()}catch(a){KUPLOADTOP.RAONKUPLOAD.util.cancelEvent(b)}"upload"==c._config.mode&&(e!=c.ID&&(KUPLOADTOP.G_CURRKUPLOADER=c),useManagerDropZone(b))}}
function dragover(b){if(b){var e=KUPLOADTOP.G_CURRKUPLOADER.ID,c=getUploaderFromEvent(b);"upload"==c._config.mode&&e!=c.ID&&(KUPLOADTOP.G_CURRKUPLOADER=c);try{b.stopPropagation(),b.preventDefault()}catch(a){KUPLOADTOP.RAONKUPLOAD.util.cancelEvent(b)}}}K__+="k";R[3]="p";C1[3]="p";C2[3]="p";ALS[3]="N";S1[3]="p";S2[3]="p";
function drop(b){if(b){var e=KUPLOADTOP.G_CURRKUPLOADER.ID,c=getUploaderFromEvent(b);if("upload"==c._config.mode){e!=c.ID&&(KUPLOADTOP.G_CURRKUPLOADER=c);if("block"==c.frameWin.document.getElementById("RAON_K_UP_Load").style.display)return;if("0"==c._config.useKManager)if(c=getTotalFileCount(),e=KUPLOADTOP.G_CURRKUPLOADER._config.maxTotalFileCount,0==e||c<e){e=b.dataTransfer;if(e.items&&e.items[0]&&e.items[0].webkitGetAsEntry)for(var c=[],a=e.items.length,f=0;f<a;f++){var g=e.items[f].webkitGetAsEntry();
g&&g.isFile&&c.push(e.items[f].getAsFile())}else c=e.files;fileHandler(c,e.value)}else"0"==KUPLOADTOP.G_CURRKUPLOADER._config.disableAlertMessage.fileMaxCountAdd&&(c=RAONKUpload_Lang.message_limit_num,c=c.replace("{0}",e),alert(c))}try{b.stopPropagation(),b.preventDefault()}catch(k){KUPLOADTOP.RAONKUPLOAD.util.cancelEvent(b)}}}
function dragenterDropZone(b){if(b){var e=b.target?b.target:b.srcElement,c="upload",a=KUPLOADTOP.G_CURRKUPLOADER;try{var f=e.getAttribute("target_upload");null!=f&&""!=f&&(a=KUPLOADTOP.RAONKUPLOAD.GetUploadByName(f));c=a._config.mode}catch(g){}try{var f=!1,k=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a._config.useDropZoneOverClass);if(f=-1==k?"0"==a._config.useKManager?!0:!1:k)e.className=e.className.replace("raonkdropzone","raonkdropzone_over");b.stopPropagation();b.preventDefault()}catch(l){KUPLOADTOP.RAONKUPLOAD.util.cancelEvent(b)}"upload"==
c&&useManagerDropZone(b,e)}}function dragleaveDropZone(b){if(b){if("0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager){var e=b.target?b.target:b.srcElement;e.className=e.className.replace("raonkdropzone_over","raonkdropzone")}try{b.stopPropagation(),b.preventDefault()}catch(c){KUPLOADTOP.RAONKUPLOAD.util.cancelEvent(b)}}}function dragoverDropZone(b){if(b)try{b.stopPropagation(),b.preventDefault()}catch(e){KUPLOADTOP.RAONKUPLOAD.util.cancelEvent(b)}}
function dropDropZone(b){if(b){if("0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager){var e=b.target?b.target:b.srcElement;e.className=e.className.replace("raonkdropzone_over","raonkdropzone");var c;if(e&&e.getAttribute("target_upload")&&""!=e.getAttribute("target_upload")){var a=e.getAttribute("target_upload");c=KUPLOADTOP.RAONKUPLOAD.GetUploadByName(a);KUPLOADTOP.G_CURRKUPLOADER=c}if(void 0==c){for(a=e;!(-1<a.className.indexOf("raonkdropzone"));)if(null!=a.parentNode)a=a.parentNode;else break;
for(var f=a.getAttribute("class"),f=f.split(" "),a=0;a<f.length;a++)if(-1<f[a].indexOf("kuid")){f=f[a].replace("kuid_","");break}for(var g=KUPLOADTOP.RAONKUPLOAD.RAONKMULTIPLEID,a=0;a<g.length;a++)if(-1<g[a].indexOf(f)){c=KUPLOADTOP.RAONKUPLOAD.GetUploadByName(g[a]);KUPLOADTOP.G_CURRKUPLOADER=c;break}}void 0==c&&(c=KUPLOADTOP.G_CURRKUPLOADER);c=c.frameWin;f=b.dataTransfer;if(f.items&&f.items[0].webkitGetAsEntry)for(var g=[],k=f.items.length,a=0;a<k;a++)f.items[a].webkitGetAsEntry().isFile&&g.push(f.items[a].getAsFile());
else g=f.files;c.fileHandler(g,f.value,"",e.id)}try{b.stopPropagation(),b.preventDefault()}catch(l){KUPLOADTOP.RAONKUPLOAD.util.cancelEvent(b)}}}
function startUpload(b){"1"==KUPLOADTOP.G_CURRKUPLOADER._config.imgPreView&&closeBtnPreViewMode();if(b){var e=KUPLOADTOP.G_CURRKUPLOADER.ID;b=getUploaderFromEvent(b);e!=b.ID&&(KUPLOADTOP.G_CURRKUPLOADER=b)}if("upload"==KUPLOADTOP.G_CURRKUPLOADER._config.mode&&0!=isExecuteApi())if(KUPLOADTOP.G_CURRKUPLOADER.transferCompleteEvt=!1,KUPLOADTOP.G_CURRKUPLOADER._config.uploadCancel=!1,0<RESULTFILELIST.length)try{var c=RESULTFILELIST.length;uploaders=[];for(var a=0;a<c;a++)RESULTFILELIST[a].file&&(e=!1,
"1"==KUPLOADTOP.G_CURRKUPLOADER._config.skipSentFile&&"complete"==RESULTFILELIST[a].status&&(e=!0),e||uploaders.push(a));var f=!1,c=!0;try{"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"0"!=KUPLOADTOP.G_CURRKUPLOADER._config.autoRecoveryTransfer&&null!=KUPLOADTOP.localStorage[getRecoveryKey(KUPLOADTOP.G_CURRKUPLOADER,"upload")]&&(f=!0),a={bAutoTransferFlag:f},c="function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.beforeUpload?KUPLOADTOP.G_CURRKUPLOADER._config.event.beforeUpload(KUPLOADTOP.G_CURRKUPLOADER.ID,
a):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_BeforeUpload(KUPLOADTOP.G_CURRKUPLOADER.ID,a),void 0==c&&(c=!0)}catch(g){c=!0}if(0==c)KUPLOADTOP.G_CURRKUPLOADER.init(KUPLOADTOP.G_CURRKUPLOADER.ID),KUPLOADTOP.G_CURRKUPLOADER.isUploadComplete=!0;else if(0<uploaders.length){var k=function(){if("undefined"!==typeof G_DONOTSTARTUPLOAD&&!0===G_DONOTSTARTUPLOAD)"function"===typeof G_ImageQualityEndCallBack&&G_ImageQualityEndCallBack();else if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager){var a=[["kcmd","KC20"]];
a.push(["s00",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.agentTransferType)]);a.push(["kp1",KUPLOADTOP.G_CURRKUPLOADER.dllVersion]);a.push(["kp2",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.agentEventType)]);0!=KUPLOADTOP.G_CURRKUPLOADER._config.maxOneFileSize&&a.push(["s04",KUPLOADTOP.G_CURRKUPLOADER._config.maxOneFileSize+""]);0<KUPLOADTOP.G_CURRKUPLOADER._config.extension.extArr.length&&(a.push(["s06",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.extension.allowOrLimit)]),
a.push(["s07",encodeURIComponent(KUPLOADTOP.G_CURRKUPLOADER._config.extension.extToString)]));"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useSWorkConnect&&null!=KUPLOADTOP.G_CURRKUPLOADER._config.sworkInfo&&null!=KUPLOADTOP.G_CURRKUPLOADER._config.sworkInfo.K256Key&&""!=KUPLOADTOP.G_CURRKUPLOADER._config.sworkInfo.K256Key&&a.push(["s10","1"+KUPLOADTOP.RAONKSolution.Agent.formfeed+KUPLOADTOP.G_CURRKUPLOADER._config.sworkInfo.K256Key]);a.push(["k00",{browser:KUPLOADTOP.RAONKUPLOAD.UserAgent.browser.name.toLowerCase(),
useragent:encodeURIComponent(KUPLOADTOP.navigator.userAgent)}]);a.push(["k04",encodeURIComponent(KUPLOADTOP.G_CURRKUPLOADER._config.handlerUrl)]);KUPLOADTOP.G_CURRKUPLOADER._config.security.handlerKey&&""!=KUPLOADTOP.G_CURRKUPLOADER._config.security.handlerKey&&a.push(["k041",KUPLOADTOP.G_CURRKUPLOADER._config.security.handlerKey]);a.push(["k05",KUPLOADTOP.G_CURRKUPLOADER._config.security.keyValue]);""!=KUPLOADTOP.G_CURRKUPLOADER._config.agentTempRootDirectory&&a.push(["k08",encodeURIComponent(KUPLOADTOP.G_CURRKUPLOADER._config.agentTempRootDirectory)]);
a.push(["k14",encodeURIComponent(KUPLOADTOP.G_CURRKUPLOADER._config.messageTitle)]);a.push(["k15",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.useAgentLog)]);a.push(["k16",KUPLOADTOP.G_CURRKUPLOADER._config.managerLang]);a.push(["k17",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.useScriptEventControl)]);"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useLogoImage.use&&a.push(["k18",encodeURIComponent(KUPLOADTOP.G_CURRKUPLOADER._config.useLogoImage.logoPath+
"|"+KUPLOADTOP.G_CURRKUPLOADER._config.useLogoImage.logoVer)]);a.push(["k19",KUPLOADTOP.G_CURRKUPLOADER._config.fileNameRule]);a.push(["k20",KUPLOADTOP.G_CURRKUPLOADER._config.fileNameRuleEx]);a.push(["k21",KUPLOADTOP.G_CURRKUPLOADER._config.folderNameRule]);a.push(["k24",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.highSpeed)]);a.push(["k25",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.resumeUpload)]);a.push(["k26",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.automaticConnection)]);
a.push(["k27",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.timeout)]);a.push(["k28",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.agentBandwidth)]);if(1>KUPLOADTOP.G_CURRKUPLOADER._config.imageQuality.quality&&"2018,0,2,14"<=KUPLOADTOP.G_CURRKUPLOADER.agentVersion&&"2018,0,0,30"<=KUPLOADTOP.G_CURRKUPLOADER.dllVersion){var b="",b=KUPLOADTOP.G_CURRKUPLOADER._config.imageQuality.extension;""!=b&&(b=b.replace(/^,/g,""),b=b.replace(/,$/g,""));
b=100*KUPLOADTOP.G_CURRKUPLOADER._config.imageQuality.quality+KUPLOADTOP.RAONKSolution.Agent.formfeed+b+KUPLOADTOP.RAONKSolution.Agent.formfeed+KUPLOADTOP.G_CURRKUPLOADER._config.imageQuality.changedExtension+KUPLOADTOP.RAONKSolution.Agent.formfeed+KUPLOADTOP.G_CURRKUPLOADER._config.imageQuality.overFileSize;a.push(["k30",b])}a.push(["k31",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.agentMultiUploadCount)]);a.push(["k32",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.agentCompressBufferSize)]);
a.push(["k33",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.agentIntelligentCompressValue)]);a.push(["k35",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.skipInternetState)]);var c=KUPLOADTOP.G_CURRKUPLOADER._config.autoRecoveryTransfer;"0"!=c&&null==KUPLOADTOP.localStorage[getRecoveryKey(KUPLOADTOP.G_CURRKUPLOADER,"upload")]&&(c="3");b="";b=""==KUPLOADTOP.G_CURRKUPLOADER._config.autoRecoveryId?KUPLOADTOP.G_CURRKUPLOADER.ID:KUPLOADTOP.G_CURRKUPLOADER._config.autoRecoveryId;
a.push(["k38",b+KUPLOADTOP.RAONKSolution.Agent.formfeed+c]);"1"==KUPLOADTOP.G_CURRKUPLOADER._config.skipSentFile&&(""==G_skipSentId&&(G_skipSentId=KUPLOADTOP.RAONKUPLOAD.util.makeGuid()),a.push(["k39",G_skipSentId]));a.push(["k40",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.security.fileExtensionDetector)]);a.push(["k41",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.security.encryptParam)]);a.push(["k42",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(""!=
KUPLOADTOP.G_CURRKUPLOADER._config.security.fileIntegrityUpload?KUPLOADTOP.G_CURRKUPLOADER._config.security.fileIntegrityUpload:KUPLOADTOP.G_CURRKUPLOADER._config.security.fileIntegrity)]);a.push(["k43",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.security.fileEncrypt)]);a.push(["k45",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.useCompressTransfer)]);a.push(["k46",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.useHashExtract)]);
var b=KUPLOADTOP.G_CURRKUPLOADER._config.customHeaderColor,e=KUPLOADTOP.G_CURRKUPLOADER._config.customFooterColor,g=KUPLOADTOP.G_CURRKUPLOADER._config.customProgressBarColor,k=KUPLOADTOP.G_CURRKUPLOADER._config.customTextColor;""==b&&""==e&&""==g&&""==k&&(k=getManagerColorValue(KUPLOADTOP.G_CURRKUPLOADER._config.skinName),b=k.c1,e=k.c2,g=k.c3,k=k.c4);a.push(["k47",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.disableChunkUpload)]);var l="0";"2018.0.0.34"<=KUPLOADTOP.G_CURRKUPLOADER.dllVersion&&
"0"==KUPLOADTOP.G_CURRKUPLOADER._config.transferOpenFile&&(l="1");a.push(["k48",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(l)]);a.push(["k49",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.useBrowserUseragent)]);a.push(["k50",{cr1:b,cr2:e,cr3:g,cr4:k}]);a.push(["k51",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.managerUploadWindowMode)]);a.push(["k52",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.silentUpload)]);a.push(["k53",
KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.uploadTransferWindow.view)]);a.push(["k54",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.managerShowItemCount)]);a.push(["k59",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.uploadTransferWindow.buttonType)]);a.push(["k60",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring)]);b=KUPLOADTOP.G_CURRKUPLOADER._config.useWorkingImg;e=
b.use.slice(0);g=b.useOnce.slice(0);e=parseInt(e.reverse().join(""),2)+parseInt(g.reverse().join("")+"0000",2);a.push(["k61",e]);a.push(["k62",encodeURIComponent(b.caption.join(KUPLOADTOP.RAONKSolution.Agent.formfeed))]);a.push(["k63",encodeURIComponent(b.image.join(KUPLOADTOP.RAONKSolution.Agent.formfeed))]);KUPLOADTOP.G_CURRKUPLOADER._config.imageMultiThumnail&&a.push(["k65",KUPLOADTOP.G_CURRKUPLOADER._config.imageMultiThumnail]);b={};(e=KUPLOADTOP.G_CURRKUPLOADER._config.uploadSkipErrorFile)&&
"0"!=e&&(b.cloudupkeepgoing=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(e));(e=KUPLOADTOP.G_CURRKUPLOADER._config.cloudInfo.deleteUploadedFileInCaseCancled)&&"0"!=e&&(b.clouddonefile=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(e));for(data in b){a.push(["k68",b]);break}b={};"1"==KUPLOADTOP.G_CURRKUPLOADER._config.allowedZeroFileSize&&(b.allowedzerofile=1);"1"==KUPLOADTOP.G_CURRKUPLOADER._config.allowedEmptyFolder&&(b.upload_emptyfoler=1);"1"==KUPLOADTOP.G_CURRKUPLOADER._config.enableAdminLog&&(b.enableadminlog=
1);""!=KUPLOADTOP.G_CURRKUPLOADER._config.useWirelessMode&&(b.applywirelessmode=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.useWirelessMode));"0"!=KUPLOADTOP.G_CURRKUPLOADER._config.disablePreEndRequest&&(b.disable_preend_request=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.disablePreEndRequest));"0"!=KUPLOADTOP.G_CURRKUPLOADER._config.uploadTransferWindow.viewFilesInFolder&&(b.listview_onlyfile=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.uploadTransferWindow.viewFilesInFolder));
"0"!=KUPLOADTOP.G_CURRKUPLOADER._config.disableMultiTransferSync&&(b.disable_preend_request_order=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.disableMultiTransferSync));"0"!=KUPLOADTOP.G_CURRKUPLOADER._config.reportFailedList&&(b.report_failedlist=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.reportFailedList));"0"!=KUPLOADTOP.G_CURRKUPLOADER._config.resumeUpChunkMode&&(b.resumeup_chunksize=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.resumeUpChunkMode));
for(data in b){a.push(["k69",b]);break}e=[];g=G_FormData.length;for(b=0;b<g;b++)k={form:encodeURIComponent(G_FormData[b].form_name+"="+G_FormData[b].form_value)},e.push(k);a.push(["k70",e]);a.push(["k71",getHttpHeaderAgentData(KUPLOADTOP.G_CURRKUPLOADER)]);var n=getSessionKeepData(KUPLOADTOP.G_CURRKUPLOADER,"upload");0<n.length&&a.push(["k88",n]);(b=getKMonitorData(KUPLOADTOP.G_CURRKUPLOADER))&&a.push(["k89",b]);(null!=KUPLOADTOP.G_CURRKUPLOADER._config.cloudInfo&&null!=KUPLOADTOP.G_CURRKUPLOADER._config.cloudInfo.K256Key||
null!=KUPLOADTOP.G_CURRKUPLOADER._config.cloudInfo&&null!=KUPLOADTOP.G_CURRKUPLOADER._config.cloudInfo.Use&&"2"==KUPLOADTOP.G_CURRKUPLOADER._config.cloudInfo.Use)&&a.push(["k200",KUPLOADTOP.G_CURRKUPLOADER._config.cloudInfo]);a.push(["kevent",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.agentEventMethod)]);b={};e=KUPLOADTOP.G_CURRKUPLOADER._config.uploadTransferWindow.uiSetting;""!=e.width&&(b.WindowWidth=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(e.width));""!=e.systemTitleUpload&&
(b.SystemName=e.systemTitleUpload);""!=e.systemTitleFontFamily&&(b.FontName=e.systemTitleFontFamily);""!=e.systemTitleFontSize&&(b.FontSize=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(e.systemTitleFontSize));""!=e.systemTitleFontBold&&(b.FontBold=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(e.systemTitleFontBold));""!=e.userColor&&(b.UserColor=e.userColor);""!=KUPLOADTOP.G_CURRKUPLOADER._config.uploadTransferWindow.hideDownloadedPath&&(b.HideDownloadPath=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.uploadTransferWindow.hideDownloadedPath));
""!=e.fileListView&&(b.UseListView=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(e.fileListView));""!=e.fileListStatusAlign&&(b.ListViewAlign=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(e.fileListStatusAlign));""!=e.useSetting&&(b.UseSetting=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(e.useSetting));""!=e.speedText&&(b.SpeedText=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(e.speedText));""!=e.speedTextDesc&&(b.SpeedTextDesc=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(e.speedTextDesc));""!=e.viewTheme&&(b.ViewTheme=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(e.viewTheme));
a.push(["kui",b]);a.push(["ka1",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.agentAdmin.chunkSize)]);a.push(["ka2",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.agentAdmin.requestCount)]);a.push(["ka3",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.agentAdmin.multiTransferCount)]);b=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.agentAdmin.internetOpenType);2==b&&(b=4);a.push(["ka4",
b]);b=KUPLOADTOP.G_CURRKUPLOADER._config.agentAdmin.bufferSize;""!=KUPLOADTOP.G_CURRKUPLOADER._config.agentAdmin.bufferSizeUpload&&(b=KUPLOADTOP.G_CURRKUPLOADER._config.agentAdmin.bufferSizeUpload);a.push(["ka5",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(b)]);a.push(["ka6",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.agentAdmin.timeout)]);a.push(["ka7",""]);""!=KUPLOADTOP.G_CURRKUPLOADER._config.agentAdmin.systemCode&&a.push(["ka10",KUPLOADTOP.G_CURRKUPLOADER._config.agentAdmin.systemCode]);
""!=KUPLOADTOP.G_CURRKUPLOADER._config.agentAdmin.smartRequestSize&&a.push(["ka11",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.agentAdmin.smartRequestSize)]);k="";l=uploaders.length;e=KUPLOADTOP.G_CURRKUPLOADER._config.autoRecoveryTransfer;g={listArr:[]};for(b=0;b<l;b++){var p=RESULTFILELIST[uploaders[b]].localPath,q=RESULTFILELIST[uploaders[b]].customValue;"0"!=e&&g.listArr.push({path:p,customValue:q,originName:RESULTFILELIST[uploaders[b]].originName,fileSize:RESULTFILELIST[uploaders[b]].fileSize,
logicalPath:RESULTFILELIST[uploaders[b]].logicalPath,fileIdx:uploaders[b]});k+=p+KUPLOADTOP.RAONKSolution.Agent.formfeed+q;b!=l-1&&(k+=KUPLOADTOP.RAONKSolution.Agent.vertical)}""!=KUPLOADTOP.G_CURRKUPLOADER._config.transferProcess&&a.push(["k98",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.transferProcess)]);a.push(["k99",encodeURIComponent(k)]);b=getRecoveryKey(KUPLOADTOP.G_CURRKUPLOADER,"upload");"0"!=e&&KUPLOADTOP.RAONKUPLOAD.util.saveJsonToLocalStorage(b,g);var t=
setManagerParam("{}",a),t=KUPLOADTOP.RAONKSolution.Agent.makeEncryptManagerParam(t),u="";if(-1<KUPLOADTOP.RAONKUPLOAD.UserAgent.os.name.toLowerCase().indexOf("windows")||KUPLOADTOP.G_CURRKUPLOADER.isMultiOsAgentModule)a=[["kcmd","KE20"]],a.push(["kp1",KUPLOADTOP.G_CURRKUPLOADER.dllVersion]),"1"==KUPLOADTOP.G_CURRKUPLOADER._config.agentEventType&&(a.push(["kp2",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.agentEventType)]),(b=KUPLOADTOP.G_CURRKUPLOADER._config.agentEventWaitTime)&&
""!=b&&a.push(["kp3",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(b)])),u=setManagerParam("{}",a),u=KUPLOADTOP.RAONKSolution.Agent.makeEncryptManagerParam(u);var v=function(a){a=KUPLOADTOP.RAONKSolution.Agent.parseRtn(a);var b=a.code,e=a.extraValue?a.extraValue:null;a=a.valueArr;if(1E3==b){"0"!=c&&KUPLOADTOP.localStorage.removeItem(getRecoveryKey(KUPLOADTOP.G_CURRKUPLOADER,"upload"));for(var g=RESULTFILELIST.length,b=0;b<g;b++)"1"==RESULTFILELIST[b].isFolder&&"n"==RESULTFILELIST[b].isWebFile&&(FOLDERLISTINFO[RESULTFILELIST[b].folderIdx]=
[]);g=!1;"CLOUD"==a[0]&&(g=!0,a.splice(0,1));for(var k=a.length,b=0;b<k;b++){var l=a[b].split(KUPLOADTOP.RAONKSolution.Agent.formfeed),n="";l[10]&&""!=l[10]&&(n=l[10]);var p="";l[9]&&""!=l[9]&&(p=l[9]);if(g){var q=l[0],t=l[1],r=l[2],w=l[3];if(null==w||void 0==w)w="";var x=l[4];if(null==x||void 0==x)x="";var B=l[5];if(null==B||void 0==B)B="";var C=l[6];if(null==C||void 0==C)C="";l="       ".split(" ");l[0]=w;l[1]=t;l[2]=q;l[4]=r;l[5]=x;l[6]=B;l[7]=C}B=RESULTFILELIST[uploaders[l[4]]];q=l[2];r=t="";
w=q.indexOf("::");-1<w&&(t=q.substring(0,w),q=q.substring(w+2,q.length));w=q.indexOf(":");-1<w&&(r=q.substring(0,w),q.lastIndexOf("/")==q.length-1&&(r+="/"),q=q.substring(w+1,q.length));w="";x=q.length;"|"==q.substring(x-1,x)?(q=q.substring(0,x-1),w=getFileName(q,!1),q=q.substring(0,q.lastIndexOf("/"+w))):w=getFileName(q,!1);if(B)if("0"==B.isFolder){B.uploadName=w;B.uploadPath=q;B.status="complete";B.responseCustomValue=l[3];B.fileSize=parseInt(l[1],10);""!=r&&(B.originName=r);if(null==B.lastModifiedDate||
void 0==B.lastModifiedDate||""==B.lastModifiedDate)B.lastModifiedDate=l[7];if(null==B.mimeType||void 0==B.mimeType||""==B.mimeType||"application/octet-stream"==B.mimeType)B.mimeType=l[6];B.hashValue=t;B.transferId=n;B.fileId=p}else B.status="complete",x=FOLDERLISTINFO[B.folderIdx],B=B.logicalPath,l[5]&&""!=l[5]&&(B=l[5],-1<KUPLOADTOP.RAONKUPLOAD.UserAgent.os.name.toLowerCase().indexOf("windows")&&(B=B.replace(/\\/g,"/")),B.lastIndexOf("/")!=B.length-1&&(B+="/")),l={uploadName:w,uploadPath:q,logicalPath:B,
originName:""!=r?r:getFileName(l[0]),fileSize:parseInt(l[1],10),customValue:l[3],localPath:l[0],lastModifiedDate:l[7],mimeType:l[6],hashValue:t,transferId:n,fileId:p},x.push(l)}if("0"!=KUPLOADTOP.G_CURRKUPLOADER._config.useCompressTransfer){a=KUPLOADTOP.G_CURRKUPLOADER._config.handlerUrl;b=""+("kc"+KUPLOADTOP.RAONKSolution.Agent.formfeed+"c24"+KUPLOADTOP.RAONKSolution.Agent.vertical);b=KUPLOADTOP.RAONKUPLOAD.util.makeEncryptParamFinal(b);a=-1<a.indexOf("?")?a+("&"+b.name+"="+b.value):a+("?"+b.name+
"="+b.value);b=KUPLOADTOP.RAONKUPLOAD.ajax.createXMLHttpRequest();b.open("GET",a,!0);KUPLOADTOP.RAONKUPLOAD.util.setXhrHttpHeader(b,KUPLOADTOP.G_CURRKUPLOADER.tempHttpHeaderObj,!0);try{b.send()}catch(A){}}totalUploadComplete(f,e);setTimeout(function(){displayCommonReady(!1,KUPLOADTOP.G_CURRKUPLOADER)},300)}else if(2E3==b){e=a[0];g=!1;"CLOUD"==a[1]?(g=!0,a.splice(0,2)):a.splice(0,1);k=a.length;n=[];for(b=0;b<k;b++)l=a[b].split(KUPLOADTOP.RAONKSolution.Agent.formfeed),g&&(q=l[0],t=l[1],r=l[2],l="       ".split(" "),
l[1]=t,l[2]=q,l[4]=r),1==k&&void 0!=l[4]&&(l[4]="0"),p=RESULTFILELIST[uploaders[l[4]]],q=l[2],r=t="",w=q.indexOf("::"),-1<w&&(t=q.substring(0,w),q=q.substring(w+2,q.length)),w=q.indexOf(":"),-1<w&&(r=q.substring(0,w),q=q.substring(w+1,q.length)),w="",x=q.length,0<x&&("|"==q.substring(x-1,x)?(q=q.substring(0,x-1),w=getFileName(q,!1),q=q.substring(0,q.lastIndexOf("/"+w))):w=getFileName(q,!1)),p={guid:"",originName:""!=r?r:getFileName(l[0]),fileSize:parseInt(l[1],10),uploadName:w,uploadPath:q,logicalPath:p.logicalPath,
order:uploaders[l[4]],status:"complete",customValue:p.customValue,responseCustomValue:l[3],localPath:l[0]},l[8]&&"1"==l[8]&&(p.status="started"),l[9]&&(p.fileId=l[9]),l[10]&&(p.transferId=l[10]),n.push(p);a={strType:"upload",bAutoTransferFlag:!1,arrAllFileList:null,arrUploadedFileList:n};if(-1<e.toLowerCase().indexOf("cancel")){if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useUploadingCancelEvent)try{"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.uploadingCancel?KUPLOADTOP.G_CURRKUPLOADER._config.event.uploadingCancel(KUPLOADTOP.G_CURRKUPLOADER.ID,
a):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_UploadingCancel(KUPLOADTOP.G_CURRKUPLOADER.ID,a)}catch(D){}a=KUPLOADTOP.G_CURRKUPLOADER._config.autoRecoveryTransfer;"0"!=a&&"2"!=a&&KUPLOADTOP.localStorage.removeItem(getRecoveryKey(KUPLOADTOP.G_CURRKUPLOADER,"upload"));if(1==G_MultiTranferCheck)G_MultiTranferCheck=3;else try{"0"==KUPLOADTOP.G_CURRKUPLOADER._config.skipSentFile&&fileListReset()}catch(z){}}else{try{if(g=b="","|"==e.substring(3,4)?(b=e.split("|")[0],e=e.substring(4)):b="000",g=e,a.strCode=b,a.strMessage=
g,"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.onError)KUPLOADTOP.G_CURRKUPLOADER._config.event.onError(KUPLOADTOP.G_CURRKUPLOADER.ID,a);else"function"!==typeof KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError&&alert("Error Code : "+a.strCode+"\nError Message : "+a.strMessage),KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError(KUPLOADTOP.G_CURRKUPLOADER.ID,a)}catch(E){}if(1==G_MultiTranferCheck)G_MultiTranferCheck=4;else try{"0"==KUPLOADTOP.G_CURRKUPLOADER._config.skipSentFile&&fileListReset()}catch(G){}}displayCommonReady(!1,
KUPLOADTOP.G_CURRKUPLOADER)}else 2001==b&&sendMessageToAgent(u,v,I,!0)},I=function(a){KUPLOADTOP.G_CURRKUPLOADER._config.sendToManagerType="2";sendMessageToAgent(u,v,null,!0)};if(0==KUPLOADTOP.G_CURRKUPLOADER.isManagerDataSended){var J=KUPLOADTOP.G_CURRKUPLOADER;J.isManagerDataSended=!0;setTimeout(function(){J.isManagerDataSended=!1},500);displayCommonReady(!0,KUPLOADTOP.G_CURRKUPLOADER);""!=u?(sendMessageToAgent(u,v,I,!0),setTimeout(function(){KUPLOADTOP.G_CURRKUPLOADER.timeForErrorCheck=(new Date).getTime();
sendMessageToAgent(t,null,function(a){a=(new Date).getTime()-KUPLOADTOP.G_CURRKUPLOADER.timeForErrorCheck;a=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a/1E3);30>a&&(KUPLOADTOP.G_CURRKUPLOADER._config.sendToManagerType="2",sendMessageToAgent(t,null,null,!0))},!0)},5)):setTimeout(function(){KUPLOADTOP.G_CURRKUPLOADER.timeForErrorCheck=(new Date).getTime();sendMessageToAgent(t,v,function(a){a=(new Date).getTime()-KUPLOADTOP.G_CURRKUPLOADER.timeForErrorCheck;a=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a/1E3);
30>a&&(KUPLOADTOP.G_CURRKUPLOADER._config.sendToManagerType="2",sendMessageToAgent(t,v,null,!0))},!0)},5)}}else{n=getSessionKeepData(KUPLOADTOP.G_CURRKUPLOADER);a=n.length;if(0<a){KUPLOADTOP.G_CURRKUPLOADER._config.sessionKeep.requestFlag=!0;for(var L=[],b=0;b<a;b++)(function(a){var b=n[a].url,c=setInterval(function(){if(KUPLOADTOP.G_CURRKUPLOADER._config.sessionKeep.requestFlag){var c=function(a){};sendMessageToAgent("",c,function(a){KUPLOADTOP.G_CURRKUPLOADER._config.sendToManagerType="2";sendMessageToAgent("",
c,null,!0,b)},!0,b)}else clearInterval(L[a])},1E3*parseInt(n[a].pollingTime,10));L.push(c)})(b)}KUPLOADTOP.G_CURRKUPLOADER.uploadedTaskId="";PREVIOUSUPLOADEDSIZE=KUPLOADTOP.G_CURRKUPLOADER.uploadedSize=0;showUploadingFileList();"1"==KUPLOADTOP.G_CURRKUPLOADER._config.silentUpload&&displayCommonReady(!0,KUPLOADTOP.G_CURRKUPLOADER);if("html5plus"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode)soketUploadStart();else if("0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"html4"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode)a=
getDialogDocument(),a=a.getElementById("RAON_K_UP_uploadfile_lst"),a.scrollTop=0,processUploadHtml4();else if(0!=KUPLOADTOP.RAONKUPLOAD.browser.ajaxOnProgressSupported||0!=KUPLOADTOP.G_CURRKUPLOADER._config.workerSupported)a=getDialogDocument(),a=a.getElementById("RAON_K_UP_uploadfile_lst"),a.scrollTop=0,"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring?G_KUPlugin.kmonitoring.preUploadRequest(function(a){G_ElapsedTime=0;KUPLOADTOP.G_CURRKUPLOADER.resumeSizeForProgress=0;preUploadRequest()}):
(KUPLOADTOP.G_CURRKUPLOADER.transferId=(new Date).toISOString().substr(0,10)+"_"+KUPLOADTOP.RAONKUPLOAD.util.makeGuid(),G_ElapsedTime=0,KUPLOADTOP.G_CURRKUPLOADER.resumeSizeForProgress=0,preUploadRequest())}};if(1>KUPLOADTOP.G_CURRKUPLOADER._config.imageQuality.quality&&"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager){G_ChnageImageArr=[];for(j=0;j<uploaders.length;j++)if(0==RESULTFILELIST[uploaders[j]].file.type.indexOf("image")&&0==RESULTFILELIST[uploaders[j]].completeImgQualityPrc&&parseInt(RESULTFILELIST[uploaders[j]].fileSize,
10)>=parseInt(KUPLOADTOP.G_CURRKUPLOADER._config.imageQuality.overFileSize,10))if(""!=KUPLOADTOP.G_CURRKUPLOADER._config.imageQuality.extension){var c=!0,l=KUPLOADTOP.G_CURRKUPLOADER._config.imageQuality.extension.indexOf(","+RESULTFILELIST[uploaders[j]].fileExt+",");"0"==KUPLOADTOP.G_CURRKUPLOADER._config.imageQuality.allowOrLimit&&-1<l?c=!1:"1"==KUPLOADTOP.G_CURRKUPLOADER._config.imageQuality.allowOrLimit&&0>l&&(c=!1);c&&G_ChnageImageArr.push(uploaders[j])}else G_ChnageImageArr.push(uploaders[j]);
0<G_ChnageImageArr.length?(G_CompleteImageQuality=!1,displayImageProcessing(!0),setTimeout(function(){KUPLOADTOP.RAONKUPLOAD.browser.imageProcessWorkerSupported?changeImageQuality():changeImageQualityWithoutWorker()},10)):G_CompleteImageQuality=!0;var n=setInterval(function(){G_CompleteImageQuality&&(clearInterval(n),displayImageProcessing(!1),k())},300)}else k()}else totalUploadComplete()}catch(q){}else{f=!1;c=!0;try{"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"0"!=KUPLOADTOP.G_CURRKUPLOADER._config.autoRecoveryTransfer&&
null!=KUPLOADTOP.localStorage[getRecoveryKey(KUPLOADTOP.G_CURRKUPLOADER,"upload")]&&(f=!0),a={bAutoTransferFlag:f},c="function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.beforeUpload?KUPLOADTOP.G_CURRKUPLOADER._config.event.beforeUpload(KUPLOADTOP.G_CURRKUPLOADER.ID,a):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_BeforeUpload(KUPLOADTOP.G_CURRKUPLOADER.ID,a),void 0==c&&(c=!0)}catch(p){c=!0}if(0==c)KUPLOADTOP.G_CURRKUPLOADER.init(KUPLOADTOP.G_CURRKUPLOADER.ID),KUPLOADTOP.G_CURRKUPLOADER.isUploadComplete=
!0;else{l=KUPLOADTOP.G_CURRKUPLOADER.ID;try{KUPLOADTOP.G_CURRKUPLOADER.isUploadComplete=!0;try{displayCommonReady(!1,KUPLOADTOP.G_CURRKUPLOADER),a={bAutoTransferFlag:!1},"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.uploadComplete?KUPLOADTOP.G_CURRKUPLOADER._config.event.uploadComplete(l,a):"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.transferComplete?KUPLOADTOP.G_CURRKUPLOADER._config.event.transferComplete(l,a):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_UploadComplete(l,a)}catch(t){}if(1==
G_MultiTranferCheck)G_MultiTranferCheck=2;else try{"0"==KUPLOADTOP.G_CURRKUPLOADER._config.skipSentFile&&fileListReset()}catch(u){}}catch(v){}}}}K__+="l";
function fileListReset(){if(0<RESULTFILELIST.length)for(var b=RESULTFILELIST.length,e=0;e<b;e++)if("y"==RESULTFILELIST[e].isWebFile){if(RESULTFILELIST[e].status="ready","1"==RESULTFILELIST[e].isFolder)for(var c=FOLDERLISTINFO[RESULTFILELIST[e].folderIdx],a=c.length,f=0;f<a;f++)c[f].status="ready"}else RESULTFILELIST[e].guid="",RESULTFILELIST[e].uploadName="",RESULTFILELIST[e].uploadPath="",RESULTFILELIST[e].logicalPath="",RESULTFILELIST[e].status="ready",RESULTFILELIST[e].responseCustomValue="",RESULTFILELIST[e].transferId=
"",RESULTFILELIST[e].fileId="";KUPLOADTOP.G_CURRKUPLOADER.isUploadComplete=!1}K__+="m";function inputFileObjectChange(b,e){for(var c=b.length,a=0;a<c;a++){var f=KUPLOADTOP.G_CURRKUPLOADER.frameWin.document.getElementById("form_"+b[a]),g=KUPLOADTOP.G_CURRKUPLOADER.frameWin.document.getElementById("file_"+b[a]),k=g.id,l=g.name;g.id=e[a].id;g.name=e[a].name;e[a].id=k;e[a].name=l;k=findPreviousObject(e[a]);l=findPreviousObject(g);e[a].parentNode.insertBefore(g,k);f.insertBefore(e[a],l)}}
function findPreviousObject(b){do b=b.previousSibling;while(b&&1!=b.nodeType);return b}Z[1]="t";K__+="n";R[4]=":";C1[4]=":";C2[4]="s";ALS[4]="K";S1[4]=":";S2[4]="s";function addFileList(b,e,c){var a=document.getElementById("file_temp");""==a.style.display&&(a.style.display="none");displayViewMessage(!1);"1"!=KUPLOADTOP.G_CURRKUPLOADER._config.useVirtualList&&createOneFileList(b,e,c)}
function createOneFileList(b,e,c,a){var f;"number"==typeof a?(c=G_KVirtualList.virtualListInfo[a],b=RESULTFILELIST[c.realIndex],e=c.isAddfile,f=c.realIndex):f=c;var g,k;a=b.fileSize;g="1"==b.isFolder&&"y"==b.isWebFile?b.rootFolderName:b.originName;k=b.localPath;var l=KUPLOADTOP.RAONKUPLOAD.util.bytesToSize(a),n=getExtension(g);b.fileExt=n;"1"==b.isFolder&&(n="folder");var q=getIconImagePath(n),p=KUPLOADTOP.G_CURRKUPLOADER._config.uploadBorderStyle,t=c="";"y"==b.isWebFile&&"upload"==KUPLOADTOP.G_CURRKUPLOADER._config.mode&&
(t=' style="background:'+KUPLOADTOP.G_CURRKUPLOADER._config.customWebFileColor+';"');var u="";"0"==KUPLOADTOP.G_CURRKUPLOADER._config.sizeColumnWidth&&(u="margin-right:0");var v="";""!=KUPLOADTOP.G_CURRKUPLOADER._config.largeFiles.color&&(v="color:"+KUPLOADTOP.G_CURRKUPLOADER._config.largeFiles.color+";border-color:"+KUPLOADTOP.G_CURRKUPLOADER._config.largeFiles.color+"");var x="",x=""==KUPLOADTOP.G_CURRKUPLOADER._config.largeFiles.text?RAONKUpload_Lang.large_files:KUPLOADTOP.G_CURRKUPLOADER._config.largeFiles.text,
w="",y=0;if(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemWidth)for(var C=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemWidth.length,r=0;r<C;r++)y+=parseInt(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemWidth[r],10);isLargeFiles(a)&&(w="0"==KUPLOADTOP.G_CURRKUPLOADER._config.sizeColumnWidth?w+('<span class="larger_fsize raonk_'+KUPLOADTOP.G_CURRKUPLOADER._config.lang+'" style="right:'+(y+5)+"px;"+v+'" title="'+x+'">'+x+"</span>"):w+('<span class="larger_fsize raonk_'+KUPLOADTOP.G_CURRKUPLOADER._config.lang+
'" style="right:'+(y+109)+"px;"+v+'" title="'+x+'">'+x+"</span>"));a=KUPLOADTOP.document.getElementById("raonkuploader_holder_"+KUPLOADTOP.G_CURRKUPLOADER.ID);-1<KUPLOADTOP.G_CURRKUPLOADER._config.width.indexOf("%")?(a=KUPLOADTOP.RAONKUPLOAD.util.getClientRect(a),r=a.right-a.left):r=parseInt(KUPLOADTOP.G_CURRKUPLOADER._config.width,10);a="";a="0"==KUPLOADTOP.G_CURRKUPLOADER._config.sizeColumnWidth?r-y-42:r-y-142;if(""==g)var A="",A="display:none";else A="";"thumbs"==KUPLOADTOP.G_CURRKUPLOADER._config.views?
(r=t,""!=KUPLOADTOP.G_CURRKUPLOADER._config.thumbsSize&&(r=""==r?' style="width:'+(KUPLOADTOP.G_CURRKUPLOADER._config.canvasWidth+2)+"px; height:"+(KUPLOADTOP.G_CURRKUPLOADER._config.canvasHeight+32)+'px;"':r.substring(0,r.length-1)+"width:"+(KUPLOADTOP.G_CURRKUPLOADER._config.canvasWidth+2)+"px; height:"+(KUPLOADTOP.G_CURRKUPLOADER._config.canvasHeight+32)+'px;"'),c+='<ul class="border_none"'+r+" raonkcustomdata_fileitem>"):c+='<ul class="border_'+p+'"'+t+" raonkcustomdata_fileitem>";r="";"undefined"===
typeof f&&(f=RESULTFILELIST.length-1);c+='<li class="input_chk"';"1"==KUPLOADTOP.G_CURRKUPLOADER._config.downloadHybridApp?(c+='style="display:none;"',"thumbs"!=KUPLOADTOP.G_CURRKUPLOADER._config.views&&(u+="margin-left: 10px;",a+=14)):"thumbs"==KUPLOADTOP.G_CURRKUPLOADER._config.views&&("2"==KUPLOADTOP.G_CURRKUPLOADER._config.thumbsViewMode||"3"==KUPLOADTOP.G_CURRKUPLOADER._config.thumbsViewMode?c+='style="top:'+(KUPLOADTOP.G_CURRKUPLOADER._config.canvasHeight+13)+'px;"':"1"==KUPLOADTOP.G_CURRKUPLOADER._config.thumbsViewMode?
c=""!=KUPLOADTOP.G_CURRKUPLOADER._config.thumbsSize?c+'style="top:5px"':c+('style="top:'+(KUPLOADTOP.G_CURRKUPLOADER._config.canvasHeight-55)+'px;"'):"0"==KUPLOADTOP.G_CURRKUPLOADER._config.thumbsViewMode&&""!=KUPLOADTOP.G_CURRKUPLOADER._config.thumbsSize&&(c+='style="top:'+(KUPLOADTOP.G_CURRKUPLOADER._config.canvasHeight+24)+'px;"'));0>KUPLOADTOP.RAONKUPLOAD.UserAgent.os.name.toLowerCase().indexOf("windows")&&(KUPLOADTOP.RAONKUPLOAD.browser.gecko&&(r="margin-top:-4px;"),A+="padding-top:2px;");p=
"";"1"==KUPLOADTOP.G_CURRKUPLOADER._config.massFileMode&&(p='disabled="true"');c=c+">"+('<input id="chk_file_'+f+'" '+p+' style="'+r+'" type="checkbox" listvalue="'+f+'" title="'+RAONKUpload_Lang.select_item+" : "+g.replace(/"/g,"")+'" />');c+='<label id="chk_file_label_'+f+'" for="chk_file_'+f+'" class="blind">'+RAONKUpload_Lang.select_item+"</label>";c+="</li>";var G="";b.originNameColor&&""!=b.originNameColor&&(G=' style="color:'+b.originNameColor+';"');var E="",E="1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&
"detail"==KUPLOADTOP.G_CURRKUPLOADER._config.views&&"n"==b.isWebFile?k.replace(/&/g,"&amp;").replace(/ /g,"&nbsp;"):g.replace(/&/g,"&amp;").replace(/ /g,"&nbsp;");b.originNameFormat&&""!=b.originNameFormat&&(-1<b.originNameFormat.indexOf("B")&&(E="<strong>"+E+"</strong>"),-1<b.originNameFormat.indexOf("U")&&(E="<u>"+E+"</u>"),-1<b.originNameFormat.indexOf("S")&&(E="<strike>"+E+"</strike>"),-1<b.originNameFormat.indexOf("I")&&(E="<i>"+E+"</i>"));f=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItem.length;
p=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemWidth.length;y=0;t=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemSetTitle;for(r=0;r<p;r++)y+=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemWidth[r]),y++;var D="";"0"==KUPLOADTOP.G_CURRKUPLOADER._config.sizeColumnWidth?D+='style="display:none;"':(D+='style="display:block;"',"thumbs"!=KUPLOADTOP.G_CURRKUPLOADER._config.views&&KUPLOADTOP.G_CURRKUPLOADER.isScrollWidth0&&(r=0,v=document.getElementById("header_bar_file_size"),
v=KUPLOADTOP.RAONKUPLOAD.util.getClientRect(v),r+=v.width,KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItem&&0<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItem.length||(v=document.getElementById("header_bar_rt"),v=KUPLOADTOP.RAONKUPLOAD.util.getClientRect(v),r+=v.width),D=D.substring(0,D.length-1)+"; width:"+(r-8)+'px;"'));"thumbs"==KUPLOADTOP.G_CURRKUPLOADER._config.views&&""!=KUPLOADTOP.G_CURRKUPLOADER._config.thumbsSize&&(D=D.substring(0,D.length-1)+";top:"+(KUPLOADTOP.G_CURRKUPLOADER._config.canvasHeight+
24)+'px;"');if("thumbs"==KUPLOADTOP.G_CURRKUPLOADER._config.views)D=D.substring(0,D.length-1)+";right:"+y+'px;"',"1"==KUPLOADTOP.G_CURRKUPLOADER._config.thumbsViewMode?(c+='<li class="fname" style="margin-top:17px;"'+u+'"><span title="'+g+'"class="imglst"',""!=KUPLOADTOP.G_CURRKUPLOADER._config.thumbsSize&&(c+='style="width:'+(KUPLOADTOP.G_CURRKUPLOADER._config.canvasWidth+2)+"px; height:"+KUPLOADTOP.G_CURRKUPLOADER._config.canvasHeight+'px;"'),c+='><canvas/></span><span title="'+g+'"'+G+'style = "display:none;">'+
E+"</span>"+w+"</li>"):"2"==KUPLOADTOP.G_CURRKUPLOADER._config.thumbsViewMode?(c+='<li class="fname" style="'+u+'"><span title="'+g+'" class="imglst"',""!=KUPLOADTOP.G_CURRKUPLOADER._config.thumbsSize&&(c+='style="width:'+(KUPLOADTOP.G_CURRKUPLOADER._config.canvasWidth+2)+"px; height:"+KUPLOADTOP.G_CURRKUPLOADER._config.canvasHeight+'px;"'),c+='><canvas/></span><span title="'+g+'"'+G+'style = "padding:3px 14px 0 0;">'+E+"</span>"+w+"</li>"):"3"==KUPLOADTOP.G_CURRKUPLOADER._config.thumbsViewMode?(c+=
'<li class="fname" style="'+u+'"><span title="'+g+'" class="imglst"',""!=KUPLOADTOP.G_CURRKUPLOADER._config.thumbsSize&&(c+='style="width:'+(KUPLOADTOP.G_CURRKUPLOADER._config.canvasWidth+2)+"px; height:"+KUPLOADTOP.G_CURRKUPLOADER._config.canvasHeight+'px;"'),c+="><canvas/></span>",""==l.size.toString()?c+='<span name="RAON_K_UP_fsize" title="N/A" style="height : 20px; padding:3px 13px 0 0;">N/A</span>':(r=l.toString,c+='<span name="RAON_K_UP_fsize" title="'+r+'"style="height : 20px; padding:3px 13px 0 0;">'+
r+"</span>"+w+"</li>")):(c+='<li class="fname" style="'+u+'"><span title="'+g+'" class="imglst"',""!=KUPLOADTOP.G_CURRKUPLOADER._config.thumbsSize&&(c+='style="width:'+(KUPLOADTOP.G_CURRKUPLOADER._config.canvasWidth+2)+"px; height:"+KUPLOADTOP.G_CURRKUPLOADER._config.canvasHeight+'px;"'),c+='><canvas/></span><span title="'+g+'"'+G+">"+E+"</span>"+w+"</li>"),"0"!=KUPLOADTOP.G_CURRKUPLOADER._config.thumbsViewMode?""==l.size.toString()?c+='<li class="fsize"  style = "display:none;"'+D+'><span name="RAON_K_UP_fsize" title="N/A">N/A</span></li>':
(r=l.toString,c+='<li class="fsize" style = "display:none;"'+D+'><span name="RAON_K_UP_fsize" title="'+r+'">'+r+"</span></li>"):""==l.size.toString()?c+='<li class="fsize" '+D+'><span name="RAON_K_UP_fsize" title="N/A">N/A</span></li>':(r=l.toString,c+='<li class="fsize" '+D+'><span name="RAON_K_UP_fsize" title="'+r+'">'+r+"</span></li>");else{var B=C=x=v=y="",z=-1E3;if(1!=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder){if(""!=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItem){z=-7;
"0"!=KUPLOADTOP.G_CURRKUPLOADER._config.sizeColumnWidth&&KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&--z;if(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder){for(r=0+KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder-1;r<p;r++)z+=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemWidth[r]),z++;"0"!=
KUPLOADTOP.G_CURRKUPLOADER._config.sizeColumnWidth?z+=100:--z}else{for(r=0+KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder-2;r<p;r++)z+=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemWidth[r]),z++;--z}z+=6-f}else z=-2;KUPLOADTOP.G_CURRKUPLOADER.isScrollWidth0&&(z+=17);"1"==KUPLOADTOP.G_CURRKUPLOADER._config.downloadHybridApp&&(a-=14);2!=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder&&KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>
KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&p+1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder?(a-=9,z+=9):(a-=3,z+=3);p+1>=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder&&(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder?(a-=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder-1,z+=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder-1):(a-=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder-
2,z+=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder-2))}"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager?(r="",r="detail"==KUPLOADTOP.G_CURRKUPLOADER._config.views&&"n"==b.isWebFile?k:g,y+='<li class="fname'+(1!=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder?"_b":"")+'" style="width:'+a+"px;"+(-1E3!=z?"right:"+z+"px;":"")+u+'"><img onerror="javascript:this.src = \''+q+"&t="+KUPLOADTOP.RAONKUPLOAD.util.makeGuid("a_")+'\'"  src="'+q+"&t="+KUPLOADTOP.G_CURRKUPLOADER.fileListIconTimeStamp+
'" alt="'+n+'" style="'+A+'; width:16px; height:16px;"><span title="'+r+'"'+G+">"+E+"</span>"+w+"</li>"):y+='<li class="fname'+(1!=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder?"_b":"")+'" style="width:'+a+"px;"+(-1E3!=z?"right:"+z+"px;":"")+u+'"><img src="'+q+'" alt="'+n+'" style="'+A+'; width:16px; height:16px;"><span title="'+g+'"'+G+">"+E+"</span>"+w+"</li>";1!=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder&&(a=2!=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder&&
KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&p+1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder?a+9:a+3,"1"==KUPLOADTOP.G_CURRKUPLOADER._config.downloadHybridApp&&(a+=14),p+1>=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder&&(a=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder?a+(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder-
1):a+(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder-2)));if(1==KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder)D="1"==KUPLOADTOP.G_CURRKUPLOADER._config.downloadHybridApp?D.substring(0,D.length-1)+'margin-left: 0px; width: 119px;"':D.substring(0,D.length-1)+'margin-left: 24px; width: 95px;"';else{w=0;if("0"!=KUPLOADTOP.G_CURRKUPLOADER._config.sizeColumnWidth&&!(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&
KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder-2>=f)){if(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder)for(r=0+KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder-2;r<p;r++)w+=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemWidth[r]),w++;else{for(r=0+KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder-1;r<p;r++)w+=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemWidth[r]),
w++;w+=a-p-4}1==(f+2-KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder)%2&&(w+=1);"1"==KUPLOADTOP.G_CURRKUPLOADER._config.downloadHybridApp&&KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&(w-=14)}KUPLOADTOP.G_CURRKUPLOADER.isScrollWidth0&&(w+=17);D=D.substring(0,D.length-1)+"right:"+w+'px;"';D=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder?
D.substring(0,D.length-1)+'width: 100px;"':D.substring(0,D.length-1)+'width: 97px;padding-right:8px !important;"'}""==l.size.toString()?v+='<li class="fsize'+(1==KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder?"_b":"")+'" '+D+'><span name="RAON_K_UP_fsize" title="N/A">N/A</span></li>':(r=l.toString,v+='<li class="fsize'+(1==KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder?"_b":"")+'" '+D+'><span name="RAON_K_UP_fsize" title="'+r+'">'+r+"</span></li>");if(""!=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItem){if(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<
KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder-2<f||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder-2<f)B=KUPLOADTOP.G_CURRKUPLOADER.isScrollWidth0?B+'<li class="user_header_box" style="right:17px;">':B+'<li class="user_header_box">';for(r=0;r<f;r++){if(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<
KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&r<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder-1||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&r<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder-1)if(0==r&&(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder||
KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder))l=1+f,x="1"==KUPLOADTOP.G_CURRKUPLOADER._config.downloadHybridApp?x+('<li class="user_header_box_b" style="margin-left:0px;width:'+(KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemWidth[r])+20+l)+'px;">'):x+('<li class="user_header_box_b" style="margin-left:22px;width:'+
(KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemWidth[r])+l)+'px;">');else{w=r+2-2*f;for(l=r+1;l<p;l++)w+=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemWidth[l]),w++;w="0"!=KUPLOADTOP.G_CURRKUPLOADER._config.sizeColumnWidth?w+(100+a):w+a;"1"==KUPLOADTOP.G_CURRKUPLOADER._config.downloadHybridApp&&(w-=14);KUPLOADTOP.G_CURRKUPLOADER.isScrollWidth0&&(w+=17);x+='<li class="user_header_box" style="right:'+w+'px;">'}else if(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<
KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&r>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder-2&&r<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder-2||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&r>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder-2&&r<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder-2){w=0;w=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<
KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder?w+(3+r-f):w+(2+r-2*f);for(l=r+1;l<p;l++)w+=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemWidth[l]),w++;KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder?"0"!=KUPLOADTOP.G_CURRKUPLOADER._config.sizeColumnWidth&&(w+=100):w+=a;"1"==KUPLOADTOP.G_CURRKUPLOADER._config.downloadHybridApp&&KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>
KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&(w-=14);KUPLOADTOP.G_CURRKUPLOADER.isScrollWidth0&&(w+=17);C+='<li class="user_header_box" style="right:'+w+'px;">'}l=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemWidth[r]);"1"==KUPLOADTOP.G_CURRKUPLOADER._config.downloadHybridApp&&0==r&&(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder||
KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder)&&(l+=20);""==b.headerEx?(w="","undefined"!=typeof KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemWidth[r]&&(w+="width:"+l+"px;"),"undefined"!=typeof KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemAlign[r]&&(w+="text-align:"+KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemAlign[r]+";"),""!=w&&(w=' style="'+w+
'"'),KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&r<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder-1||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&r<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder-1?0==r&&(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&
1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder)&&(w=w.substring(0,w.length-1)+'margin-left:-1px;"'):KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&r>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder-2&&r<
KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder-2||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&r>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder-2&&r<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder-2?C+="<span"+w+"></span>":B+="<span"+w+"></span>"):(g=b.headerEx,w="",g&&(w=g.split("|")),k=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemAlign[r],KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<
KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&r<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder-1||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&r<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder-1?(g=f,"button_add"==w[r]?(w=KUPLOADTOP.RAONKUPLOAD.util.makeGuidTagName(),x+="",x=0==r&&(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&
1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder)?x+('<span style="width:'+l+"px;text-indent:"+g+'px;" class="RAON_K_UP_button_box">'):x+('<span style="width:'+l+'px;" class="RAON_K_UP_button_box">'),x+='<form id="form_'+w+'" method="post" enctype="multipart/form-data" encoding="multipart/form-data">',
x+='<em class="RAON_K_UP_button_value">'+RAONKUpload_Lang.btn_add+"</em>",x="1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager?x+('<input id="file_'+w+'" name="file_'+w+'" type="button" onclick="fn_formAdd(this);" /></form>'):x+('<input id="file_'+w+'" name="file_'+w+'" type="file" onchange="fileHandler_formAdd(this, this.value);" /></form>'),x+="</span>"):"button_cancel"==w[r]?(x=0==r&&(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&
1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder)?x+('<span style="width:'+l+"px;text-indent:"+g+'px;" class="RAON_K_UP_button_box">'):x+('<span style="width:'+l+'px;" class="RAON_K_UP_button_box">'),x+='<em class="RAON_K_UP_button_value">'+RAONKUpload_Lang.btn_remove+"</em>",x+='<input type="button" onclick="fileHandler_formCancel(this)" />',
x+="</span>"):(k=null==k||""==k?"text-align:left":"text-align:"+k,x=0==r&&(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder)?x+('<span style="width:'+l+"px;text-indent:"+g+
"px;"+k+';"'+("1"==t[r]?' title="'+w[r]+'"':"")+">&nbsp;"+w[r]+"&nbsp;</span>"):x+('<span style="width:'+l+"px;"+k+';"'+("1"==t[r]?' title="'+w[r]+'"':"")+">&nbsp;"+w[r]+"&nbsp;</span>"))):KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&r>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder-2&&r<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder-2||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>
KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&r>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder-2&&r<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder-2?"button_add"==w[r]?(w=KUPLOADTOP.RAONKUPLOAD.util.makeGuidTagName(),C+="",C+='<span style="width:'+l+'px;" class="RAON_K_UP_button_box">',C+='<form id="form_'+w+'" method="post" enctype="multipart/form-data" encoding="multipart/form-data">',C+='<em class="RAON_K_UP_button_value">'+RAONKUpload_Lang.btn_add+
"</em>",C="1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager?C+('<input id="file_'+w+'" name="file_'+w+'" type="button" onclick="fn_formAdd(this);" /></form>'):C+('<input id="file_'+w+'" name="file_'+w+'" type="file" onchange="fileHandler_formAdd(this, this.value);" /></form>'),C+="</span>"):"button_cancel"==w[r]?(C+='<span style="width:'+l+'px;" class="RAON_K_UP_button_box">',C+='<em class="RAON_K_UP_button_value">'+RAONKUpload_Lang.btn_remove+"</em>",C+='<input type="button" onclick="fileHandler_formCancel(this)" />',
C+="</span>"):(k=null==k||""==k?"text-align:left":"text-align:"+k,C+='<span style="width:'+l+"px;"+k+';"'+("1"==t[r]?' title="'+w[r]+'"':"")+">&nbsp;"+w[r]+"&nbsp;</span>"):"button_add"==w[r]?(w=KUPLOADTOP.RAONKUPLOAD.util.makeGuidTagName(),B+="",B+='<span style="width:'+l+'px;" class="RAON_K_UP_button_box">',B+='<form id="form_'+w+'" method="post" enctype="multipart/form-data" encoding="multipart/form-data">',B+='<em class="RAON_K_UP_button_value">'+RAONKUpload_Lang.btn_add+"</em>",B="1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager?
B+('<input id="file_'+w+'" name="file_'+w+'" type="button" onclick="fn_formAdd(this);" /></form>'):B+('<input id="file_'+w+'" name="file_'+w+'" type="file" onchange="fileHandler_formAdd(this, this.value);" /></form>'),B+="</span>"):"button_cancel"==w[r]?(B+='<span style="width:'+l+'px;" class="RAON_K_UP_button_box">',B+='<em class="RAON_K_UP_button_value">'+RAONKUpload_Lang.btn_remove+"</em>",B+='<input type="button" onclick="fileHandler_formCancel(this)" />',B+="</span>"):(k=null==k||""==k?"text-align:left":
"text-align:"+k,B+='<span style="width:'+l+"px;"+k+';"'+("1"==t[r]?' title="'+w[r]+'"':"")+">&nbsp;"+w[r]+"&nbsp;</span>"));if(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&r<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder-1||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&r<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder-
1)x+="</li>";else if(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&r>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder-2&&r<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder-2||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&r>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder-2&&r<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder-
2)C+="</li>"}if(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder-2<f||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder-2<f)B+="</li>"}c=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder?
c+(x+y+C+v+B):c+(x+v+C+y+B)}if(""==KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItem||"list"!=KUPLOADTOP.G_CURRKUPLOADER._config.views)c+='<li class="user_header_box" style="display:none"></li>';c+="</ul>";var H=document.createElement("li");"thumbs"==KUPLOADTOP.G_CURRKUPLOADER._config.views?(H.className="thumblst",""!=KUPLOADTOP.G_CURRKUPLOADER._config.thumbsSize?H.style.cssText="width:"+(KUPLOADTOP.G_CURRKUPLOADER._config.canvasWidth+12)+"px; height:"+(KUPLOADTOP.G_CURRKUPLOADER._config.canvasHeight+
42)+"px;":"0"!=KUPLOADTOP.G_CURRKUPLOADER._config.thumbsViewMode&&(H.style.cssText="width:"+(KUPLOADTOP.G_CURRKUPLOADER._config.canvasWidth+12)+"px; height:"+(KUPLOADTOP.G_CURRKUPLOADER._config.canvasHeight+32)+"px;")):"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useVirtualList&&(H.className="vfilelst");H.innerHTML=c;KUPLOADTOP.RAONKUPLOAD.util.addEvent(H.getElementsByTagName("li")[KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder],"click",listClickEvent);KUPLOADTOP.RAONKUPLOAD.util.addEvent(H.getElementsByTagName("li")[KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder],
"click",listClickEvent);for(r=1;r<=f;r++)if(c=r,KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&r<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&r<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder)KUPLOADTOP.RAONKUPLOAD.util.addEvent(H.getElementsByTagName("li")[c],"click",
listClickEvent);else if(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&r+1>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder&&r+1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&r+1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder&&r+1>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder)c+=
1,KUPLOADTOP.RAONKUPLOAD.util.addEvent(H.getElementsByTagName("li")[c],"click",listClickEvent);else if(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&r+2>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&r+2>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder){c+=2;KUPLOADTOP.RAONKUPLOAD.util.addEvent(H.getElementsByTagName("li")[c],
"click",listClickEvent);break}1==KUPLOADTOP.G_CURRKUPLOADER._config.moveMouseDrag&&KUPLOADTOP.RAONKUPLOAD.browser.HTML5Supported&&KUPLOADTOP.RAONKUPLOAD.util.addEvent(H,"mousedown",startDragFileList);KUPLOADTOP.RAONKUPLOAD.util.addEvent(H.getElementsByTagName("input")[0],"click",function(a){if(a){var b=KUPLOADTOP.G_CURRKUPLOADER.ID,c=getUploaderFromEvent(a);b!=c.ID&&(KUPLOADTOP.G_CURRKUPLOADER=c)}for(var e=document.getElementById("file_list").getElementsByTagName("input"),b=e.length,c=[],f=0;f<b;f++)"checkbox"==
e[f].type&&c.push(e[f]);b=c.length;e=H.getElementsByTagName("input")[0];if(1==e.checked)if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useSingleSelect)commonFileSelect(H,a,0);else for(e.value="true",fileListSelection(e),f=0;f<b;f++)if(e==c[f]){select_file_idx=before_shift_idx=f;fileListSelectionBorder(e);e.focus();var g=c[f].getAttribute("listvalue");try{if(RESULTFILELIST[g]){var k=null;"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&(k=RESULTFILELIST[g].file);var l="";"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&
""!=RESULTFILELIST[g].localPath&&(l=KUPLOADTOP.RAONKSolution.managerFinalUrl+"/"+encodeURIComponent(RESULTFILELIST[g].localPath));var n={isWebFile:RESULTFILELIST[g].isWebFile,strLocalPath:RESULTFILELIST[g].localPath,strWebPath:RESULTFILELIST[g].webPath,nFileSize:RESULTFILELIST[g].fileSize,strOriginalName:RESULTFILELIST[g].originName,strExtension:RESULTFILELIST[g].fileExt,nIndex:f,strUniqkey:RESULTFILELIST[g].fileIdx,strCustomValue:RESULTFILELIST[g].customValue,strPreviewUrl:l,objFile:k,colIndex:0,
colunmIndex:0};"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.selectItem?KUPLOADTOP.G_CURRKUPLOADER._config.event.selectItem(KUPLOADTOP.G_CURRKUPLOADER.ID,n):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_SelectItem(KUPLOADTOP.G_CURRKUPLOADER.ID,n)}}catch(p){}"1"==KUPLOADTOP.G_CURRKUPLOADER._config.imgPreView&&(g=RESULTFILELIST[g],"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"html4"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode?showImgPreViewPopup(a,g,"html4"):showImgPreViewPopup(a,
g,"html5"))}else fileListNoneSelectionBorder(c[f]);else for(fileListNoneSelection(e),f=0;f<b;f++)e==c[f]?(select_file_idx=before_shift_idx=f,fileListSelectionBorder(e),e.focus()):fileListNoneSelectionBorder(c[f]);a=document.getElementById("chk_all_box");n=!0;for(f=0;f<b;f++)if(0==c[f].checked){n=!1;break}a.checked=n});var F=document.getElementById("file_list");a=function(a){return function(b){if(b){var c=KUPLOADTOP.G_CURRKUPLOADER.ID,e=getUploaderFromEvent(b);c!=e.ID&&(KUPLOADTOP.G_CURRKUPLOADER=
e)}if("1"!=KUPLOADTOP.G_CURRKUPLOADER._config.massFileMode&&"download"!=KUPLOADTOP.G_CURRKUPLOADER._config.mode&&"0"!=KUPLOADTOP.G_CURRKUPLOADER._config.useDbclickOpen){b&&(c=KUPLOADTOP.G_CURRKUPLOADER.ID,e=getUploaderFromEvent(b),c!=e.ID&&(KUPLOADTOP.G_CURRKUPLOADER=e));b=[];for(c=0;c<F.childNodes.length;c++)if(a==F.childNodes[c]&&(e=a.getElementsByTagName("input")[0].getAttribute("listvalue"),null!=e&&void 0!=e&&""!=RESULTFILELIST[e].originName))if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager){b.push(parseInt(e,
10));break}else if("y"==RESULTFILELIST[e].isWebFile&&"n"==RESULTFILELIST[e].isDelete&&(""!=RESULTFILELIST[e].webPath||""!=RESULTFILELIST[e].customValue)){b.push(parseInt(e,10));break}if(0<b.length)if(""==KUPLOADTOP.G_CURRKUPLOADER._config.allowOpenExtension||"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager)"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager?(c=KUPLOADTOP.G_CURRKUPLOADER._config.changeDbclickCommand,c=c.toLowerCase(),"download"==c?downloadSubmit([b[0]]):"downloadandopen"==c?saveAndOpenEx():
"downloadandfolderopen"==c?saveAndFolderOpenEx():openSubmit(b)):openSubmit(b);else if(""!=KUPLOADTOP.G_CURRKUPLOADER._config.allowOpenExtension){for(var e=KUPLOADTOP.G_CURRKUPLOADER._config.allowOpenExtension.split(","),f=e.length,c=0;c<f;c++)if(e[c]==RESULTFILELIST[b[0]].fileExt){openSubmit(b);return}downloadSubmit([b[0]])}}}}(H);KUPLOADTOP.RAONKUPLOAD.util.addEvent(H.getElementsByTagName("li")[KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder],"dblclick",a);KUPLOADTOP.RAONKUPLOAD.util.addEvent(H.getElementsByTagName("li")[KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder],
"dblclick",a);for(r=1;r<=f;r++)if(c=r,KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&r<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&r<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder)KUPLOADTOP.RAONKUPLOAD.util.addEvent(H.getElementsByTagName("li")[3],"dblclick",a);else if(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<
KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&r+1>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder&&r+1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&r+1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder&&r+1>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder)c+=1,KUPLOADTOP.RAONKUPLOAD.util.addEvent(H.getElementsByTagName("li")[3],
"dblclick",a);else if(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&r+2>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&r+2>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder){c+=2;KUPLOADTOP.RAONKUPLOAD.util.addEvent(H.getElementsByTagName("li")[3],"dblclick",a);break}"thumbs"==
KUPLOADTOP.G_CURRKUPLOADER._config.views&&(e?thumbsViewWithCanvas(b,H,e):KUPLOADTOP.G_CURRKUPLOADER.checkThumbsArr.push({fileObj:b,oneList:H}));"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useVirtualList?(b=document.getElementById("chk_all_box"),e=H.getElementsByTagName("input")[0],b.checked&&(e.checked=!0),e.style.cursor="auto",H.firstChild.style.cursor="auto"):F.appendChild(H);return H}
function listClickEvent(b){if(b){var e=KUPLOADTOP.G_CURRKUPLOADER.ID,c=getUploaderFromEvent(b);e!=c.ID&&(KUPLOADTOP.G_CURRKUPLOADER=c)}var a=b.target?b.target:b.srcElement;if("1"!=KUPLOADTOP.G_CURRKUPLOADER._config.massFileMode&&!(a&&("select"==a.tagName.toLowerCase()||"option"==a.tagName.toLowerCase())||a&&"input"==a.tagName.toLowerCase()&&a.parentNode&&"li"!=a.parentNode.tagName.toLowerCase()&&"input_chk"!=a.parentNode.className.toLowerCase())&&(e=KUPLOADTOP.RAONKUPLOAD.util.getParentbyTagName(a,
"ul"))){try{for(var c="",c="span"!=a.nodeName.toLowerCase()?a.children[0]:a,f=c.parentElement.parentElement.childNodes.length,g=null,a=0;a<f;a++)c.parentElement==c.parentElement.parentElement.children[a]&&(g=a)}catch(k){}commonFileSelect(e,b,g)}}
function commonFileSelect(b,e,c){for(var a=document.getElementById("file_list").getElementsByTagName("input"),f=a.length,g=[],k=0;k<f;k++)"checkbox"==a[k].type&&g.push(a[k]);f=g.length;b=b.getElementsByTagName("input")[0];for(k=0;k<f;k++)if(g[k]==b){fileListSelection(g[k]);g[k].focus();fileListSelectionBorder(g[k]);select_file_idx=k;1==e.shiftKey?shiftListClick(k,f,g):1==e.ctrlKey?(before_shift_idx=k,b.checked=!0,fileListSelectionBorder(g[k])):(0==dragClicked?(0==g[k].checked&&(b.checked=!0),document.getElementById("chk_all_box").checked=
!1):dragClicked=!1,fileListSelectionBorder(g[k]),before_shift_idx=k);a=g[k].getAttribute("listvalue");try{if(RESULTFILELIST[a]){var l=null;"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&(l=RESULTFILELIST[a].file);var n="";"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&""!=RESULTFILELIST[a].localPath&&(n=KUPLOADTOP.RAONKSolution.managerFinalUrl+"/"+encodeURIComponent(RESULTFILELIST[a].localPath));var q={isWebFile:RESULTFILELIST[a].isWebFile,strLocalPath:RESULTFILELIST[a].localPath,strWebPath:RESULTFILELIST[a].webPath,
nFileSize:RESULTFILELIST[a].fileSize,strOriginalName:RESULTFILELIST[a].originName,strExtension:RESULTFILELIST[a].fileExt,nIndex:k,strUniqkey:RESULTFILELIST[a].fileIdx,strCustomValue:RESULTFILELIST[a].customValue,strPreviewUrl:n,objFile:l,colIndex:c,colunmIndex:c};"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.selectItem?KUPLOADTOP.G_CURRKUPLOADER._config.event.selectItem(KUPLOADTOP.G_CURRKUPLOADER.ID,q):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_SelectItem(KUPLOADTOP.G_CURRKUPLOADER.ID,q)}}catch(p){}"1"==
KUPLOADTOP.G_CURRKUPLOADER._config.imgPreView&&(a=RESULTFILELIST[a],"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"html4"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode?showImgPreViewPopup(e,a,"html4"):showImgPreViewPopup(e,a,"html5"))}else{if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useSingleSelect||0==e.shiftKey&&0==e.ctrlKey)g[k].checked=!1,fileListNoneSelection(g[k]);fileListNoneSelectionBorder(g[k])}}R[5]="/";C1[5]="/";C2[5]=":";ALS[5]="U";S1[5]="/";S2[5]=":";R[6]="/";C1[6]="/";
C2[6]="/";ALS[6]="p";S1[6]="/";S2[6]="/";
function uploadCancel(b){var e=window;try{e=KUPLOADTOP.G_CURRKUPLOADER.frameWin}catch(c){}if(null!=e.G_downloadIdxArr&&void 0!=e.G_downloadIdxArr&&0<e.G_downloadIdxArr.length)b?(e.G_downloadPossibilityCnt=-1,e.G_PreUploadedSizeForOnprogress=0,b=KUPLOADTOP.G_CURRKUPLOADER.ID,KUPLOADTOP.G_CURRKUPLOADER.init(b),e.closeSendDialog(),"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"html4"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode&&(b=getDialogDocument(),b.getElementById("RAON_K_UP_upload_speed_tr").style.display=
"none"),e.G_downloadIdxArr=[],e.G_downloadStatusMaxNullCnt=5,e.clearInterval(e.G_downloadRequestInterval),e.G_downloadRequestInterval=null,e.clearInterval(KUPLOADTOP.G_CURRKUPLOADER.processTimeInterval),KUPLOADTOP.G_CURRKUPLOADER.processTimeInterval=null,KUPLOADTOP.G_CURRKUPLOADER.processTime=0):1==confirm(RAONKUpload_Lang.message_download_cancel)&&("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring&&(e.G_KUPlugin.kmonitoring.setTransferTime("end"),e.G_KUPlugin.kmonitoring.endDownloadRequest("Canceled",
"2")),e.G_downloadPossibilityCnt=-1,e.G_PreUploadedSizeForOnprogress=0,b=KUPLOADTOP.G_CURRKUPLOADER.ID,KUPLOADTOP.G_CURRKUPLOADER.init(b),e.closeSendDialog(),"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"html4"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode&&(b=getDialogDocument(),b.getElementById("RAON_K_UP_upload_speed_tr").style.display="none"),e.G_downloadIdxArr=[],e.G_downloadStatusMaxNullCnt=5,e.clearInterval(e.G_downloadRequestInterval),e.G_downloadRequestInterval=null,e.clearInterval(KUPLOADTOP.G_CURRKUPLOADER.processTimeInterval),
KUPLOADTOP.G_CURRKUPLOADER.processTimeInterval=null,KUPLOADTOP.G_CURRKUPLOADER.processTime=0);else if(b)e.fn_uploadCancel();else if(1==confirm("0"!=KUPLOADTOP.G_CURRKUPLOADER._config.useKManager||"html4"!=KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode?RAONKUpload_Lang.message_upload_cancel:RAONKUpload_Lang.message_upload_cancel_html4)){b=!1;for(var a=G_UploadEndRequestXhr.length,f=0;f<a;f++)if(G_NowUploadEndReqeustXhr==G_UploadEndRequestXhr[f]){b=!0;break}b||"0"!=KUPLOADTOP.G_CURRKUPLOADER._config.useKManager||
"html5"!=KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode||"1"!=KUPLOADTOP.G_CURRKUPLOADER._config.resumeUpload?b&&"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"html5"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode&&"1"==KUPLOADTOP.G_CURRKUPLOADER._config.resumeUpload&&KUPLOADTOP.G_CURRKUPLOADER.isCurrResumeUpload&&(KUPLOADTOP.window.localStorage.RAONK_resume_up_info=""):e.RESULTFILELIST[e.uploaders[e.upload_complete_count]]&&(b={guid:"",localPath:"",originName:"",fileSize:0,uploadedSize:0,
uploadedTaskId:"",lastTransferDateTime:"",chunkSize:KUPLOADTOP.G_CURRKUPLOADER._config.chunkSize,workerCount:KUPLOADTOP.G_CURRKUPLOADER.currWorkerCount},a=new Date,f=KUPLOADTOP.RAONKUPLOAD.util.prependZero(a.getFullYear(),4)+".",f+=KUPLOADTOP.RAONKUPLOAD.util.prependZero(a.getMonth()+1,2)+".",f+=KUPLOADTOP.RAONKUPLOAD.util.prependZero(a.getDate(),2)+" ",f+=KUPLOADTOP.RAONKUPLOAD.util.prependZero(a.getHours(),2)+":",f+=KUPLOADTOP.RAONKUPLOAD.util.prependZero(a.getMinutes(),2)+":",f+=KUPLOADTOP.RAONKUPLOAD.util.prependZero(a.getSeconds(),
2),b.guid=e.RESULTFILELIST[e.uploaders[e.upload_complete_count]].guid,b.localPath=e.RESULTFILELIST[e.uploaders[e.upload_complete_count]].localPath,b.originName=e.RESULTFILELIST[e.uploaders[e.upload_complete_count]].originName,b.fileSize=e.RESULTFILELIST[e.uploaders[e.upload_complete_count]].fileSize,b.lastTransferDateTime=f,b.uploadedTaskId=KUPLOADTOP.G_CURRKUPLOADER.uploadedTaskId,KUPLOADTOP.G_CURRKUPLOADER.isCurrResumeUpload?(a=KUPLOADTOP.G_CURRKUPLOADER.resumeInfoObj,null==a&&(a=b),b.uploadedSize=
a.uploadedSize+KUPLOADTOP.G_CURRKUPLOADER.uploadedSize):b.uploadedSize=KUPLOADTOP.G_CURRKUPLOADER.uploadedSize,KUPLOADTOP.RAONKUPLOAD.util.saveJsonToLocalStorage("RAONK_resume_up_info",b));if("0"!=KUPLOADTOP.G_CURRKUPLOADER._config.useKManager||"html4"!=KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode){if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useUploadingCancelEvent){b=e.getUploadedFileListObj();b=setUploadExtraData(b);b={strType:"upload",bAutoTransferFlag:!1,arrAllFileList:null,arrUploadedFileList:b};
try{"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.uploadingCancel?KUPLOADTOP.G_CURRKUPLOADER._config.event.uploadingCancel(KUPLOADTOP.G_CURRKUPLOADER.ID,b):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_UploadingCancel(KUPLOADTOP.G_CURRKUPLOADER.ID,b)}catch(g){}}"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring&&(e.G_KUPlugin.kmonitoring.setTransferTime("end"),e.G_KUPlugin.kmonitoring.endUploadRequest("Canceled","2"));if(1==G_MultiTranferCheck)G_MultiTranferCheck=3;else try{"0"==KUPLOADTOP.G_CURRKUPLOADER._config.skipSentFile&&
fileListReset()}catch(k){}}KUPLOADTOP.G_CURRKUPLOADER._config.uploadCancel=!0;null!=G_NowUploadEndReqeustXhr&&G_UploadEndRequestCancelXhr.push(G_NowUploadEndReqeustXhr);"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"html5"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode&&removeWorker();"html5plus"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode&&removeSocket();if("0"!=KUPLOADTOP.G_CURRKUPLOADER._config.useKManager||"html4"!=KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode)e.clearInterval(KUPLOADTOP.G_CURRKUPLOADER.processTimeInterval),
KUPLOADTOP.G_CURRKUPLOADER.processTimeInterval=null,KUPLOADTOP.G_CURRKUPLOADER.processTime=0,0<getSessionKeepData(KUPLOADTOP.G_CURRKUPLOADER).length&&(KUPLOADTOP.G_CURRKUPLOADER._config.sessionKeep.requestFlag=!1),e.closeSendDialog(),KUPLOADTOP.G_CURRKUPLOADER.cancel()}}SIL[2]="o";
function getUploadedFileListObj(){for(var b=[],e=RESULTFILELIST.length,c=0,a=0;a<e;a++)"complete"==RESULTFILELIST[a].status&&b.push({originName:RESULTFILELIST[a].originName,fileSize:RESULTFILELIST[a].fileSize,uploadName:RESULTFILELIST[a].uploadName,uploadPath:RESULTFILELIST[a].uploadPath,logicalPath:RESULTFILELIST[a].logicalPath,order:c,status:RESULTFILELIST[a].status,customValue:RESULTFILELIST[a].customValue,responseCustomValue:RESULTFILELIST[a].responseCustomValue,localPath:RESULTFILELIST[a].localPath}),
"n"==RESULTFILELIST[a].isDelete&&c++;return b}
function getDownloadedFileListObj(b){for(var e=[],c=RESULTFILELIST.length,a=0,f=function(c){var f={uniqueKey:c.fileIdx?c.fileIdx:c.uniqueKey?c.uniqueKey:"",originName:c.originName,fileSize:c.fileSize,uploadName:c.uploadName?c.uploadName:"",uploadPath:"",logicalPath:c.logicalPath,order:a,status:c.status,customValue:c.customValue,webPath:c.webPath,fileId:c.fileId?c.fileId:"",transferId:""};b&&"string"==typeof b.transferId&&(f.transferId=b.transferId);"string"==typeof c.fileId&&delete c.fileId;e.push(f)},
g=function(a){var b=!1;if("started"==a||"complete"==a)b=!0;return b},k=0;k<c;k++)if("y"==RESULTFILELIST[k].isWebFile)if("1"==RESULTFILELIST[k].isFolder)for(var l=FOLDERLISTINFO[RESULTFILELIST[k].folderIdx],n=l.length,q=0;q<n;q++)g(l[q].status)&&f(l[q]),"n"==RESULTFILELIST[k].isDelete&&a++;else g(RESULTFILELIST[k].status)&&f(RESULTFILELIST[k]),"n"==RESULTFILELIST[k].isDelete&&a++;return e}Z[2]="t";
function deleteSelectedFile(b,e){if(b){var c=KUPLOADTOP.G_CURRKUPLOADER.ID,a=getUploaderFromEvent(b);c!=a.ID&&(KUPLOADTOP.G_CURRKUPLOADER=a)}if(("upload"==KUPLOADTOP.G_CURRKUPLOADER._config.mode||0!=!!e)&&0!=isExecuteApi()){if("0"==KUPLOADTOP.G_CURRKUPLOADER._config.disableAlertMessage.deleteUnchosen){c=getSelectedFileCount();if(-1==c){alert(RAONKUpload_Lang.message_file_notexist);return}if(0==c){alert(RAONKUpload_Lang.message_file_unchosen);return}}for(var a=[],f=document.getElementById("file_list"),
g=f.getElementsByTagName("input"),k=g.length,l=[],c=0;c<k;c++)"checkbox"==g[c].type&&l.push(g[c]);l=f.getElementsByTagName("input");k=l.length;g=-1;for(c=0;c<k;c++)l[c].getAttribute("raonk_select")&&"1"==l[c].getAttribute("raonk_select")&&0==l[c].checked&&(g=c,l[c].checked=!0);for(var n=!1,c=0;c<k;c++)if(l[c].checked){n=!0;break}if(n)if(c=KUPLOADTOP.G_CURRKUPLOADER._config.disableAlertMessage.disableDeleteConfirm,n=document.getElementById("chk_all_box").checked,"1"==c||"2"==c&&!n||"3"==c&&n||!n&&
confirm(RAONKUpload_Lang.message_selected_remove)||n&&confirm(RAONKUpload_Lang.message_all_remove)){g=0;if("0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"html4"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode)for(n=0;n<RESULTFILELIST.length;n++)"n"==RESULTFILELIST[n].isDelete&&"y"==RESULTFILELIST[n].isWebFile&&g++;for(var q=[],c=k-1;0<=c;c--)if(l[c].checked){for(var k=c,p=RESULTFILELIST.length,t=-1,n=0;n<p;n++)if("y"!=RESULTFILELIST[n].isDelete&&t++,t==c){k=n;break}p=null;if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useDeleteEvent){n=
"0";"y"==RESULTFILELIST[k].isWebFile.toLowerCase()&&(n="1");t=!0;try{p={strIsWebFile:n,strKey:RESULTFILELIST[k].fileIdx,strPath:"1"==n?RESULTFILELIST[k].webPath:RESULTFILELIST[k].localPath,nIndex:c,nSize:RESULTFILELIST[k].fileSize,isFolder:"1"==RESULTFILELIST[k].isFolder?!0:!1,strCustomValue:RESULTFILELIST[k].customValue},a.push(p),t="function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.beforeDeleteFile?KUPLOADTOP.G_CURRKUPLOADER._config.event.beforeDeleteFile(KUPLOADTOP.G_CURRKUPLOADER.ID,
p):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_BeforeDeleteFile(KUPLOADTOP.G_CURRKUPLOADER.ID,p)}catch(u){}if(0==t)continue;else"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useDeleteEndTimeEvent&&G_DeleteItemCount++}"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"html4"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode&&"n"==RESULTFILELIST[k].isWebFile&&(n=document.getElementById("files_container"))&&(k=n.getElementsByTagName("form")[c-g])&&n.removeChild(k.parentNode);f.removeChild(f.childNodes[c]);for(n=
0;n<RESULTFILELIST.length;n++)"n"==RESULTFILELIST[n].isDelete&&q.push(RESULTFILELIST[n]);q[c].isDelete="y";"1"==q[c].isFolder&&"n"==q[c].isWebFile&&(FOLDERLISTINFO[q[c].folderIdx]=null);if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useDeleteAfterEvent)try{p.nIndex="","function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.afterDeleteFile?KUPLOADTOP.G_CURRKUPLOADER._config.event.afterDeleteFile(KUPLOADTOP.G_CURRKUPLOADER.ID,p):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_AfterDeleteFile(KUPLOADTOP.G_CURRKUPLOADER.ID,
p)}catch(v){}}0==f.hasChildNodes()&&("upload"==KUPLOADTOP.G_CURRKUPLOADER._config.mode?"1"==KUPLOADTOP.G_CURRKUPLOADER._config.hideListInfo?document.getElementById("file_temp").style.display="none":document.getElementById("file_temp").style.display="":displayViewMessage(!0),document.getElementById("chk_all_box").checked=!1);for(c=RESULTFILELIST.length-1;0<=c;c--)if("y"==RESULTFILELIST[c].isDelete&&"n"==RESULTFILELIST[c].isWebFile)for(RESULTFILELIST.splice(c,1),l=f.getElementsByTagName("input"),g=
l.length,n=0;n<g;n++)q=l[n].getAttribute("listvalue"),null!=q&&void 0!=q&&(q=parseInt(q,10),q>c&&l[n].setAttribute("listvalue",q-1));calcTotalSize();displayTotalSizeAndNum();setFileListBorder();setLargeFileAllList();if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useDeleteEndTimeEvent)try{p={nDeleteCount:G_DeleteItemCount,arrFileList:a},"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.deleteAllFile?KUPLOADTOP.G_CURRKUPLOADER._config.event.deleteAllFile(KUPLOADTOP.G_CURRKUPLOADER.ID,p):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_DeleteAllFile(KUPLOADTOP.G_CURRKUPLOADER.ID,
p),G_DeleteItemCount=0}catch(x){}}else-1<g&&(l[g].checked=!1);p=document.getElementById("file_list").getElementsByTagName("input");a=0;f=p.length;for(c=0;c<f;c++)fileListNoneSelectionBorder(p[c]);for(c=0;c<RESULTFILELIST.length;c++)"n"==RESULTFILELIST[c].isDelete&&a++;0==a?(before_shift_idx=0,select_file_idx=-1):(before_shift_idx>=a&&(before_shift_idx=a-1),select_file_idx>=a&&(select_file_idx=a-1),-1!=select_file_idx&&(before_shift_idx=select_file_idx,fileListSelectionBorder(p[select_file_idx]),p[select_file_idx].focus()))}}
function deleteSelectedFileMass(b,e){if(b){var c=KUPLOADTOP.G_CURRKUPLOADER.ID,a=getUploaderFromEvent(b);c!=a.ID&&(KUPLOADTOP.G_CURRKUPLOADER=a)}if(("upload"==KUPLOADTOP.G_CURRKUPLOADER._config.mode||0!=!!e)&&0!=isExecuteApi())if("0"==KUPLOADTOP.G_CURRKUPLOADER._config.disableAlertMessage.deleteUnchosen&&0==document.getElementById("file_list").hasChildNodes())alert(RAONKUpload_Lang.message_file_notexist);else{for(var c=[],a=RESULTFILELIST.length,f=0;f<a;f++){var g=null;if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useDeleteEvent){var k=
"0";"y"==RESULTFILELIST[f].isWebFile.toLowerCase()&&(k="1");var l=!0;try{g={strIsWebFile:k,strKey:RESULTFILELIST[f].fileIdx,strPath:"1"==k?RESULTFILELIST[delete_idx].webPath:RESULTFILELIST[f].localPath,nIndex:f,nSize:RESULTFILELIST[f].fileSize,isFolder:"1"==RESULTFILELIST[f].isFolder?!0:!1,strCustomValue:RESULTFILELIST[f].customValue},c.push(g),l="function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.beforeDeleteFile?KUPLOADTOP.G_CURRKUPLOADER._config.event.beforeDeleteFile(KUPLOADTOP.G_CURRKUPLOADER.ID,
g):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_BeforeDeleteFile(KUPLOADTOP.G_CURRKUPLOADER.ID,g)}catch(n){}if(0==l)continue;else"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useDeleteEndTimeEvent&&G_DeleteItemCount++}"1"==RESULTFILELIST[f].isFolder&&"n"==RESULTFILELIST[f].isWebFile&&(FOLDERLISTINFO[RESULTFILELIST[f].folderIdx]=null);if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useDeleteAfterEvent)try{g.nIndex="","function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.afterDeleteFile?KUPLOADTOP.G_CURRKUPLOADER._config.event.afterDeleteFile(KUPLOADTOP.G_CURRKUPLOADER.ID,
g):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_AfterDeleteFile(KUPLOADTOP.G_CURRKUPLOADER.ID,g)}catch(q){}}"upload"==KUPLOADTOP.G_CURRKUPLOADER._config.mode?"1"==KUPLOADTOP.G_CURRKUPLOADER._config.hideListInfo?document.getElementById("file_temp").style.display="none":document.getElementById("file_temp").style.display="":displayViewMessage(!0);document.getElementById("chk_all_box").checked=!1;for(f=RESULTFILELIST.length-1;0<=f;f--)"n"==RESULTFILELIST[f].isWebFile?RESULTFILELIST.splice(f,1):RESULTFILELIST[f].isDelete=
"y";TOTALREALFILENUM=TOTALFILELISTNUM=TOTALFILELISTSIZE=0;displayTotalSizeAndNum();setFileListBorder();setLargeFileAllList();if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useDeleteEndTimeEvent)try{g={nDeleteCount:G_DeleteItemCount,arrFileList:c},"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.deleteAllFile?KUPLOADTOP.G_CURRKUPLOADER._config.event.deleteAllFile(KUPLOADTOP.G_CURRKUPLOADER.ID,g):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_DeleteAllFile(KUPLOADTOP.G_CURRKUPLOADER.ID,g),G_DeleteItemCount=
0}catch(p){}G_KVirtualList.virtualListInfo=[];G_KVirtualList.module.update()}}R[7]="w";C1[7]="a";C2[7]="/";ALS[7]="l";S1[7]="a";S2[7]="/";
function deleteCurrentFile(b,e){var c=KUPLOADTOP.G_CURRKUPLOADER._config.disableAlertMessage.disableDeleteConfirm,a=document.getElementById("chk_all_box").checked;if("1"==c||"2"==c&&!a||"3"==c&&a||!a&&confirm(RAONKUpload_Lang.message_selected_remove)||a&&confirm(RAONKUpload_Lang.message_all_remove)){c=null;a=[];if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useDeleteEvent){for(var f=RESULTFILELIST.length,g=b,k=-1,l=0;l<f;l++)if("y"!=RESULTFILELIST[l].isDelete&&k++,k==b){g=l;break}l="0";"y"==RESULTFILELIST[g].isWebFile.toLowerCase()&&
(l="1");f=!0;try{c={strWebFile:l,strKey:RESULTFILELIST[g].fileIdx,strPath:"1"==l?RESULTFILELIST[g].webPath:RESULTFILELIST[g].localPath,nIndex:b,nSize:RESULTFILELIST[g].fileSize,strCustomValue:RESULTFILELIST[g].customValue},a.push(c),f="function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.beforeDeleteFile?KUPLOADTOP.G_CURRKUPLOADER._config.event.beforeDeleteFile(KUPLOADTOP.G_CURRKUPLOADER.ID,c):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_BeforeDeleteFile(KUPLOADTOP.G_CURRKUPLOADER.ID,c)}catch(n){}if(0==
f)return!1;"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useDeleteEndTimeEvent&&G_DeleteItemCount++}var g=b,q=0;if("0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"html4"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode)for(l=0;l<RESULTFILELIST.length;l++)"n"==RESULTFILELIST[l].isDelete&&"y"==RESULTFILELIST[l].isWebFile&&q++;f=document.getElementById("file_list");k=[];"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"html4"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode&&"n"==RESULTFILELIST[g].isWebFile&&
(l=document.getElementById("files_container"),q=l.getElementsByTagName("form")[g-q],l.removeChild(q.parentNode));f.removeChild(f.childNodes[g]);for(l=0;l<RESULTFILELIST.length;l++)"n"==RESULTFILELIST[l].isDelete&&k.push(RESULTFILELIST[l]);k[g].isDelete="y";0==f.hasChildNodes()&&("upload"==KUPLOADTOP.G_CURRKUPLOADER._config.mode?"1"==KUPLOADTOP.G_CURRKUPLOADER._config.hideListInfo?document.getElementById("file_temp").style.display="none":document.getElementById("file_temp").style.display="":displayViewMessage(!0),
document.getElementById("chk_all_box").checked=!1);if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useDeleteAfterEvent)try{c.nIndex="","function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.afterDeleteFile?KUPLOADTOP.G_CURRKUPLOADER._config.event.afterDeleteFile(KUPLOADTOP.G_CURRKUPLOADER.ID,c):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_AfterDeleteFile(KUPLOADTOP.G_CURRKUPLOADER.ID,c)}catch(p){}for(g=RESULTFILELIST.length-1;0<=g;g--)if("y"==RESULTFILELIST[g].isDelete&&"n"==RESULTFILELIST[g].isWebFile)for(RESULTFILELIST.splice(g,
1),k=f.getElementsByTagName("input"),q=k.length,l=0;l<q;l++){var t=k[l].getAttribute("listvalue");null!=t&&void 0!=t&&(t=parseInt(t,10),t>g&&k[l].setAttribute("listvalue",t-1))}calcTotalSize();displayTotalSizeAndNum();setFileListBorder();if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useDeleteEndTimeEvent)try{c={nDeleteCount:G_DeleteItemCount,arrFileList:a},"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.deleteAllFile?KUPLOADTOP.G_CURRKUPLOADER._config.event.deleteAllFile(KUPLOADTOP.G_CURRKUPLOADER.ID,
c):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_DeleteAllFile(KUPLOADTOP.G_CURRKUPLOADER.ID,c),G_DeleteItemCount=0}catch(u){}}c=document.getElementById("file_list").getElementsByTagName("input");for(g=a=0;g<RESULTFILELIST.length;g++)"n"==RESULTFILELIST[g].isDelete&&a++;0==a?(before_shift_idx=0,select_file_idx=-1):(before_shift_idx>=a&&(before_shift_idx=a-1),select_file_idx>=a&&(select_file_idx=a-1),-1!=select_file_idx&&(before_shift_idx=select_file_idx,fileListSelectionBorder(c[select_file_idx]),c[select_file_idx].focus()))}
R[8]="w";C1[8]="u";C2[8]="a";ALS[8]="o";S1[8]="u";S2[8]="a";
function deleteAllFile(b,e){if(b){var c=KUPLOADTOP.G_CURRKUPLOADER.ID,a=getUploaderFromEvent(b);c!=a.ID&&(KUPLOADTOP.G_CURRKUPLOADER=a)}"upload"!=KUPLOADTOP.G_CURRKUPLOADER._config.mode&&0==!!e||0==isExecuteApi()||("0"==KUPLOADTOP.G_CURRKUPLOADER._config.disableAlertMessage.deleteUnchosen&&-1==getSelectedFileCount()?alert(RAONKUpload_Lang.message_file_notexist):document.getElementById("file_list").hasChildNodes()&&("1"==KUPLOADTOP.G_CURRKUPLOADER._config.massFileMode?deleteSelectedFileMass():(document.getElementById("chk_all_box").checked=
!0,checkAll(),void 0!=e?deleteSelectedFile(null,e):deleteSelectedFile())))}R[9]="w";C1[9]="t";C2[9]="u";ALS[9]="a";S1[9]="t";S2[9]="u";
function calcTotalSize(){var b=RESULTFILELIST.length,e=0,c=0,a=0;KUPLOADTOP.G_CURRKUPLOADER.hasFolder=!1;for(var f=0;f<b;f++)"n"==RESULTFILELIST[f].isDelete&&(e+=RESULTFILELIST[f].fileSize,"1"==RESULTFILELIST[f].isFolder&&(KUPLOADTOP.G_CURRKUPLOADER.hasFolder=!0,a+=RESULTFILELIST[f].fileCount),c++,"1"!=RESULTFILELIST[f].isFolder&&a++);TOTALFILELISTSIZE=e;TOTALFILELISTNUM=c;TOTALREALFILENUM=a}
function calcTotalSize2(b){TOTALFILELISTSIZE+=b.fileSize;"1"==b.isFolder?(KUPLOADTOP.G_CURRKUPLOADER.hasFolder=!0,TOTALREALFILENUM+=b.fileCount):TOTALREALFILENUM++;TOTALFILELISTNUM++}R[10]=".";C1[10]="h";C2[10]="t";ALS[10]="d";S1[10]="h";S2[10]="t";
function displayTotalSizeAndNum(){var b=KUPLOADTOP.RAONKUPLOAD.util.bytesToSize(TOTALFILELISTSIZE),e=document.getElementById("current_file_info"),c="",c=KUPLOADTOP.G_CURRKUPLOADER.hasFolder?'<span id="total_num">'+TOTALFILELISTNUM+" "+RAONKUpload_Lang.file_unit2+"</span>":'<span id="total_num">'+TOTALFILELISTNUM+"</span> "+RAONKUpload_Lang.file_unit;if("0"!=KUPLOADTOP.G_CURRKUPLOADER._config.useKManager||"html4"!=KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode||"upload"!=KUPLOADTOP.G_CURRKUPLOADER._config.mode)c+=
', <span id="total_size">'+b.toString+"</span>";c+=' <span id="file_inserted_text">';"upload"==KUPLOADTOP.G_CURRKUPLOADER._config.mode&&(c+=RAONKUpload_Lang.file_inserted);e.innerHTML=c+"</span>";setAutoHeight()}T[0]="Li";
function displayTotalUploadSizeAndNum(){var b=getDialogDocument(),e=KUPLOADTOP.RAONKUPLOAD.util.bytesToSize(TOTALUPLOADSIZE);b.getElementById("RAON_K_UP_upload_count").innerHTML="0/"+TOTALUPLOADNUM;if("0"!=KUPLOADTOP.G_CURRKUPLOADER._config.useKManager||"html4"!=KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode||"upload"!=KUPLOADTOP.G_CURRKUPLOADER._config.mode)b.getElementById("RAON_K_UP_upload_size").innerHTML="0/"+e.toString}R[11]="L";C1[11]=".";C2[11]="h";ALS[11]="_";S1[11]=".";S2[11]="h";
function createTransferDiv(){var b=KUPLOADTOP.G_CURRKUPLOADER._config,e="",c=document.createElement("div");c.id="RAON_K_UP_ly_wrapper";c.className="RAON_K_UP_ly_wrapper raonk_"+b.lang;c.style.width="470px";c.style.display="none";var a;try{if(KUPLOADTOP.RAONKUPLOAD.browser.mobile){var f=KUPLOADTOP.document.body.scrollWidth;470>f&&(a=f-4,c.style.width=a+"px")}}catch(g){}c.style.height="1"==b.uploadTransferWindow.view?"237px":"2"==b.uploadTransferWindow.view?"331px":"128px";e+=createTransferDivHtml(KUPLOADTOP.G_CURRKUPLOADER,
a);c.innerHTML=e;b=getDialogDocument();b.body.appendChild(c);c=b.getElementById("RAON_K_UP_close_btn");KUPLOADTOP.RAONKUPLOAD.util.addEvent(c,"click",function(){uploadCancel()});c=b.getElementById("RAON_K_UP_upload_cancel");KUPLOADTOP.RAONKUPLOAD.util.addEvent(c,"click",function(){uploadCancel()})}
function showUploadingFileList(){var b="",b="1"==KUPLOADTOP.G_CURRKUPLOADER._config.silentUpload&&"upload"==KUPLOADTOP.G_CURRKUPLOADER._config.mode?"display:none;":"",e=getDialogWindow(),c=getDialogDocument();null==c.getElementById("RAON_K_UP_ly_wrapper")&&createTransferDiv();c.getElementById("RAON_K_UP_icon").style.background="url("+KUPLOADTOP.G_CURRKUPLOADER._config.webPath.image+"icon_up.gif) no-repeat 0 9px";var a=c.createElement("div");a.setAttribute("id","upload_background");var f='<div style="'+
b+KUPLOADTOP.G_CURRKUPLOADER._config.transferBackgroundStyle+" z-index:"+KUPLOADTOP.G_CURRKUPLOADER._config.zIndex+'; position:fixed; _position:absolute; left:0px; top:0px;overflow:hidden;width:100%;height:100%;"></div>',g=KUPLOADTOP.RAONKUPLOAD.util.getDefaultIframeSrc();a.innerHTML=f+('<iframe src="'+g+'" frameborder="0" scrolling="no" style="filter:alpha(opacity=0); opacity:0; -moz-opacity:0; -ms-filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=0); -khtml-opacity: 0; left: 0px; top: 0px; width: 100%; height: 100%; display: block; position: absolute; z-index: 999;" title="Transfer Background"></iframe>');
c.body.appendChild(a);f={};f=getWindowClientSize(e);g={};g=getWindowScrollPos(e);a.getElementsByTagName("iframe")[0].style.height=f[1]+g[1]+"px";e=c.getElementById("RAON_K_UP_upload_cancel");e.style.display=e&&"2"==KUPLOADTOP.G_CURRKUPLOADER._config.silentUpload?"none":"";e=c.getElementById("RAON_K_UP_ly_wrapper");a=c.getElementById("RAON_K_UP_ly_content");a.className="RAON_K_UP_upload_popup_"+KUPLOADTOP.G_CURRKUPLOADER._config.skinName;"2"!=KUPLOADTOP.G_CURRKUPLOADER._config.uploadTransferWindow.view&&
(a.className+=" RAON_K_UP_upload_popup_blue_02");e.style.zIndex=KUPLOADTOP.G_CURRKUPLOADER._config.zIndex+1E3;e.style.display="";"1"==KUPLOADTOP.G_CURRKUPLOADER._config.silentUpload&&"upload"==KUPLOADTOP.G_CURRKUPLOADER._config.mode&&(e.style.display="none");"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"html4"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode&&(a=c.getElementById("RAON_K_UP_div_status").innerHTML,c.getElementById("RAON_K_UP_div_status").innerHTML=a);var a=parseInt(e.style.width,
10),k=parseInt(e.style.height,10);e.style.left=g[0]+f[0]/2-a/2+"px";e.style.top=g[1]+f[1]/2-k/2+"px";makeDragPopup(e);f=c.getElementById("RAON_K_UP_uploading_file_list");f.innerHTML="";c.getElementById("RAON_K_UP_close_btn").style.display="";g=uploaders.length;for(e=0;e<g;e++)if(a=RESULTFILELIST[uploaders[e]],k=uploaders[e],a.file){var l=KUPLOADTOP.RAONKUPLOAD.util.bytesToSize(a.fileSize),n=a.fileExt,q=getIconImagePath(n),p=c.createElement("li"),t="",t=t+('<span id="RAON_K_UP_uploadFileName_'+k+'" class="fname">'),
t=t+'<span class="ficon">',t=t+('<img src="'+q+'" alt="'+n+'" />'),t=t+"</span> ",t=t+a.originName,t=t+"</span>",t=t+'<span class="fprogress">',t=t+('<span id="RAON_K_UP_uploadFileSize_'+k+'" class="transfer_status">'+l.toString+"</span>"),t=t+'<span class="pbar">',t=t+('<span id="RAON_K_UP_uploadFileProgress_'+k+'" style="width: 0%;'+G_StrCustomProgressBarColor+'"class="pbar_value"><span id="RAON_K_UP_uploadFilePercent_'+k+'"></span></span>'),t=t+"</span>",t=t+"</span>";p.innerHTML=t;f.appendChild(p);
TOTALUPLOADSIZE+=a.fileSize;TOTALUPLOADNUM++}displayTotalUploadSizeAndNum();""==b&&c.getElementById("RAON_K_UP_upload_cancel").focus()}
function showDownloadingFileList(b){var e="";"1"==KUPLOADTOP.G_CURRKUPLOADER._config.silentDownload&&(e="display:none;");var c=getDialogWindow(),a=getDialogDocument();null==a.getElementById("RAON_K_UP_ly_wrapper")&&createTransferDiv();a.getElementById("RAON_K_UP_icon").style.background="url("+KUPLOADTOP.G_CURRKUPLOADER._config.webPath.image+"icon_down.gif) no-repeat 0 9px";var f=a.createElement("div");f.setAttribute("id","upload_background");var g='<div style="'+e+KUPLOADTOP.G_CURRKUPLOADER._config.transferBackgroundStyle+
" z-index:"+KUPLOADTOP.G_CURRKUPLOADER._config.zIndex+'; position:fixed; _position:absolute; left:0px; top:0px;overflow:hidden;width:100%;height:100%;"></div>',k=KUPLOADTOP.RAONKUPLOAD.util.getDefaultIframeSrc();f.innerHTML=g+('<iframe src="'+k+'" frameborder="0" scrolling="no" style="filter:alpha(opacity=0); opacity:0; -moz-opacity:0; -ms-filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=0); -khtml-opacity: 0; left: 0px; top: 0px; width: 100%; height: 100%; display: block; position: absolute; z-index: 999;" title="Transfer Background"></iframe>');
a.body.appendChild(f);g={};g=getWindowClientSize(c);k={};k=getWindowScrollPos(c);f.getElementsByTagName("iframe")[0].style.height=g[1]+k[1]+"px";a.getElementById("RAON_K_UP_upload_cancel");c=a.getElementById("RAON_K_UP_ly_wrapper");a.getElementById("RAON_K_UP_ly_content").className="RAON_K_UP_upload_popup_"+KUPLOADTOP.G_CURRKUPLOADER._config.skinName+" RAON_K_UP_upload_popup_blue_02";c.style.zIndex=KUPLOADTOP.G_CURRKUPLOADER._config.zIndex+1E3;c.style.display="";"1"==KUPLOADTOP.G_CURRKUPLOADER._config.silentDownload&&
(c.style.display="none");"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"html4"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode&&(f=a.getElementById("RAON_K_UP_div_status").innerHTML,a.getElementById("RAON_K_UP_div_status").innerHTML=f);var f=parseInt(c.style.width,10),l=parseInt(c.style.height,10);c.style.left=k[0]+g[0]/2-f/2+"px";c.style.top=k[1]+g[1]/2-l/2+"px";makeDragPopup(c);g=a.getElementById("RAON_K_UP_uploading_file_list");g.innerHTML="";"0"!=KUPLOADTOP.G_CURRKUPLOADER._config.useKManager||
"html4"!=KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode||KUPLOADTOP.RAONKUPLOAD.browser.mobile||(a.getElementById("RAON_K_UP_upload_speed_tr").style.display="");k=b.length;for(c=0;c<k;c++)if(f=b[c],l=c,b){var n=KUPLOADTOP.RAONKUPLOAD.util.bytesToSize(f.fileSize),q=f.fileExt,p=getIconImagePath(q),t=a.createElement("li"),u="",u=u+('<span id="RAON_K_UP_uploadFileName_'+l+'" class="fname">'),u=u+'<span class="ficon">',u=u+('<img src="'+p+'" alt="'+q+'" />'),u=u+"</span> ",u=u+f.originName,u=u+"</span>",
u=u+'<span class="fprogress">',u=u+('<span id="RAON_K_UP_uploadFileSize_'+l+'" class="transfer_status">'+n.toString+"</span>"),u=u+'<span class="pbar">',u=u+('<span id="RAON_K_UP_uploadFileProgress_'+l+'" style="width: 0%;'+G_StrCustomProgressBarColor+'"class="pbar_value"><span id="RAON_K_UP_uploadFilePercent_'+l+'"></span></span>'),u=u+"</span>",u=u+"</span>";t.innerHTML=u;g.appendChild(t);TOTALUPLOADSIZE+=f.fileSize;TOTALUPLOADNUM++}displayTotalUploadSizeAndNum();""==e&&a.getElementById("RAON_K_UP_upload_cancel").focus()}
T[1]="c";function closeSendDialog(){var b=getDialogDocument(),e=b.getElementById("upload_background");e&&(e.parentNode.removeChild(e),b.getElementById("RAON_K_UP_ly_wrapper").style.display="none",b.getElementById("RAON_K_UP_process_time").innerHTML="",b.getElementById("RAON_K_UP_current_upload_progress_bar").style.width="0%",KUPLOADTOP.G_CURRKUPLOADER.processTimeInterval&&(clearInterval(KUPLOADTOP.G_CURRKUPLOADER.processTimeInterval),KUPLOADTOP.G_CURRKUPLOADER.processTimeInterval=null))}_R_O_+=R[11];
function closeBtnPreViewMode(){try{var b=getDialogDocument().getElementById("RAON_K_UP_Popup_Mode");b.style.display="none";if(-1<KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode.indexOf("html5")||"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"html4"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode){var e=b.getElementsByTagName("img")[0];e&&(e.style.display="none")}}catch(c){}}R[12]="e";C1[12]="r";C2[12]=".";ALS[12]="R";S1[12]="r";S2[12]=".";
function fileHandler(b,e,c,a){if("upload"==KUPLOADTOP.G_CURRKUPLOADER._config.mode){var f=KUPLOADTOP.G_CURRKUPLOADER._config.maxTotalFileSize,g=KUPLOADTOP.G_CURRKUPLOADER._config.maxTotalFileCount,k=KUPLOADTOP.G_CURRKUPLOADER._config.maxOneFileSize,l=!0,n=[],q=b.length,p=[];0<q&&displayCommonReady(!0);for(var t=0;t<q;t++){var u="";try{if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager)u=b[t].lastModifiedDate.toString();else{var v=b[t].lastModifiedDate,x=""+v.getFullYear(),w=""+(v.getMonth()+1);
1==w.length&&(w="0"+w);var y=""+v.getDate();1==y.length&&(y="0"+y);var C=""+v.getHours();1==C.length&&(C="0"+C);var r=""+v.getMinutes();1==r.length&&(r="0"+r);var A=""+v.getSeconds();1==A.length&&(A="0"+A);u=x+"."+w+"."+y+" "+C+":"+r+":"+A}}catch(G){}var E="";b[t].name&&(E=b[t].name,"function"==typeof E.normalize&&(E=E.normalize("NFC")));u={file:b[t],name:E,size:b[t].size,type:b[t].type,lastModifiedDate:u};if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager){E="";b[t].localPath&&(E=b[t].localPath,
"function"==typeof E.normalize&&(E=E.normalize("NFC")));var D="";b[t].logicalPath&&(D=b[t].logicalPath,"function"==typeof D.normalize&&(D=D.normalize("NFC")));u.localPath=E;u.uniqValue=b[t].uniqValue;u.isFolder=b[t].isFolder;u.subFolderCount=b[t].subFolderCount;u.fileCount=b[t].fileCount;u.logicalPath=D;u.folderIdx=b[t].folderIdx}p.push(u)}if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.use_file_sort&&"2"==KUPLOADTOP.G_CURRKUPLOADER._config.auto_sort){var B=KUPLOADTOP.G_CURRKUPLOADER._config.sort_field,
z=KUPLOADTOP.G_CURRKUPLOADER._config.sort_ascdesc,H,F="";p.sort(function(a,b){"0"==B?"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"detail"==KUPLOADTOP.G_CURRKUPLOADER._config.views?(H=a.localPath,F=b.localPath):(H=a.name,F=b.name):"1"==B&&(H=a.size,F=b.size);return fileSort(B,z,H,F)?1:-1})}var I=p.length;if(0!=I){var J=0,L=100;"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useVirtualList&&(L=I);var K=[],P=0,Q=0,N=!1;G_FileHandlerProcessingFlag=!0;var W=setInterval(function(){for(var b=J+L<I?J+L:
I,q=KUPLOADTOP.G_CURRKUPLOADER.frameWin.getTotalFileCount(),t=KUPLOADTOP.G_CURRKUPLOADER._config.disableAlertMessage.duplication,u=[],w=0,r=J;r<b;r++){var v=!1;"0"==KUPLOADTOP.G_CURRKUPLOADER._config.allowDuplicationFile&&(v=sameFileCheck(p[r]));if(v)"0"==t&&alert(p[r].name+" "+RAONKUpload_Lang.message_duplication_file);else{"1"!=KUPLOADTOP.G_CURRKUPLOADER._config.massFileMode&&calcTotalSize();var v=!0,x=!1;"0"==KUPLOADTOP.G_CURRKUPLOADER._config.allowedZeroFileSize&&0==p[r].size?(P++,"1"==KUPLOADTOP.G_CURRKUPLOADER._config.getFolderInFile&&
"1"==p[r].isFolder&&FOLDERLISTINFO[p[r].folderIdx]&&(FOLDERLISTINFO[p[r].folderIdx]=[]),v=!1):"1"!=p[r].isFolder&&0!=k&&p[r].size>k?(Q++,"1"==KUPLOADTOP.G_CURRKUPLOADER._config.getFolderInFile&&"1"==p[r].isFolder&&FOLDERLISTINFO[p[r].folderIdx]&&(FOLDERLISTINFO[p[r].folderIdx]=[]),v=!1):x=!0;var B=!1,y=KUPLOADTOP.G_CURRKUPLOADER._config.extension,C=y.extArr.length;if(0<C){var A=y.allowOrLimit;if("1"==A){for(var D=getExtension(p[r].name),z=0;z<C;z++)if(("***"==y.extArr[z]?"":y.extArr[z])==D||"1"==
p[r].isFolder){B=!0;break}B||(v&&K.push(""==D?'" "':D),v=!1)}else for(D=getExtension(p[r].name),z=0;z<C;z++)if(("***"==y.extArr[z]?"":y.extArr[z])==D){B=!1;v&&K.push(""==D?'" "':D);v=!1;break}else B=!0}else B=!0;z=TOTALREALFILENUM;y=1;void 0!=p[r].logicalPath&&""!=p[r].logicalPath&&(y=p[r].fileCount);if(0!=g&&z+y>g){N=!0;"1"==KUPLOADTOP.G_CURRKUPLOADER._config.getFolderInFile&&"1"==p[r].isFolder&&FOLDERLISTINFO[p[r].folderIdx]&&(FOLDERLISTINFO[p[r].folderIdx]=[]);v&&(z=RAONKUpload_Lang.message_limit_num,
z=z.replace("{0}",g),alert(z));v=!1;break}z=TOTALFILELISTSIZE;if(0!=f&&z+p[r].size>f){N=!0;"1"==KUPLOADTOP.G_CURRKUPLOADER._config.getFolderInFile&&"1"==p[r].isFolder&&FOLDERLISTINFO[p[r].folderIdx]&&(FOLDERLISTINFO[p[r].folderIdx]=[]);v&&alert(RAONKUpload_Lang.file_maximum+" "+KUPLOADTOP.RAONKUPLOAD.util.bytesToSize(f).toString+RAONKUpload_Lang.message_limit_size);v=!1;break}D=!0;y=KUPLOADTOP.G_CURRKUPLOADER._config.largeFiles;if(isLargeFiles(p[r].size)){for(var E=RESULTFILELIST.length,G=C=0,z=0;z<
E;z++)RESULTFILELIST[z].fileSize>=y.markSize&&"y"!=RESULTFILELIST[z].isDelete&&(C+=RESULTFILELIST[z].fileSize,G++);0<y.maxCount&&G+1>y.maxCount&&(N=!0,"1"==KUPLOADTOP.G_CURRKUPLOADER._config.getFolderInFile&&"1"==p[r].isFolder&&FOLDERLISTINFO[p[r].folderIdx]&&(FOLDERLISTINFO[p[r].folderIdx]=[]),z=RAONKUpload_Lang.message_large_files_count,D=""==y.text?RAONKUpload_Lang.large_files:y.text,z=z.replace("{0}",D),z=z.replace("{1}",y.maxCount),v&&alert(z),D=v=!1);D&&0<y.maxTotalSize&&B&&x&&C+p[r].size>y.maxTotalSize&&
(N=!0,"1"==KUPLOADTOP.G_CURRKUPLOADER._config.getFolderInFile&&"1"==p[r].isFolder&&FOLDERLISTINFO[p[r].folderIdx]&&(FOLDERLISTINFO[p[r].folderIdx]=[]),z=RAONKUpload_Lang.message_large_files_size,D=""==y.text?RAONKUpload_Lang.large_files:y.text,z=z.replace("{0}",D),z=z.replace("{1}",KUPLOADTOP.RAONKUPLOAD.util.bytesToSize(y.maxTotalSize).toString),v&&alert(z),D=v=!1)}if(B&&x&&D){x=v="";if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager)v=p[r].localPath,x=p[r].uniqValue;else if(null==e&&(e=""),
null==c&&(c=""),B=e.split(","),(v=B[r])&&(v=KUPLOADTOP.RAONKUPLOAD.util.trim(v)),"undefined"==typeof v||null==v)v="undefined"==typeof B[0]||null==B[0]?"":B[0].substring(0,B[0].lastIndexOf(KUPLOADTOP.RAONKUPLOAD.UserAgent.osSeparator)+1)+p[r].name;B="";if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useAddEvent)try{var F=null;"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&(F=p[r].file);var H="";"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&""!=p[r].localPath&&(H=KUPLOADTOP.RAONKSolution.managerFinalUrl+
"/"+encodeURIComponent(p[r].localPath));var M={strName:p[r].name,nSize:p[r].size,nIndex:q+w,strPath:v,dropZoneId:a&&""!=a?a:"",objFile:F,isFolder:"1"==p[r].isFolder?!0:!1,strPreviewUrl:H};"1"==KUPLOADTOP.G_CURRKUPLOADER._config.getFolderInFile&&"1"==p[r].isFolder&&FOLDERLISTINFO[p[r].folderIdx]&&(M.arrFileList=FOLDERLISTINFO[p[r].folderIdx]);var O;O="function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.beforeAddFile?KUPLOADTOP.G_CURRKUPLOADER._config.event.beforeAddFile(KUPLOADTOP.G_CURRKUPLOADER.ID,
M):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_BeforeAddFile(KUPLOADTOP.G_CURRKUPLOADER.ID,M);!1!==O?(l=!0,O&&O.customHeaderValue&&(B=O.customHeaderValue)):l=!1}catch(X){}if(l){z=p[r].type;if(null==z||void 0==z||""==z)z="application/octet-stream";x={file:p[r].file,guid:"",fileIdx:"",webPath:"",originName:p[r].name,fileSize:p[r].size,uploadName:"",uploadPath:"",logicalPath:void 0!=p[r].logicalPath?p[r].logicalPath:"",status:"ready",fileExt:"",isDelete:"n",isWebFile:"n",localPath:v,customValue:c,responseCustomValue:"",
headerEx:B,completeImgQualityPrc:!1,managerUniqValue:x,lastModifiedDate:p[r].lastModifiedDate,mimeType:z,extraDataObject:""};RESULTFILELIST.push(x);"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager?(x.isFolder=p[r].isFolder,x.logicalPath="1"==p[r].isFolder?v:"",x.subFolderCount=p[r].subFolderCount,x.fileCount=p[r].fileCount,x.folderIdx=p[r].folderIdx,"0"==p[r].isFolder&&(x.hashValue="")):(x.isFolder="0",x.hashValue="",u.push(RESULTFILELIST.length-1));addFileList(x);G_KVirtualList.module&&G_KVirtualList.virtualListInfo.push({realIndex:RESULTFILELIST.length-
1,isAddfile:void 0,listValue:void 0});"1"==KUPLOADTOP.G_CURRKUPLOADER._config.massFileMode&&calcTotalSize2(x);if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useAfterAddEvent)try{"1"!=KUPLOADTOP.G_CURRKUPLOADER._config.massFileMode&&calcTotalSize(),F=null,"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&(F=p[r].file),H="","1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&""!=p[r].localPath&&(H=KUPLOADTOP.RAONKSolution.managerFinalUrl+"/"+encodeURIComponent(p[r].localPath)),M={strName:p[r].name,
nSize:p[r].size,nIndex:q+w,strPath:x.localPath,dropZoneId:a&&""!=a?a:"",objFile:F,isFolder:"1"==p[r].isFolder?!0:!1,strPreviewUrl:H},"1"==KUPLOADTOP.G_CURRKUPLOADER._config.getFolderInFile&&"1"==p[r].isFolder&&FOLDERLISTINFO[p[r].folderIdx]&&(M.arrFileList=FOLDERLISTINFO[p[r].folderIdx]),n.push(M),"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.afterAddFile?KUPLOADTOP.G_CURRKUPLOADER._config.event.afterAddFile(KUPLOADTOP.G_CURRKUPLOADER.ID,M):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_AfterAddFile(KUPLOADTOP.G_CURRKUPLOADER.ID,
M)}catch(Y){}w++}}}}displayTotalSizeAndNum();J+=L;if(J>=I||N){1==P?alert(RAONKUpload_Lang.message_size_zero):1<P&&(r=RAONKUpload_Lang.message_size_zeros,r=r.replace("{0}",P),alert(r));1==Q?(r=RAONKUpload_Lang.message_limit_one_size,r=r.replace("{0}",KUPLOADTOP.RAONKUPLOAD.util.bytesToSize(k).toString),alert(r)):1<Q&&(r=RAONKUpload_Lang.message_limit_one_sizes,r=r.replace("{0}",KUPLOADTOP.RAONKUPLOAD.util.bytesToSize(k).toString),r=r.replace("{1}",Q),alert(r));b=K.length;if(0<b){z="";q=KUPLOADTOP.G_CURRKUPLOADER._config.extension.extArr;
t=q.length;for(r=0;r<t;r++)"***"==q[r]&&(q[r]='" "');"1"==A?1<b?(z=RAONKUpload_Lang.message_not_allow_exts,z=z.replace("{0}",b),z=z.replace("{1}",q)):(z=RAONKUpload_Lang.message_not_allow_ext,z=z.replace("{0}",q),z=z.replace("{1}",K[0])):1<b?(z=RAONKUpload_Lang.message_not_limit_exts,z=z.replace("{0}",b),z=z.replace("{1}",q)):(z=RAONKUpload_Lang.message_not_limit_ext,z=z.replace("{0}",q),z=z.replace("{1}",K[0]));alert(z)}"1"==KUPLOADTOP.G_CURRKUPLOADER._config.use_file_sort&&"1"==KUPLOADTOP.G_CURRKUPLOADER._config.auto_sort&&
sortTotalFileList(KUPLOADTOP.G_CURRKUPLOADER._config.sort_field,KUPLOADTOP.G_CURRKUPLOADER._config.sort_ascdesc);"1"!=KUPLOADTOP.G_CURRKUPLOADER._config.massFileMode&&calcTotalSize();fileListSortIconReset();setFileListBorder();setListvalue();setLargeFileAllList();"1"!=KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&(r=document.getElementById("file_"+KUPLOADTOP.G_CURRKUPLOADER.TagID),r.value="",KUPLOADTOP.RAONKUPLOAD.browser.ie&&10==KUPLOADTOP.RAONKUPLOAD.browser.ieVersion&&(r.type="text",r.type="file"));
if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useAfterAddEndTimeEvent&&!("0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&-1<KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode.indexOf("html5")&&"1"==KUPLOADTOP.G_CURRKUPLOADER._config.security.fileExtensionDetector)&&0<w)try{M={arrFileList:n},"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.afterAddAllFile?KUPLOADTOP.G_CURRKUPLOADER._config.event.afterAddAllFile(KUPLOADTOP.G_CURRKUPLOADER.ID,M):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_AfterAddAllFile(KUPLOADTOP.G_CURRKUPLOADER.ID,
M)}catch(aa){}"thumbs"==KUPLOADTOP.G_CURRKUPLOADER._config.views&&thumbsViewWithCanvas();if("0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&-1<KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode.indexOf("html5")&&"1"==KUPLOADTOP.G_CURRKUPLOADER._config.security.fileExtensionDetector)for(var U=u.length,S=0,V=0,r=0;r<U;r++)w=function(a){return function(b,c,e){V++;if(0==e)for(b=document.getElementById("file_list").getElementsByTagName("input"),c=b.length,e=0;e<c;e++)if(b[e].getAttribute("listvalue")&&
b[e].getAttribute("listvalue").toString()==a.toString()){b[e].checked=!0;S++;break}if(V==U&&(0<S&&(b=KUPLOADTOP.G_CURRKUPLOADER._config.disableAlertMessage.disableDeleteConfirm,KUPLOADTOP.G_CURRKUPLOADER._config.disableAlertMessage.disableDeleteConfirm="1",deleteSelectedFile(null,!1),KUPLOADTOP.G_CURRKUPLOADER._config.disableAlertMessage.disableDeleteConfirm=b,"0"==KUPLOADTOP.G_CURRKUPLOADER._config.disableAlertMessage.fileExtensionDetect&&setTimeout(function(){alert(RAONKUpload_Lang.message_file_ext_detect.replace("{0}",
S))},0)),setLargeFileAllList(),"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useAfterAddEndTimeEvent&&S<U))try{b={arrFileList:n},"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.afterAddAllFile?KUPLOADTOP.G_CURRKUPLOADER._config.event.afterAddAllFile(KUPLOADTOP.G_CURRKUPLOADER.ID,b):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_AfterAddAllFile(KUPLOADTOP.G_CURRKUPLOADER.ID,b)}catch(f){}}}(u[r]),D5FileDetector(RESULTFILELIST[u[r]].file,RESULTFILELIST[u[r]].fileExt,w);clearInterval(W);displayCommonReady(!1);
G_KVirtualList.module&&G_KVirtualList.module.update();G_FileHandlerProcessingFlag=!1}},1)}}}Z[3]="p";_R_O_+="R";
function fileHandler_formCancel(b){for(var e=document.getElementById("file_list").getElementsByTagName("input"),c=e.length,a=[],f=0;f<c;f++)"checkbox"==e[f].type&&a.push(e[f]);c=a.length;b=b.parentNode.parentNode.parentNode.parentNode.getElementsByTagName("input")[0];for(f=0;f<c;f++)if(a[f]==b&&""!=RESULTFILELIST[f].originName){RESULTFILELIST[f].fileTag?(c=document.createElement("input"),c.type="file",c.id=RESULTFILELIST[f].fileTag.id,c.name=RESULTFILELIST[f].fileTag.name,c.style.margin=RESULTFILELIST[f].fileTag.style.margin,
c.onchange=RESULTFILELIST[f].fileTag.onchange,RESULTFILELIST[f].fileTag.parentNode.replaceChild(c,RESULTFILELIST[f].fileTag),RESULTFILELIST[f].fileTag=null):RESULTFILELISTCLON[f].isDelete="y";RESULTFILELIST[f].file=null;RESULTFILELIST[f].guid="";RESULTFILELIST[f].fileIdx=RESULTFILELISTCLON[f].fileIdx;RESULTFILELIST[f].webPath="";RESULTFILELIST[f].originName="";RESULTFILELIST[f].fileSize="";RESULTFILELIST[f].uploadName="";RESULTFILELIST[f].uploadPath="";RESULTFILELIST[f].logicalPath="";RESULTFILELIST[f].status=
"";RESULTFILELIST[f].fileExt="";RESULTFILELIST[f].isDelete="n";RESULTFILELIST[f].isWebFile="y";RESULTFILELIST[f].localPath="";RESULTFILELIST[f].customValue="";RESULTFILELIST[f].responseCustomValue="";RESULTFILELIST[f].headerEx=RESULTFILELISTCLON[f].headerEx;f=b.parentNode.parentNode.getElementsByTagName("li");c=f[1];f[2].innerHTML='<span name="RAON_K_UP_fsize"></span>';c.innerHTML='<img src="" alt="" style="display:none;"><span title=""> </span>';calcTotalSize();displayTotalSizeAndNum();setListvalue();
break}}
function fileHandler_formAdd(b,e,c,a){if("upload"==KUPLOADTOP.G_CURRKUPLOADER._config.mode){"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&(e=a.localPath);if("0"==KUPLOADTOP.G_CURRKUPLOADER._config.allowedZeroFileSize)if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager){if(0==a.size){alert(RAONKUpload_Lang.message_size_zero);return}}else if(0==b.files[0].size){alert(RAONKUpload_Lang.message_size_zero);return}var f=[],g=0,k=!1,l=KUPLOADTOP.G_CURRKUPLOADER._config.extension,n=l.extArr.length,q=
"",q="1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager?a.name:getFileName(b.value,!1);if(0<n)if("1"==l.allowOrLimit){for(var p=getExtension(q),t=0;t<n;t++)if(l.extArr[t]==p){k=!0;break}k||(l=RAONKUpload_Lang.message_not_allow_ext,n=KUPLOADTOP.G_CURRKUPLOADER._config.extension.extArr,l=l.replace("{0}",n),l=l.replace("{1}",p),alert(l))}else for(p=getExtension(q),t=0;t<n;t++)if(l.extArr[t]==p){k=!1;l=RAONKUpload_Lang.message_not_limit_ext;n=KUPLOADTOP.G_CURRKUPLOADER._config.extension.extArr;l=l.replace("{0}",
n);l=l.replace("{1}",p);alert(l);break}else k=!0;else k=!0;if(k){document.getElementById("tab_"+KUPLOADTOP.G_CURRKUPLOADER.TagID)&&document.getElementById("tab_"+KUPLOADTOP.G_CURRKUPLOADER.TagID);0==!!e&&(e="");0==!!c&&(c="");p=document.getElementById("file_list").getElementsByTagName("input");k=p.length;l=[];for(n=0;n<k;n++)"checkbox"==p[n].type&&l.push(p[n]);for(var k=l.length,t=b.parentNode.parentNode.parentNode.parentNode.getElementsByTagName("input")[0],u,n=0;n<k;n++)if(l[n]==t){p="";u=n;if("1"==
KUPLOADTOP.G_CURRKUPLOADER._config.useAddEvent&&"0"==KUPLOADTOP.G_CURRKUPLOADER._config.displayFileSizeHtml4)try{var v={strName:q,nSize:null,nIndex:u,strPath:e,isFolder:!1,objFile:null,strPreviewUrl:""},x=!0,w;w="function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.beforeAddFile?KUPLOADTOP.G_CURRKUPLOADER._config.event.beforeAddFile(KUPLOADTOP.G_CURRKUPLOADER.ID,v):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_BeforeAddFile(KUPLOADTOP.G_CURRKUPLOADER.ID,v);!1!==w?(x=!0,w&&w.customHeaderValue&&(p=w.customHeaderValue)):
x=!1;if(0==x)return}catch(y){}"y"==RESULTFILELIST[n].isWebFile&&""!=RESULTFILELIST[n].originName&&(RESULTFILELISTCLON[n].isDelete="y");RESULTFILELIST[n].file="1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager?null:b.files[0];RESULTFILELIST[n].guid="";RESULTFILELIST[n].fileIdx="";RESULTFILELIST[n].webPath="";RESULTFILELIST[n].originName=q;RESULTFILELIST[n].fileSize="";RESULTFILELIST[n].uploadName="";RESULTFILELIST[n].uploadPath="";RESULTFILELIST[n].logicalPath="";RESULTFILELIST[n].status="ready";
RESULTFILELIST[n].fileExt="";RESULTFILELIST[n].isDelete="n";RESULTFILELIST[n].isWebFile="n";RESULTFILELIST[n].localPath=e;RESULTFILELIST[n].customValue=c;RESULTFILELIST[n].responseCustomValue="";RESULTFILELIST[n].headerEx=p;RESULTFILELIST[n].fileTag=b;var p=t.parentNode.parentNode.getElementsByTagName("li"),x=p[1],p=p[2],C=null;"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager?(C=KUPLOADTOP.RAONKUPLOAD.util.bytesToSize(a.size),RESULTFILELIST[n].fileSize=a.size):(C=KUPLOADTOP.RAONKUPLOAD.util.bytesToSize(RESULTFILELIST[n].file.size),
RESULTFILELIST[n].fileSize=RESULTFILELIST[n].file.size);var r="",r=r+('<span name="RAON_K_UP_fsize">'+C.toString+"</span>");p.innerHTML=r;p=getExtension(q);RESULTFILELIST[n].fileExt=p;C=getIconImagePath(p);""==q?(r="",r="display:none"):r="";x.innerHTML='<img src="'+C+'" alt="'+p+'" style="'+r+'"><span title="'+q+'">'+q+"</span>"}g++;if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useAfterAddEvent)try{calcTotalSize(),v={strFileName:q,nFileSize:null,nAddItemIndex:u-1,strPath:e,isFolder:!1,objFile:null,strPreviewUrl:""},
f.push(v),"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.afterAddFile?KUPLOADTOP.G_CURRKUPLOADER._config.event.afterAddFile(KUPLOADTOP.G_CURRKUPLOADER.ID,v):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_AfterAddFile(KUPLOADTOP.G_CURRKUPLOADER.ID,v)}catch(A){}}calcTotalSize();displayTotalSizeAndNum();setFileListBorder();setListvalue();if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useAfterAddEndTimeEvent&&0<g)try{v={arrFileList:f},"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.afterAddAllFile?
KUPLOADTOP.G_CURRKUPLOADER._config.event.afterAddAllFile(KUPLOADTOP.G_CURRKUPLOADER.ID,v):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_AfterAddAllFile(KUPLOADTOP.G_CURRKUPLOADER.ID,v)}catch(G){}}}R[13]="x";C1[13]="a";C2[13]="r";ALS[13]="A";S1[13]="a";S2[13]="r";
function sortTotalFileList(b,e,c){if(!c){var a=document.getElementById("header_bar_file_name");c=document.getElementById("header_bar_file_size");a=a.getElementsByTagName("span")[0];c.getElementsByTagName("span")[0].style.display="none";a.style.display="none";if(""!=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItem)for(a=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItem.length,c=0;c<a;c++)document.getElementById("user_header_bar_"+c).getElementsByTagName("span")[0].style.display="none"}document.getElementById("file_list");
a=RESULTFILELIST.length;for(c=1;c<a;c++)if("y"!=RESULTFILELIST[c].isDelete){var f=c,g="";if("0"==b)g="1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"detail"==KUPLOADTOP.G_CURRKUPLOADER._config.views?RESULTFILELIST[c].localPath:RESULTFILELIST[c].originName;else if("1"==b)g=RESULTFILELIST[c].fileSize;else if("2"<=b){var k=RESULTFILELIST[c].headerEx;null!=k&&""!=k&&(k=k.split("|"),g=k[parseInt(b,10)-2])}for(var l=c-1;0<=l;l--)if("y"!=RESULTFILELIST[l].isDelete){var n="";"0"==b?n="1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&
"detail"==KUPLOADTOP.G_CURRKUPLOADER._config.views?RESULTFILELIST[l].localPath:RESULTFILELIST[l].originName:"1"==b?n=RESULTFILELIST[l].fileSize:"2"<=b&&(k=RESULTFILELIST[l].headerEx,null!=k&&""!=k&&(k=k.split("|"),n=k[parseInt(b,10)-2]));if(fileSort(b,e,n,g))f=sortSwapFile(c,l,f,file_list);else break}}}T[2]="e";_R_O_+="S";
function sortSwapFile(b,e,c,a){for(var f=0,g=0;g<b;g++)"y"==RESULTFILELIST[g].isDelete&&f++;for(g=b=0;g<e;g++)"y"==RESULTFILELIST[g].isDelete&&b++;var g=a.childNodes[c-f],k=a.childNodes[e-b];a.removeChild(a.childNodes[e-b]);a.insertBefore(g,a.childNodes[e-b]);a.insertBefore(k,a.childNodes[c-f-1].nextSibling);if("0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"html4"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode&&"n"==RESULTFILELIST[c].isWebFile&&"n"==RESULTFILELIST[e].isWebFile){for(g=
a=0;g<c;g++)"n"==RESULTFILELIST[g].isDelete&&"n"==RESULTFILELIST[g].isWebFile&&a++;for(g=f=0;g<e;g++)"n"==RESULTFILELIST[g].isDelete&&"n"==RESULTFILELIST[g].isWebFile&&f++;g=document.getElementById("files_container");b=g.childNodes[a];k=g.childNodes[f];g.removeChild(g.childNodes[f]);g.insertBefore(b,g.childNodes[f]);g.insertBefore(k,g.childNodes[a-1].nextSibling)}a=RESULTFILELIST[c];RESULTFILELIST[c]=RESULTFILELIST[e];RESULTFILELIST[e]=a;return e}R[14]="t";C1[14]="o";C2[14]="a";ALS[14]="D";
S1[14]="o";S2[14]="a";_R_O_+="T";T[3]="n";R[15]="5";C1[15]="n";C2[15]="o";S1[15]="n";S2[15]="o";_R_O_+="x";function getFileName(b,e){for(var c;-1!==b.indexOf("\\");)b=b.replace("\\","/");var a=b.split("/");c=a.pop();var f=!1;b.lastIndexOf("/")==b.length-1&&(c=a.pop(),c+="/",f=!0);e&&0==f&&(c=c.slice(0,c.lastIndexOf(".")));return c}R[16]=".";C1[16]="w";C2[16]="n";S1[16]="w";S2[16]="n";
function sameFileCheck(b){for(var e=!1,c=RESULTFILELIST.length,a=0;a<c;a++)if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager){if(RESULTFILELIST[a].localPath==b.localPath){e=!0;break}}else if("html4"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode){if(RESULTFILELIST[a].file&&b.name==RESULTFILELIST[a].originName){e=!0;break}}else if(RESULTFILELIST[a].file&&b.name==RESULTFILELIST[a].file.name&&b.size==RESULTFILELIST[a].file.size&&b.lastModifiedDate==RESULTFILELIST[a].lastModifiedDate&&b.type==
RESULTFILELIST[a].file.type){e=!0;break}return e}T[4]="se";_R_O_+="y";R[17]="c";T[5]="k";C1[17]="i";C2[17]="w";S1[17]="i";S2[17]="w";function getExtension(b){b=b.split(".");var e="";1<b.length&&(e=b[b.length-1]);return e.toLowerCase()}function getExtensionEx(b){var e="";try{var c=b.split(".");1<c.length&&(e=c[c.length-1])}catch(a){e=""}return e}_R_O_+="z";T[6]="e";
function getManagerImageUrl(b){var e=[["kcmd","KC08"]];e.push(["kp1",encodeURIComponent(b)]);e.push(["kp2",0]);var c=setManagerParam("{}",e),c=KUPLOADTOP.RAONKSolution.Agent.makeEncryptManagerParam(c),a=function(a){displayCommonReady(!1,KUPLOADTOP.G_CURRKUPLOADER)};displayCommonReady(!0,KUPLOADTOP.G_CURRKUPLOADER);sendMessageToAgent(c,a,function(b){KUPLOADTOP.G_CURRKUPLOADER._config.sendToManagerType="2";sendMessageToAgent(c,a,null,!1)},!0)}
function getIconImagePath(b,e){b=b.toLowerCase();var c="";if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager)""==b&&(b="etc"),c="0","thumbs"==KUPLOADTOP.G_CURRKUPLOADER._config.views&&(c="1"),c=KUPLOADTOP.RAONKSolution.managerFinalUrl+"/"+b+".png?size="+c;else{var a=KUPLOADTOP.G_CURRKUPLOADER._config.webPath.image,f="";null!=e&&void 0!=e&&e&&(f="b_");if(""!=b){switch(b){case "docx":b="doc";break;case "docm":b="doc";break;case "xlsx":b="xls";break;case "xlsm":b="xls";break;case "pptx":b="ppt";
break;case "pptm":b="ppt";break;case "jpeg":b="jpg";break;case "tiff":b="tif"}for(var g=basicExtIcon.length,k=0;k<g;k++){var l=basicExtIcon[k];if(l==b){c=a+f+b+".png";break}}if(""==c)for(g=KUPLOADTOP.G_CURRKUPLOADER._config.addExtIcon.length,k=0;k<g;k++)if(l=KUPLOADTOP.G_CURRKUPLOADER._config.addExtIcon[k],l==b){c=a+f+b+".png";break}""==c&&(c=a+f+"etc.png")}else c=a+f+"etc.png"}return c}SIL[3]="b";
function uploadProgress(b,e,c){var a=getDialogDocument(),f=uploaders[upload_complete_count];if(void 0!=f){void 0==c&&(c=0);ONEFILEUPLOADEDSIZE+=b;var g=0,g=e?100:parseInt(100*(c+ONEFILEUPLOADEDSIZE)/RESULTFILELIST[f].fileSize,10);a.getElementById("RAON_K_UP_current_upload_progress_bar").style.width=g+"%";a.getElementById("RAON_K_UP_uploadFileProgress_"+f).style.width=g+"%";50>g?a.getElementById("RAON_K_UP_uploadFilePercent_"+f).style.color="#000000":a.getElementById("RAON_K_UP_uploadFilePercent_"+
f).style.color="";a.getElementById("RAON_K_UP_uploadFilePercent_"+f).innerHTML=g+"%";ONEFILEUPLOADEDSIZE==RESULTFILELIST[f].fileSize&&(UPLOADIDX++,a.getElementById("RAON_K_UP_upload_count").innerHTML=upload_complete_count+1+"/"+TOTALUPLOADNUM);PREVIOUSUPLOADEDSIZE+=b;b=0;b=e&&0==TOTALUPLOADSIZE?100:parseInt(1*(c+PREVIOUSUPLOADEDSIZE)/TOTALUPLOADSIZE*100,10);a.getElementById("RAON_K_UP_total_upload_percent").innerHTML=b+"%";a.getElementById("RAON_K_UP_total_upload_progress_bar").style.width=b+"%";
a.getElementById("RAON_K_UP_upload_size").innerHTML=KUPLOADTOP.RAONKUPLOAD.util.bytesToSize(PREVIOUSUPLOADEDSIZE+c).toString+"/"+KUPLOADTOP.RAONKUPLOAD.util.bytesToSize(TOTALUPLOADSIZE).toString;-1<KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode.indexOf("html5")&&(null==KUPLOADTOP.G_CURRKUPLOADER.processTimeInterval?KUPLOADTOP.G_CURRKUPLOADER.processTimeInterval=setInterval(function(){for(var b=!1,c=G_UploadEndRequestXhr.length,e=0;e<c;e++)if(G_NowUploadEndReqeustXhr==G_UploadEndRequestXhr[e]){b=
!0;break}if(b)upload_complete_count+1==TOTALUPLOADNUM&&(a.getElementById("RAON_K_UP_upload_remainingtime").innerHTML=viewTime(0));else{a.getElementById("RAON_K_UP_process_time").innerHTML=viewTime(++KUPLOADTOP.G_CURRKUPLOADER.processTime);G_ElapsedTime++;b=PREVIOUSUPLOADEDSIZE-KUPLOADTOP.G_CURRKUPLOADER.resumeSizeForProgress;c=G_ElapsedTime;try{var f=KUPLOADTOP.G_CURRKUPLOADER.beforeUploadedSize;KUPLOADTOP.G_CURRKUPLOADER.beforeUploadedSize=PREVIOUSUPLOADEDSIZE;var g=PREVIOUSUPLOADEDSIZE-f;0>g&&(g=
0)}catch(t){}if(0==c){var u=KUPLOADTOP.RAONKUPLOAD.util.bytesToSize(b).toString;a.getElementById("RAON_K_UP_upload_speed").innerHTML=u+"/"+RAONKUpload_Lang.upload_timeunit.sec;a.getElementById("RAON_K_UP_upload_remainingtime").innerHTML="-"}else u=KUPLOADTOP.RAONKUPLOAD.util.bytesToSize(b/c).toString,a.getElementById("RAON_K_UP_upload_speed").innerHTML=u+"/"+RAONKUpload_Lang.upload_timeunit.sec,f=c/b*(TOTALUPLOADSIZE-PREVIOUSUPLOADEDSIZE),f=Math.ceil(f),f=viewTime(f),a.getElementById("RAON_K_UP_upload_remainingtime").innerHTML=
f}"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring&&(u?(f=KUPLOADTOP.RAONKUPLOAD.util.getUnit(u),f=KUPLOADTOP.RAONKUPLOAD.util.getUnitSize(f),G_KUPlugin.kmonitoring.transferSpeed.avgSpeed=Math.floor(parseFloat(u)*f)):G_KUPlugin.kmonitoring.transferSpeed.avgSpeed=0,G_KUPlugin.kmonitoring.transferSpeed.recentSpeed=g)},1E3):100==b&&(clearInterval(KUPLOADTOP.G_CURRKUPLOADER.processTimeInterval),KUPLOADTOP.G_CURRKUPLOADER.processTimeInterval=null,KUPLOADTOP.G_CURRKUPLOADER.processTime=0,a.getElementById("RAON_K_UP_upload_remainingtime").innerHTML=
viewTime(0)))}}T[7]="y";G_AP2[1]="a";G_AP2[3]="n";_R_O_+="u";G_AP2[4]="w";
function displayUploadInfo(b,e,c,a){var f=getDialogDocument(),g=KUPLOADTOP.RAONKUPLOAD.util.bytesToSize;f.getElementById("RAON_K_UP_uploadFileSize_"+uploaders[a]).innerHTML=g(e).toString;f.getElementById("RAON_K_UP_uploadFileProgress_"+uploaders[a])&&(f.getElementById("RAON_K_UP_uploadFileProgress_"+uploaders[a]).style.width=c+"%");e=0;e=parseInt(1*(PREVIOUSUPLOADEDSIZE+b)/TOTALUPLOADSIZE*100,10);f.getElementById("RAON_K_UP_total_upload_percent").innerHTML=e+"%";f.getElementById("RAON_K_UP_total_upload_progress_bar").style.width=
e+"%";f.getElementById("RAON_K_UP_upload_size").innerHTML=g(PREVIOUSUPLOADEDSIZE+b).toString+"/"+g(TOTALUPLOADSIZE).toString;g=(new Date).getTime()/1E3-G_UploadStartTime;0==g?(e=KUPLOADTOP.RAONKUPLOAD.util.bytesToSize(PREVIOUSUPLOADEDSIZE+b).toString,f.getElementById("RAON_K_UP_upload_speed").innerHTML=e+"/"+RAONKUpload_Lang.upload_timeunit.sec,f.getElementById("RAON_K_UP_upload_remainingtime").innerHTML="-"):(e=KUPLOADTOP.RAONKUPLOAD.util.bytesToSize((PREVIOUSUPLOADEDSIZE+b)/g).toString,f.getElementById("RAON_K_UP_upload_speed").innerHTML=
e+"/"+RAONKUpload_Lang.upload_timeunit.sec,b=g/(PREVIOUSUPLOADEDSIZE+b)*(TOTALUPLOADSIZE-(PREVIOUSUPLOADEDSIZE+b)),b=Math.ceil(b),b=viewTime(b),f.getElementById("RAON_K_UP_upload_remainingtime").innerHTML=b)}
function totalUploadComplete(b,e){setTimeout(function(){"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&removeWorker();"html5plus"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode&&removeSocket();closeSendDialog();var c=KUPLOADTOP.G_CURRKUPLOADER.ID;try{KUPLOADTOP.G_CURRKUPLOADER.init(c);var a=KUPLOADTOP.G_CURRKUPLOADER.ID;if(0==KUPLOADTOP.G_CURRKUPLOADER._config.uploadCancel){KUPLOADTOP.G_CURRKUPLOADER.isUploadComplete=!0;try{displayCommonReady(!1,KUPLOADTOP.G_CURRKUPLOADER);var f={bAutoTransferFlag:!1};
null!=b&&void 0!=b&&(f.bAutoTransferFlag=b);null!=e&&(f.failed={message:e});"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.uploadComplete?KUPLOADTOP.G_CURRKUPLOADER._config.event.uploadComplete(a,f):"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.transferComplete?KUPLOADTOP.G_CURRKUPLOADER._config.event.transferComplete(a,f):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_UploadComplete(a,f)}catch(g){}if(1==G_MultiTranferCheck)G_MultiTranferCheck=2;else try{"0"==KUPLOADTOP.G_CURRKUPLOADER._config.skipSentFile&&
fileListReset()}catch(k){}}}catch(l){try{KUPLOADTOP.G_CURRKUPLOADER.init(c)}catch(n){}}},100)}R[18]="o";T[8]=" i";C1[18]="z";C2[18]="i";S1[18]="z";S2[18]="i";
function setCurrFileStatus(b){var e=KUPLOADTOP.G_CURRKUPLOADER,c=RESULTFILELIST.length;e.newOriginalName=[];e.newUploadName=[];e.newUploadPath=[];e.newLogicalPath=[];e.newSize=[];e.newGuid=[];e.newStatus=[];e.newOrder=[];e.newLocalPath=[];e.newCustomValue=[];e.newResponseCustomValue=[];e.newLargeFiles=[];e.newSelectFlag=[];e.newLastModifiedDate=[];e.newMimeType=[];e.newHashValue=[];e.newFileObject=[];e.newExtraDataObject=[];e.newTransferId=[];e.newFileId=[];e.delUniqKey=[];e.delOriginalName=[];e.delSize=
[];e.delLargeFiles=[];e.delUploadPath=[];e.delCustomValue=[];e.delLogicalPath=[];e.nonDelUniqKey=[];e.nonDelOriginalName=[];e.nonDelUploadPath=[];e.nonDelSize=[];e.nonDelOrder=[];e.nonDelLargeFiles=[];e.nonDelSelectFlag=[];e.nonDelCustomValue=[];e.nonDelLogicalPath=[];e.nonDelTransferId=[];e.nonDelFileId=[];var a=[];if(-1!=b){var f=getRealIndexByListIndex(b),g=RESULTFILELIST[f],a=RESULTFILELIST.slice(0);RESULTFILELIST=[];for(var k=0;k<c;k++)RESULTFILELIST.push(null);RESULTFILELIST[f]=g;c=RESULTFILELIST.length}for(var g=
f=0,l=document.getElementById("file_list").getElementsByTagName("input"),k=0;k<c;k++)if(RESULTFILELIST[k]){if(RESULTFILELIST[k].file){if("y"!=RESULTFILELIST[k].isDelete){if("1"==RESULTFILELIST[k].isFolder&&0<FOLDERLISTINFO[RESULTFILELIST[k].folderIdx].length)for(var n=FOLDERLISTINFO[RESULTFILELIST[k].folderIdx],q=n.length,p=0;p<q;p++)"1"==e._config.uploadSkipErrorFile&&e.isUploadComplete&&""==n[p].uploadPath||(e.newOriginalName.push(n[p].originName),e.newSize.push(n[p].fileSize),e.newUploadName.push(n[p].uploadName),
e.newUploadPath.push(n[p].uploadPath),e.newLogicalPath.push(n[p].logicalPath),e.newGuid.push(""),e.newStatus.push(RESULTFILELIST[k].status),e.newLocalPath.push(n[p].localPath),e.newCustomValue.push(n[p].customValue),e.newResponseCustomValue.push(n[p].customValue),isLargeFiles(n[p].fileSize)||RESULTFILELIST[k].largeFile&&"1"==RESULTFILELIST[k].largeFile?e.newLargeFiles.push("1"):e.newLargeFiles.push("0"),"1"==e._config.massFileMode?e.newSelectFlag.push("0"):l[g].getAttribute("raonk_select")&&"1"==
l[g].getAttribute("raonk_select")||l[g].checked?e.newSelectFlag.push("1"):e.newSelectFlag.push("0"),e.newOrder.push(f),e.newLastModifiedDate.push(n[p].lastModifiedDate),e.newMimeType.push(n[p].mimeType),e.newHashValue.push(n[p].hashValue),e.newFileObject.push(RESULTFILELIST[k].file),e.newExtraDataObject.push(RESULTFILELIST[k].extraDataObject?RESULTFILELIST[k].extraDataObject:null),n[p].transferId?e.newTransferId.push(n[p].transferId):e.newTransferId.push(""),n[p].fileId?e.newFileId.push(n[p].fileId):
e.newFileId.push(""),f++);else{if("1"==e._config.uploadSkipErrorFile&&e.isUploadComplete&&""==RESULTFILELIST[k].uploadPath)continue;e.newOriginalName.push(RESULTFILELIST[k].originName);e.newSize.push(RESULTFILELIST[k].fileSize);e.newUploadName.push(RESULTFILELIST[k].uploadName);e.newUploadPath.push(RESULTFILELIST[k].uploadPath);e.newLogicalPath.push(RESULTFILELIST[k].logicalPath);e.newGuid.push(RESULTFILELIST[k].guid);e.newStatus.push(RESULTFILELIST[k].status);e.newLocalPath.push(RESULTFILELIST[k].localPath);
e.newCustomValue.push(RESULTFILELIST[k].customValue);e.newResponseCustomValue.push(RESULTFILELIST[k].responseCustomValue);isLargeFiles(RESULTFILELIST[k].fileSize)||RESULTFILELIST[k].largeFile&&"1"==RESULTFILELIST[k].largeFile?e.newLargeFiles.push("1"):e.newLargeFiles.push("0");"1"==e._config.massFileMode?e.newSelectFlag.push("0"):l[g].getAttribute("raonk_select")&&"1"==l[g].getAttribute("raonk_select")||l[g].checked?e.newSelectFlag.push("1"):e.newSelectFlag.push("0");"1"==RESULTFILELIST[k].isFolder&&
e.newOrder.push(f);e.newLastModifiedDate.push(RESULTFILELIST[k].lastModifiedDate);e.newMimeType.push(RESULTFILELIST[k].mimeType);e.newHashValue.push(RESULTFILELIST[k].hashValue);e.newFileObject.push(RESULTFILELIST[k].file);e.newExtraDataObject.push(RESULTFILELIST[k].extraDataObject?RESULTFILELIST[k].extraDataObject:null);RESULTFILELIST[k].transferId?e.newTransferId.push(RESULTFILELIST[k].transferId):e.newTransferId.push("");RESULTFILELIST[k].fileId?e.newFileId.push(RESULTFILELIST[k].fileId):e.newFileId.push("")}g++}}else if("y"==
RESULTFILELIST[k].isDelete)if("1"==RESULTFILELIST[k].isFolder&&0<FOLDERLISTINFO[RESULTFILELIST[k].folderIdx].length)for(n=FOLDERLISTINFO[RESULTFILELIST[k].folderIdx],q=n.length,p=0;p<q;p++)e.delUniqKey.push(n[p].uniqueKey),e.delOriginalName.push(getFileName(n[p].originName,!1)),e.delSize.push(n[p].fileSize),isLargeFiles(n[p].fileSize)||RESULTFILELIST[k].largeFile&&"1"==RESULTFILELIST[k].largeFile?e.delLargeFiles.push("1"):e.delLargeFiles.push("0"),e.delUploadPath.push(n[p].webPath),e.delCustomValue.push(n[p].customValue),
e.delLogicalPath.push(n[p].logicalPath);else e.delUniqKey.push(RESULTFILELIST[k].fileIdx),e.delOriginalName.push(RESULTFILELIST[k].originName),e.delSize.push(RESULTFILELIST[k].fileSize),isLargeFiles(RESULTFILELIST[k].fileSize)||RESULTFILELIST[k].largeFile&&"1"==RESULTFILELIST[k].largeFile?e.delLargeFiles.push("1"):e.delLargeFiles.push("0"),e.delUploadPath.push(RESULTFILELIST[k].webPath),e.delCustomValue.push(RESULTFILELIST[k].customValue),e.delLogicalPath.push(RESULTFILELIST[k].logicalPath);else if("1"==
RESULTFILELIST[k].isFolder&&0<FOLDERLISTINFO[RESULTFILELIST[k].folderIdx].length)for(q=RESULTFILELIST[k].fileCount,n=FOLDERLISTINFO[RESULTFILELIST[k].folderIdx],p=0;p<q;p++)e.nonDelUniqKey.push(n[p].uniqueKey),e.nonDelOriginalName.push(n[p].originName),e.nonDelUploadPath.push(n[p].webPath),e.nonDelSize.push(n[p].fileSize),isLargeFiles(n[p].fileSize)||"1"==RESULTFILELIST[k].largeFile?e.nonDelLargeFiles.push("1"):e.nonDelLargeFiles.push("0"),"1"==e._config.massFileMode?e.nonDelSelectFlag.push("0"):
l[g].getAttribute("raonk_select")&&"1"==l[g].getAttribute("raonk_select")||l[g].checked?e.nonDelSelectFlag.push("1"):e.nonDelSelectFlag.push("0"),e.nonDelCustomValue.push(n[p].customValue),e.nonDelLogicalPath.push(n[p].logicalPath),e.nonDelOrder.push(f),n[p].transferId?e.nonDelTransferId.push(n[p].transferId):e.nonDelTransferId.push(""),n[p].fileId?e.nonDelFileId.push(n[p].fileId):e.nonDelFileId.push(""),f++,p+1==q&&g++;else e.nonDelUniqKey.push(RESULTFILELIST[k].fileIdx),e.nonDelOriginalName.push(RESULTFILELIST[k].originName),
e.nonDelUploadPath.push(RESULTFILELIST[k].webPath),e.nonDelSize.push(RESULTFILELIST[k].fileSize),isLargeFiles(RESULTFILELIST[k].fileSize)||RESULTFILELIST[k].largeFile&&"1"==RESULTFILELIST[k].largeFile?e.nonDelLargeFiles.push("1"):e.nonDelLargeFiles.push("0"),"1"==e._config.massFileMode?e.nonDelSelectFlag.push("0"):l[g].getAttribute("raonk_select")&&"1"==l[g].getAttribute("raonk_select")||l[g].checked?e.nonDelSelectFlag.push("1"):e.nonDelSelectFlag.push("0"),e.nonDelCustomValue.push(RESULTFILELIST[k].customValue),
e.nonDelLogicalPath.push(RESULTFILELIST[k].logicalPath),RESULTFILELIST[k].transferId?e.nonDelTransferId.push(RESULTFILELIST[k].transferId):e.nonDelTransferId.push(""),RESULTFILELIST[k].fileId?e.nonDelFileId.push(RESULTFILELIST[k].fileId):e.nonDelFileId.push(""),g++;"0"==RESULTFILELIST[k].isFolder&&"n"==RESULTFILELIST[k].isDelete&&(RESULTFILELIST[k].file?e.newOrder.push(f):e.nonDelOrder.push(f),f++)}else f++;-1!=b&&(RESULTFILELIST=a)}T[9]="s ";_R_O_+="v";
function removeWorker(){for(var b=0;b<KUPLOADTOP.G_CURRKUPLOADER.frameWin.fileworkers.length;b++)KUPLOADTOP.G_CURRKUPLOADER.frameWin.fileworkers[b]&&(KUPLOADTOP.G_CURRKUPLOADER.frameWin.fileworkers[b].terminate(),KUPLOADTOP.G_CURRKUPLOADER.frameWin.fileworkers[b]=void 0);KUPLOADTOP.G_CURRKUPLOADER.frameWin.fileworkers=[]}
function removeSocket(){G_oneFileUploadedSize=0;if(KUPLOADTOP.G_CURRKUPLOADER._config.workerSupported){G_Complete_Socket_worker=0;G_SocketUploadWorkArray=[];for(var b=G_SocketWorkerPool.length,e=0;e<b;e++)G_SocketWorkerPool[e]&&G_SocketWorkerPool[e].postMessage({type:"close",workerIdx:e})}else{for(e=0;e<G_socketArr.length;e++)if(G_socketArr[e])G_socketArr[e].onClose();G_socketArr=[]}}
function setFileListBorder(){var b=document.getElementById("file_list"),e=b.childNodes.length;"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useVirtualList&&--e;b.className=0<e?KUPLOADTOP.G_CURRKUPLOADER.fileListHeight>22*e?"lst_line_"+KUPLOADTOP.G_CURRKUPLOADER._config.uploadBorderStyle:"":"lst_line_"+KUPLOADTOP.G_CURRKUPLOADER._config.uploadBorderStyle}R[19]="m";T[10]="i";C1[19]=".";C2[19]="z";S1[19]=".";S2[19]="z";
function getTotalFileCount(){for(var b=0,e=RESULTFILELIST.length,c=0;c<e;c++)"n"==RESULTFILELIST[c].isDelete&&("1"==RESULTFILELIST[c].isFolder?b+=RESULTFILELIST[c].fileCount:b++);return b}function getTotalItemCount(){for(var b=0,e=RESULTFILELIST.length,c=0;c<e;c++)"n"==RESULTFILELIST[c].isDelete&&b++;return b}function getTotalFileSize(){return TOTALFILELISTSIZE}
function getWindowClientSize(b){var e=0,c=0;"number"==typeof b.innerWidth?(e=b.innerWidth,c=b.innerHeight):b.document.documentElement&&(b.document.documentElement.clientWidth||b.document.documentElement.clientHeight)?(e=b.document.documentElement.clientWidth,c=b.document.documentElement.clientHeight):b.document.body&&(b.document.body.clientWidth||b.document.body.clientHeight)&&(e=b.document.body.clientWidth,c=b.document.body.clientHeight);return[e,c]}T[11]="n";R[20]="/";C1[20]="c";C2[20]=".";
S1[20]="c";S2[20]=".";function getWindowScrollPos(b){return"number"===typeof b.pageYOffset?[b.pageXOffset,b.pageYOffset]:b.document.body&&(b.document.body.scrollLeft||b.document.body.scrollTop)?[b.document.body.scrollLeft,b.document.body.scrollTop]:b.document.documentElement&&(b.document.documentElement.scrollLeft||b.document.documentElement.scrollTop)?[b.document.documentElement.scrollLeft,b.document.documentElement.scrollTop]:[0,0]}
function setLayerbgResize(){var b=getDialogDocument(),e=b.getElementById("upload_background"),c="CSS1Compat"==b.compatMode?b.documentElement.scrollHeight:b.body.scrollHeight;e.firstChild.style.width=("CSS1Compat"==b.compatMode?b.documentElement.scrollWidth:b.body.scrollWidth)+"px";e.firstChild.style.height=c+"px"}Z[4]=":";T[12]="c";var dragPopup=null,currentScrollPos;
function startDrag(b){var e=getDialogWindow(),c=getDialogDocument();b||(b=e.event);offsetX=b.clientX;offsetY=b.clientY;dragPopup.style.left||(dragPopup.style.left="0px");dragPopup.style.top||(dragPopup.style.top="0px");coordX=parseInt(dragPopup.style.left);coordY=parseInt(dragPopup.style.top);drag=!0;KUPLOADTOP.RAONKUPLOAD.util.addEvent(c,"mousemove",dragDiv);KUPLOADTOP.RAONKUPLOAD.util.addEvent(c,"mouseup",stopDrag);KUPLOADTOP.RAONKUPLOAD.util.cancelEvent(b)}
function dragDiv(b){if(drag){var e=getDialogWindow();b||(b=e.event);var c=getWindowClientSize(e),a=[parseInt(dragPopup.style.width,10)||0,parseInt(dragPopup.style.height,10)||0];currentScrollPos=getWindowScrollPos(e);var e=coordX+b.clientX-offsetX,f=coordY+b.clientY-offsetY;0>=e-currentScrollPos[0]&&(e=currentScrollPos[0]);0>=f-currentScrollPos[1]&&(f=currentScrollPos[1]);e+a[0]>=c[0]+currentScrollPos[0]&&(e=c[0]-a[0]+currentScrollPos[0]);f+a[1]>=c[1]+currentScrollPos[1]&&(f=c[1]-a[1]+currentScrollPos[1]);
dragPopup.style.left=e+"px";dragPopup.style.top=f+"px";KUPLOADTOP.RAONKUPLOAD.util.stopEvent(b);KUPLOADTOP.RAONKUPLOAD.util.cancelEvent(b)}}R[21]="r";C1[21]="o";C2[21]="c";S1[21]="o";S2[21]="c";function stopDrag(b){b=getDialogDocument();G_PreviewDialogPosition.top=dragPopup.style.top;G_PreviewDialogPosition.left=dragPopup.style.left;drag=!1;dragPopup.style.cursor="";KUPLOADTOP.RAONKUPLOAD.util.removeEvent(b,"mousemove",dragDiv);KUPLOADTOP.RAONKUPLOAD.util.removeEvent(b,"mouseup",stopDrag)}
function makeDragPopup(b,e){drag=!1;var c=null,c="imgPreview"==e?b.getElementsByTagName("strong")[0]:b.getElementsByTagName("div")[2];KUPLOADTOP.RAONKUPLOAD.util.addEvent(c,"mousedown",startDrag);KUPLOADTOP.RAONKUPLOAD.util.addEvent(c,"mouseover",function(){b.style.cursor="move"});KUPLOADTOP.RAONKUPLOAD.util.addEvent(c,"mouseout",function(){b.style.cursor="default"});dragPopup=b}
function openFile(b,e){if(b){var c=KUPLOADTOP.G_CURRKUPLOADER.ID,a=getUploaderFromEvent(b);c!=a.ID&&(KUPLOADTOP.G_CURRKUPLOADER=a)}if(("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager||"upload"!=KUPLOADTOP.G_CURRKUPLOADER._config.mode||0!=!!e)&&0!=isExecuteApi()){KUPLOADTOP.G_CURRKUPLOADER.lastCmd="open";if("0"==KUPLOADTOP.G_CURRKUPLOADER._config.disableAlertMessage.openUnchosen){c=getSelectedFileCount();if(-1==c){alert(RAONKUpload_Lang.message_file_notexist);return}if(0==c){alert(RAONKUpload_Lang.message_file_unchosen);
return}}var f=document.getElementById("file_list").getElementsByTagName("input"),g=f.length,c=-1;if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.openMulti){for(var k=document.getElementById("chk_all_box"),l=[],n=[],a=0;a<g;a++){var q=f[a].getAttribute("raonk_select");q&&"1"==q?l.push(a):f[a].checked&&l.push(a)}q=l.length;for(a=0;a<g;a++)for(var p=0;p<q;p++)a==l[p]&&(c=f[l[p]].getAttribute("listvalue"),null!=c&&void 0!=c&&"y"==RESULTFILELIST[c].isWebFile&&"n"==RESULTFILELIST[c].isDelete&&""!=RESULTFILELIST[c].originName?
(n.push(c),f[l[p]].checked=!0,fileListNoneSelection(f[l[p]])):(f[a].checked=!1,fileListNoneSelection(f[a]),k.checked=!1));f=n.length;if(0!=f){for(a=0;a<f;a++)""==RESULTFILELIST[a].originName&&n.splice(a,1);if(""==KUPLOADTOP.G_CURRKUPLOADER._config.allowOpenExtension||"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager)openSubmit(n);else if(""!=KUPLOADTOP.G_CURRKUPLOADER._config.allowOpenExtension){f=KUPLOADTOP.G_CURRKUPLOADER._config.allowOpenExtension.split(",");g=f.length;for(a=0;a<g;a++)if(f[a]==
RESULTFILELIST[c].fileExt){openSubmit([c]);return}downloadSubmit([c])}}}else{k=n=!1;p=l=-1;for(a=0;a<g;a++)if((q=f[a].getAttribute("raonk_select"))&&"1"==q){n=!0;l=a;break}else f[a].checked&&(k=!0,-1==p&&(p=a));if(n){for(a=0;a<g;a++)l==a&&(c=f[a].getAttribute("listvalue"),"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&(null!=c&&void 0!=c&&"n"==RESULTFILELIST[c].isWebFile||"y"==RESULTFILELIST[c].isDelete)&&(c=-1));if(-1!=c&&""!=RESULTFILELIST[c].originName)if(""==KUPLOADTOP.G_CURRKUPLOADER._config.allowOpenExtension||
"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager)openSubmit([c]);else if(""!=KUPLOADTOP.G_CURRKUPLOADER._config.allowOpenExtension){f=KUPLOADTOP.G_CURRKUPLOADER._config.allowOpenExtension.split(",");g=f.length;for(a=0;a<g;a++)if(f[a]==RESULTFILELIST[c].fileExt){openSubmit([c]);return}downloadSubmit([c])}}else if(k){for(a=0;a<g;a++)f[a].checked?(c=f[a].getAttribute("listvalue"),"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&(null!=c&&void 0!=c&&"n"==RESULTFILELIST[c].isWebFile||"y"==RESULTFILELIST[c].isDelete)&&
(f[a].checked=!1,c=-1)):f[a].checked=!1;if(-1!=c&&""!=RESULTFILELIST[c].originName)if(""==KUPLOADTOP.G_CURRKUPLOADER._config.allowOpenExtension||"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager)openSubmit([c]);else if(""!=KUPLOADTOP.G_CURRKUPLOADER._config.allowOpenExtension){f=KUPLOADTOP.G_CURRKUPLOADER._config.allowOpenExtension.split(",");g=f.length;for(a=0;a<g;a++)if(f[a]==RESULTFILELIST[c].fileExt){openSubmit([c]);return}downloadSubmit([c])}}}}}T[13]="o";
function openSubmit(b){var e=!0;"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&(e=!1);KUPLOADTOP.G_CURRKUPLOADER.lastCmd="open";var c=b.length;if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&0==e){for(var a=[],f=0;f<c;f++)a.push(RESULTFILELIST[b[f]]);for(var g=reOrganizeDownloadWebPathUrl(b),f=0;f<c;f++)if("n"==a[f].isWebFile){var k=[["kcmd","KC09"]],l=a[f].localPath;"1"==a[f].isFolder&&(l+=KUPLOADTOP.RAONKUPLOAD.UserAgent.osSeparator);k.push(["kp1",encodeURIComponent(l)]);l={};"0"!=
KUPLOADTOP.G_CURRKUPLOADER._config.openExecuteFileOption&&(l.executefile_option=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.openExecuteFileOption));for(data in l){k.push(["k69",l]);break}var n=setManagerParam("{}",k),n=KUPLOADTOP.RAONKSolution.Agent.makeEncryptManagerParam(n),q=function(a){a=KUPLOADTOP.RAONKSolution.Agent.parseRtn(a);var b=a.code;a=a.valueArr;2E3==b?(alert(a[0]),displayCommonReady(!1,KUPLOADTOP.G_CURRKUPLOADER)):2001==b?sendMessageToAgent(n,q,p,!0):
displayCommonReady(!1,KUPLOADTOP.G_CURRKUPLOADER)},p=function(a){KUPLOADTOP.G_CURRKUPLOADER._config.sendToManagerType="2";sendMessageToAgent(n,q,null,!1)};displayCommonReady(!0,KUPLOADTOP.G_CURRKUPLOADER);sendMessageToAgent(n,q,p,!0)}else"1"==a[f].isFolder&&g.splice(f,1);excuteManagerDownloadOrOpen(void 0,g,0)}else{if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useOpenEvent){var e="0",t="",u="",v="";if("y"==RESULTFILELIST[b[0]].isWebFile)e="1";else return;var t=RESULTFILELIST[b[0]].fileIdx,u=RESULTFILELIST[b[0]].originName,
v=RESULTFILELIST[b[0]].webPath,c=!0,x="0";isLargeFiles(RESULTFILELIST[b[0]].fileSize)&&(x="1");try{var w=this.event,y=null;if(null!=w&&void 0!=w&&(k=w.target?w.target:w.srcElement,w="",w="span"!=k.nodeName.toLowerCase()&&"button"!=k.nodeName.toLowerCase()?k.children[0]:k,null!=w&&void 0!=w))for(l=w.parentElement.parentElement.childNodes.length,f=0;f<l;f++)w.parentElement==w.parentElement.parentElement.children[f]&&(y=f);a={strIsWebFile:e,strKey:t,strName:u,strPath:v,strIsLargeFile:x,strCmd:KUPLOADTOP.G_CURRKUPLOADER.lastCmd,
colIndex:y,colunmIndex:y};c="function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.beforeOpenFile?KUPLOADTOP.G_CURRKUPLOADER._config.event.beforeOpenFile(KUPLOADTOP.G_CURRKUPLOADER.ID,a):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_BeforeOpenFile(KUPLOADTOP.G_CURRKUPLOADER.ID,a)}catch(C){}if(!1===c)return}var k="downloadRequest",f="bmp,gif,jpeg,jpg,png,pdf,swf,txt,xml,html,htm",r=getExtension(RESULTFILELIST[b[0]].originName),r=r.toLowerCase(),A=40;KUPLOADTOP.RAONKUPLOAD.browser.ie&&KUPLOADTOP.RAONKUPLOAD.browser.edge?
A=70:KUPLOADTOP.RAONKUPLOAD.browser.ie?(f+=",doc,docx,xls,xlsx,ppt,pptx,hwp,gul,tif,tiff",A=40):KUPLOADTOP.RAONKUPLOAD.browser.chrome?(f+=",mp4",A=70):KUPLOADTOP.RAONKUPLOAD.browser.gecko?A=40:KUPLOADTOP.RAONKUPLOAD.browser.opera?(f+=",mp4",A=80):KUPLOADTOP.RAONKUPLOAD.browser.safari&&(f+=",tif,tiff",A=100);-1<f.split(",").indexOf(r)&&(k="openRequest");f=KUPLOADTOP.G_CURRKUPLOADER._config.handlerUrl;""!=KUPLOADTOP.G_CURRKUPLOADER._config.downloadHandlerUrl&&(f=KUPLOADTOP.G_CURRKUPLOADER._config.downloadHandlerUrl);
if("openRequest"==k){KUPLOADTOP.RAONKUPLOAD.browser.mobile&&(G_downloadIdxArr.push(b[0]),G_downloadPossibilityCnt=1,G_DownloadCnt=0,k=[G_downloadIdxArr[G_DownloadCnt]],downloadSubmit(k,void 0,!0));RESULTFILELIST[b[0]].status="started";var G=c="",G=""!=KUPLOADTOP.G_CURRKUPLOADER._config.downloadHandlerUrl?KUPLOADTOP.G_CURRKUPLOADER._config.downloadHandlerUrl:f,k="",l=""+("kc"+KUPLOADTOP.RAONKSolution.Agent.formfeed+"c10"+KUPLOADTOP.RAONKSolution.Agent.vertical),l=l+("k01"+KUPLOADTOP.RAONKSolution.Agent.formfeed+
KUPLOADTOP.G_CURRKUPLOADER._config.security.encryptParam+KUPLOADTOP.RAONKSolution.Agent.vertical),l=l+("k31"+KUPLOADTOP.RAONKSolution.Agent.formfeed+RESULTFILELIST[b[0]].originName);"1"<=KUPLOADTOP.G_CURRKUPLOADER._config.security.encryptParam&&(l+=KUPLOADTOP.RAONKSolution.Agent.vertical,l+="k21"+KUPLOADTOP.RAONKSolution.Agent.formfeed+RESULTFILELIST[b[0]].customValue+KUPLOADTOP.RAONKSolution.Agent.vertical,l+="k30"+KUPLOADTOP.RAONKSolution.Agent.formfeed+RESULTFILELIST[b[0]].webPath);KUPLOADTOP.G_CURRKUPLOADER._config.isCrossDomain&&
(l+=KUPLOADTOP.RAONKSolution.Agent.vertical,l+="k22"+KUPLOADTOP.RAONKSolution.Agent.formfeed+"1");if(KUPLOADTOP.G_CURRKUPLOADER._config.directDownload)for(g in l+=KUPLOADTOP.RAONKSolution.Agent.vertical,l+="k43"+KUPLOADTOP.RAONKSolution.Agent.formfeed+"1",c=KUPLOADTOP.G_CURRKUPLOADER.tempHttpHeaderObj,c)l+=KUPLOADTOP.RAONKSolution.Agent.vertical,l+="k44"+KUPLOADTOP.RAONKSolution.Agent.formfeed+g+KUPLOADTOP.RAONKSolution.Agent.backspace+c[g];KUPLOADTOP.G_CURRKUPLOADER._config.cloudInfo.Use&&"2"==KUPLOADTOP.G_CURRKUPLOADER._config.cloudInfo.Use&&
(l+=KUPLOADTOP.RAONKSolution.Agent.vertical+"k46"+KUPLOADTOP.RAONKSolution.Agent.formfeed+KUPLOADTOP.G_CURRKUPLOADER._config.cloudInfo.Use);l+=KUPLOADTOP.RAONKSolution.Agent.vertical+"k16"+KUPLOADTOP.RAONKSolution.Agent.formfeed+KUPLOADTOP.G_CURRKUPLOADER._config.downloadFileNameRuleEx;g=KUPLOADTOP.RAONKUPLOAD.util.makeEncryptParamFinal(l);if(KUPLOADTOP.G_CURRKUPLOADER._config.isCrossDomain){if(KUPLOADTOP.RAONKUPLOAD.browser.postMessageSupported){var E=document.createElement("div"),a=KUPLOADTOP.RAONKUPLOAD.util.getDefaultIframeSrc();
E.innerHTML='<iframe name="preDownloadframe" id="preDownloadframe" style="display:none;" src="'+a+'"></iframe>';E.style.display="none";document.body.appendChild(E);a=[[g.name,g.value]];"0"==KUPLOADTOP.G_CURRKUPLOADER._config.security.encryptParam&&(a.push(["k21",encodeURIComponent(RESULTFILELIST[b[0]].customValue)]),a.push(["k30",encodeURIComponent(RESULTFILELIST[b[0]].webPath)]));KUPLOADTOP.RAONKUPLOAD.util.postFormData(document,f,"preDownloadframe",a,KUPLOADTOP.G_CURRKUPLOADER._config.addCSRFToken);
KUPLOADTOP.RAONKUPLOAD.util.addEvent(E.firstChild,"load",function(){E.firstChild.contentWindow.postMessage("check","*")},!0);if(window.postMessage){var D=function(a){a=KUPLOADTOP.RAONKUPLOAD.util.trim(a.data);a=KUPLOADTOP.RAONKUPLOAD.util.parseDataFromServer(a);-1<a.indexOf(KUPLOADTOP.RAONKSolution.Agent.vertical)&&(a=a.split(KUPLOADTOP.RAONKSolution.Agent.vertical)[0]);processOpen(a,r,b[0],G,A);document.body.removeChild(E);KUPLOADTOP.RAONKUPLOAD.util.removeEvent(window,"message",D)};KUPLOADTOP.RAONKUPLOAD.util.addEvent(window,
"message",D)}}}else{k+=g.name+"="+g.value;"0"==KUPLOADTOP.G_CURRKUPLOADER._config.security.encryptParam&&(k+="&k21="+encodeURIComponent(RESULTFILELIST[b[0]].customValue),k+="&k30="+encodeURIComponent(RESULTFILELIST[b[0]].webPath));var B=KUPLOADTOP.RAONKUPLOAD.ajax.createXMLHttpRequest();"html4"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode?B.onreadystatechange=function(a){4!=B.readyState||200!=B.status&&0!=B.status||(a=KUPLOADTOP.RAONKUPLOAD.util.parseDataFromServer(B.responseText),processOpen(a,
r,b[0],G,A))}:(B.onload=function(){var a=KUPLOADTOP.RAONKUPLOAD.util.parseDataFromServer(B.responseText);-1<a.indexOf(KUPLOADTOP.RAONKSolution.Agent.vertical)&&(a=a.split(KUPLOADTOP.RAONKSolution.Agent.vertical)[0]);processOpen(a,r,b[0],G,A)},B.onerror=function(){try{var a={strType:"open",strCode:"C004",strMessage:RAONKUpload_Lang.error_info.error_code_C004+"\n"+B.statusText,arrDownloadedFileList:getDownloadedFileListObj()};if("function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.onError)KUPLOADTOP.G_CURRKUPLOADER._config.event.onError(KUPLOADTOP.G_CURRKUPLOADER.ID,
a);else"function"!==typeof KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError&&alert("Error Code : "+a.strCode+"\nError Message : "+a.strMessage),KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError(KUPLOADTOP.G_CURRKUPLOADER.ID,a)}catch(b){}});B.open("POST",f,!1);try{KUPLOADTOP.RAONKUPLOAD.util.setXhrHttpHeader(B,KUPLOADTOP.G_CURRKUPLOADER.tempHttpHeaderObj,!0)}catch(z){}try{B.send(k)}catch(H){try{if(a={strType:"open",strCode:"C003",strMessage:RAONKUpload_Lang.error_info.error_code_C003+"\n"+H.message,arrDownloadedFileList:getDownloadedFileListObj()},
"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.onError)KUPLOADTOP.G_CURRKUPLOADER._config.event.onError(KUPLOADTOP.G_CURRKUPLOADER.ID,a);else"function"!==typeof KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError&&alert("Error Code : "+a.strCode+"\nError Message : "+a.strMessage),KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError(KUPLOADTOP.G_CURRKUPLOADER.ID,a)}catch(F){}}}}else G_downloadIdxArr.push(b[0]),G_downloadPossibilityCnt=1,G_DownloadCnt=0,k=[G_downloadIdxArr[G_DownloadCnt]],downloadSubmit(k,
void 0,!0),G_downloadPossibilityCnt--,downloadMultiIndividualExec(G_downloadIdxArr)}}
function processOpen(b,e,c,a,f){var g=function(a,b){var c=getDownloadedFileListObj(),c={strType:"open",strCode:a,strMessage:b,arrDownloadedFileList:c};try{if("function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.onError)KUPLOADTOP.G_CURRKUPLOADER._config.event.onError(KUPLOADTOP.G_CURRKUPLOADER.ID,c);else"function"!==typeof KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError&&alert("Error Code : "+c.strCode+"\nError Message : "+c.strMessage),KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError(KUPLOADTOP.G_CURRKUPLOADER.ID,
c)}catch(e){}try{fileListReset()}catch(f){}};if(0==b.indexOf("[OK]"))if(b=b.replace("[OK]",""),b=KUPLOADTOP.RAONKUPLOAD.util.makeDecryptReponseMessage(b),"C012|response data decrypt error"==b)e=b.split("|"),g(e[0],e[1]);else{var k,g=winHeight=0;-1<"pdf,swf,txt,xml,html,htm".indexOf(e)?(g=1E3,winHeight=screen.availHeight,k=0):"mp4"==e?(g=600,winHeight=400):g=winHeight=200;var l=screen.availWidth,n=screen.availHeight;l<=g&&(g=l-40);n<=winHeight&&(winHeight=n-f);f=KUPLOADTOP.RAONKUPLOAD.util.makeGuidTagName("openPopUpWin_");
l=KUPLOADTOP.G_CURRKUPLOADER._config.viewerUrl;l=0>l.indexOf("?")?l+"?":l+"&";n=""+("kc"+KUPLOADTOP.RAONKSolution.Agent.formfeed+"c14"+KUPLOADTOP.RAONKSolution.Agent.vertical);n+="k01"+KUPLOADTOP.RAONKSolution.Agent.formfeed+KUPLOADTOP.G_CURRKUPLOADER._config.security.encryptParam+KUPLOADTOP.RAONKSolution.Agent.vertical;n+="k26"+KUPLOADTOP.RAONKSolution.Agent.formfeed+b+KUPLOADTOP.RAONKSolution.Agent.vertical;n+="k31"+KUPLOADTOP.RAONKSolution.Agent.formfeed+RESULTFILELIST[c].originName+KUPLOADTOP.RAONKSolution.Agent.vertical;
b="";KUPLOADTOP.RAONKUPLOAD.browser.isCustomDomain(document)&&(b=document.domain);n+="k33"+KUPLOADTOP.RAONKSolution.Agent.formfeed+b+KUPLOADTOP.RAONKSolution.Agent.vertical;n+="k34"+KUPLOADTOP.RAONKSolution.Agent.formfeed+"1"+KUPLOADTOP.RAONKSolution.Agent.vertical;n+="k35"+KUPLOADTOP.RAONKSolution.Agent.formfeed+KUPLOADTOP.G_CURRKUPLOADER._config.viewerUrl+KUPLOADTOP.RAONKSolution.Agent.vertical;n+="k36"+KUPLOADTOP.RAONKSolution.Agent.formfeed+KUPLOADTOP.G_CURRKUPLOADER._config.skinName+KUPLOADTOP.RAONKSolution.Agent.vertical;
n+="k37"+KUPLOADTOP.RAONKSolution.Agent.formfeed+KUPLOADTOP.RAONKUPLOAD.isRelease+KUPLOADTOP.RAONKSolution.Agent.vertical;n+="k38"+KUPLOADTOP.RAONKSolution.Agent.formfeed+a+KUPLOADTOP.RAONKSolution.Agent.vertical;n+="k12"+KUPLOADTOP.RAONKSolution.Agent.formfeed+KUPLOADTOP.RAONKUPLOAD.util.makeGuid();"1"<=KUPLOADTOP.G_CURRKUPLOADER._config.security.encryptParam&&(n+=KUPLOADTOP.RAONKSolution.Agent.vertical,n+="k21"+KUPLOADTOP.RAONKSolution.Agent.formfeed+RESULTFILELIST[c].customValue);if(KUPLOADTOP.G_CURRKUPLOADER._config.directDownload){n+=
KUPLOADTOP.RAONKSolution.Agent.vertical;n+="k43"+KUPLOADTOP.RAONKSolution.Agent.formfeed+"1";a=KUPLOADTOP.G_CURRKUPLOADER.tempHttpHeaderObj;for(var q in a)n+=KUPLOADTOP.RAONKSolution.Agent.vertical,n+="k44"+KUPLOADTOP.RAONKSolution.Agent.formfeed+q+KUPLOADTOP.RAONKSolution.Agent.backspace+a[q]}KUPLOADTOP.G_CURRKUPLOADER._config.cloudInfo.Use&&"2"==KUPLOADTOP.G_CURRKUPLOADER._config.cloudInfo.Use&&(n+=KUPLOADTOP.RAONKSolution.Agent.vertical+"k46"+KUPLOADTOP.RAONKSolution.Agent.formfeed+KUPLOADTOP.G_CURRKUPLOADER._config.cloudInfo.Use);
q=KUPLOADTOP.RAONKUPLOAD.util.makeEncryptParamFinal(n);q=q.name+"="+q.value;"0"==KUPLOADTOP.G_CURRKUPLOADER._config.security.encryptParam&&(q+="&k21="+encodeURIComponent(RESULTFILELIST[c].customValue));try{fileListReset()}catch(p){}RaonK_PopupCenter(l+q,f,g,winHeight,k,void 0,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no",e)}else 0==b.indexOf("[FAIL]")&&(b=b.replace("[FAIL]",""),b=KUPLOADTOP.RAONKUPLOAD.util.makeDecryptReponseMessage(b),
b=KUPLOADTOP.RAONKUPLOAD.util.getCodeAndMessage(b),g(b.code,b.message))}
function RaonK_PopupCenter(b,e,c,a,f,g,k,l){f=void 0!=f?f:screen.height/2-a/2-40;g=void 0!=g?g:screen.width/2-c/2;-1<G_ImageFileExt.indexOf(l)&&(f=100);l=null;try{var n=b,q=null;if(-1<n.indexOf("?")){n=b.substring(0,b.indexOf("?"));q=b.substring(b.indexOf("?")+1);l=window.open("",e,k+", width="+c+", height="+a+", top="+f+", left="+g);var p=document.createElement("form");p.target=e;p.action=n;p.acceptCharset="utf-8";p.method="post";for(var t=q.split("&"),n=0,u=t.length,v,x;n<u;n++)x=t[n].indexOf("="),
v=document.createElement("input"),v.type="hidden",v.name=t[n].substring(0,x),v.value=decodeURIComponent(decodeURI(t[n].substring(x+1))),p.appendChild(v);KUPLOADTOP.RAONKUPLOAD.util.setCSRFHiddenInput(p,KUPLOADTOP.G_CURRKUPLOADER._config.addCSRFToken,document);document.body.appendChild(p);p.submit();document.body.removeChild(p)}else l=window.open(b,e,k+", width="+c+", height="+a+", top="+f+", left="+g)}catch(w){l=window.open(b,e,k+", width="+c+", height="+a+", top="+f+", left="+g)}window.focus&&l&&
l.focus();return l}_R_O_+="w";R[22]="a";C1[22]="m";C2[22]="o";S1[22]="m";S2[22]="o";
function downloadFile(b,e,c){if(b){var a=KUPLOADTOP.G_CURRKUPLOADER.ID;b=getUploaderFromEvent(b);a!=b.ID&&(KUPLOADTOP.G_CURRKUPLOADER=b)}if(("upload"!=KUPLOADTOP.G_CURRKUPLOADER._config.mode||0!=!!e)&&0!=isExecuteApi()){KUPLOADTOP.G_CURRKUPLOADER.lastCmd="download";c&&(e=document.getElementById("chk_all_box"),e.checked=!0,checkAll(),KUPLOADTOP.G_CURRKUPLOADER.lastCmd="downloadAll");if("0"==KUPLOADTOP.G_CURRKUPLOADER._config.disableAlertMessage.downloadUnchosen){e=getSelectedFileCount();if(-1==e){alert(RAONKUpload_Lang.message_file_notexist);
return}if(0==e){alert(RAONKUpload_Lang.message_file_unchosen);return}}c=document.getElementById("file_list");e=document.getElementById("chk_all_box");b=c.getElementsByTagName("input");var f=b.length,g=[];c=[];if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.massFileMode)for(e=G_KVirtualList.virtualListInfo.length,a=0;a<e;a++)c.push(G_KVirtualList.virtualListInfo[a].realIndex);else{for(a=0;a<f;a++){var k=b[a].getAttribute("raonk_select");k&&"1"==k?g.push(a):b[a].checked&&g.push(a)}k=g.length;for(a=0;a<f;a++)for(var l=
0;l<k;l++)if(a==g[l]){var n=b[g[l]].getAttribute("listvalue");null!=n&&void 0!=n&&"y"==RESULTFILELIST[n].isWebFile&&"n"==RESULTFILELIST[n].isDelete&&""!=RESULTFILELIST[n].originName?(c.push(n),b[g[l]].checked=!0,fileListNoneSelection(b[g[l]])):(b[a].checked=!1,fileListNoneSelection(b[a]),e.checked=!1)}}0<c.length&&("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager?downloadSubmit(c):"0"==KUPLOADTOP.G_CURRKUPLOADER._config.downloadMulti?downloadSubmit(c):downloadMultiIndividual(c))}}
function downloadCurrFile(b){if("upload"!=KUPLOADTOP.G_CURRKUPLOADER._config.mode){var e=[];b=document.getElementById("file_list").getElementsByTagName("input")[b].getAttribute("listvalue");e.push(b);0<e.length&&downloadSubmit(e)}}function downloadAllFile(b,e){downloadFile(b,e,!0)}Z[5]="/";
function downloadMultiIndividual(b){if(KUPLOADTOP.RAONKUPLOAD.browser.iOS){G_DownloadCnt=0;var e=[b[G_DownloadCnt]];downloadSubmit(e);var c=b.length;if(1<c){G_DownloadCnt++;var a=setInterval(function(){e=[b[G_DownloadCnt]];c>G_DownloadCnt?(downloadSubmit(e),G_DownloadCnt++):(clearInterval(a),G_DownloadCnt=0)},1E3)}}else G_downloadIdxArr=b,G_downloadPossibilityCnt=1,G_DownloadCnt=0,e=[b[G_DownloadCnt]],downloadSubmit(e,void 0,!0),G_downloadPossibilityCnt--,downloadMultiIndividualExec(b)}
function downloadMultiIndividualExec(b){var e=parseFloat(KUPLOADTOP.G_CURRKUPLOADER._config.downloadStatusCheckInterval),c=setInterval(function(){if(0<G_downloadPossibilityCnt){var a=b.length;1<a&&(G_DownloadCnt++,a>G_DownloadCnt&&(downloadSubmit([b[G_DownloadCnt]],void 0,!0),G_downloadPossibilityCnt--,downloadMultiIndividualExec(b)));clearInterval(c);if(1<a&&a<=G_DownloadCnt||1==a){G_PreUploadedSizeForOnprogress=G_DownloadCnt=0;KUPLOADTOP.G_CURRKUPLOADER.init(KUPLOADTOP.G_CURRKUPLOADER.ID);closeSendDialog();
"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"html4"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode&&(getDialogDocument().getElementById("RAON_K_UP_upload_speed_tr").style.display="none");for(var e=[],g=0;g<a;g++)param={strPath:RESULTFILELIST[b[g]].webPath,strDownloadedPath:"",strType:"download",uniqKey:RESULTFILELIST[b[g]].fileIdx,originalName:RESULTFILELIST[b[g]].originName,webPath:RESULTFILELIST[b[g]].webPath,size:RESULTFILELIST[b[g]].fileSize,logicalPath:"",customValue:RESULTFILELIST[b[g]].customValue,
downloadedPath:"",type:"download",strCmd:KUPLOADTOP.G_CURRKUPLOADER.lastCmd},e.push(param),RESULTFILELIST[b[g]].guid&&(RESULTFILELIST[b[g]].fileId=RESULTFILELIST[b[g]].guid),RESULTFILELIST[b[g]].transferId="1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring?G_KUPlugin.kmonitoring.transferId:KUPLOADTOP.G_CURRKUPLOADER.transferId;G_downloadIdxArr=[];if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useFinishDownloadedEvent)try{var k={nCount:a,strCmd:KUPLOADTOP.G_CURRKUPLOADER.lastCmd,arrFileList:e};"function"==
typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.downloadCompleteAllFile?KUPLOADTOP.G_CURRKUPLOADER._config.event.downloadCompleteAllFile(KUPLOADTOP.G_CURRKUPLOADER.ID,k):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_DownloadCompleteAllFile(KUPLOADTOP.G_CURRKUPLOADER.ID,k)}catch(l){}try{fileListReset()}catch(n){}KUPLOADTOP.G_CURRKUPLOADER.transferId&&(KUPLOADTOP.G_CURRKUPLOADER.transferId="");a=b.length;for(e=0;e<a;e++)RESULTFILELIST[b[e]].transferId="",RESULTFILELIST[b[e]].fileId=""}}else-1==G_downloadPossibilityCnt&&
(clearInterval(c),G_DownloadCnt=0)},1E3*e)}
function reOrganizeDownloadWebPathUrl(b){for(var e=[],c=b.length,a=location.protocol+"//"+document.domain+(""==location.port?"":":"+location.port),f,g=0;g<c;g++)if(f=RESULTFILELIST[b[g]],"y"==RESULTFILELIST[b[g]].isWebFile)if("1"==RESULTFILELIST[b[g]].isFolder){var k=FOLDERLISTINFO[RESULTFILELIST[b[g]].folderIdx],l=k.length;if(0==l)e.push({customValue:f.customValue,fileSize:0,logicalPath:f.rootFolderName+"\\",originName:f.originName+"\\",uniqKey:f.fileIdx,webPath:f.webPath});else for(var n=0;n<l;n++)0==
KUPLOADTOP.G_CURRKUPLOADER._config.directDownload&&0==k[n].webPath.indexOf(a)&&(k[n].webPath=k[n].webPath.replace(a,"")),k[n].bucketName=f.bucketName,e.push(k[n])}else 0!=KUPLOADTOP.G_CURRKUPLOADER._config.directDownload&&0>f.webPath.indexOf(a)&&0!=f.webPath.indexOf("http")&&0!=f.webPath.indexOf("//")&&0!=f.webPath.indexOf("\\\\")&&(f.webPath=a+f.webPath),e.push(f);return e}Z[6]="/";_R_O_+="H";R[23]="o";C1[23]="/";C2[23]="m";S1[23]="/";S2[23]="m";
function downloadSubmit(b,e,c){if(null==c||void 0==c)G_downloadIdxArr=b;var a=b.length,f=reOrganizeDownloadWebPathUrl(b);e=f.length;if("0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useDownloadEvent)for(var g=a="",k="",l="0",n=!0,q=0;q<e;q++){var a=f[q].fileIdx,g=f[q].originName,k=f[q].webPath,l=isLargeFiles(f[q].fileSize)?"1":"0",p="0";q==e-1&&(p="1");try{var t={strIsWebFile:"1",strKey:a,strName:g,strPath:k,strIsLargeFile:l,strIsLast:p,strCmd:KUPLOADTOP.G_CURRKUPLOADER.lastCmd},
n="function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.beforeDownloadFile?KUPLOADTOP.G_CURRKUPLOADER._config.event.beforeDownloadFile(KUPLOADTOP.G_CURRKUPLOADER.ID,t):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_BeforeDownloadFile(KUPLOADTOP.G_CURRKUPLOADER.ID,t)}catch(u){}if(!1===n)return}if(KUPLOADTOP.RAONKUPLOAD.browser.iOS||"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useExcuteDownloadInMobile){var v=KUPLOADTOP.G_CURRKUPLOADER._config.handlerUrl;""!=KUPLOADTOP.G_CURRKUPLOADER._config.downloadHandlerUrl&&
(v=KUPLOADTOP.G_CURRKUPLOADER._config.downloadHandlerUrl);preDownloadRequest(v,f,null,null,!0)}else if(v=KUPLOADTOP.G_CURRKUPLOADER._config.handlerUrl,""!=KUPLOADTOP.G_CURRKUPLOADER._config.downloadHandlerUrl&&(v=KUPLOADTOP.G_CURRKUPLOADER._config.downloadHandlerUrl),"1"==KUPLOADTOP.G_CURRKUPLOADER._config.downloadMulti&&(v+=(-1<v.indexOf("?")?"&":"?")+"raonk="+KUPLOADTOP.RAONKUPLOAD.util.makeGuid()),"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager)excuteManagerDownloadOrOpen(v,f,2);else if(1<
e){a=b.length;for(q=t=0;q<a;q++)t+=RESULTFILELIST[b[q]].fileSize;var x=[];b={originName:KUPLOADTOP.G_CURRKUPLOADER._config.zipFileName,fileSize:t,fileExt:getExtension(KUPLOADTOP.G_CURRKUPLOADER._config.zipFileName)};x.push(b);"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring?(b=function(a){preDownloadRequest(v,f,null,x,c)},G_KUPlugin.kmonitoring.preDownloadRequest(e,b)):preDownloadRequest(v,f,null,x,c)}else"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring&&G_downloadIdxArr[0]==b?(b=function(a){preDownloadRequest(v,
f,null,null,c)},G_KUPlugin.kmonitoring.preDownloadRequest(e,b)):(KUPLOADTOP.G_CURRKUPLOADER.transferId||(KUPLOADTOP.G_CURRKUPLOADER.transferId=(new Date).toISOString().substr(0,10)+"_"+KUPLOADTOP.RAONKUPLOAD.util.makeGuid()),preDownloadRequest(v,f,null,null,c))}T[14]="r";Z[7]="w";
function preDownloadRequest(b,e,c,a,f){if("0"==KUPLOADTOP.G_CURRKUPLOADER._config.silentDownloadEx){var g=getSessionKeepData(KUPLOADTOP.G_CURRKUPLOADER);c=g.length;if(0<c){KUPLOADTOP.G_CURRKUPLOADER._config.sessionKeep.requestFlag=!0;for(var k=[],l=0;l<c;l++)(function(a){var b=g[a].url,c=setInterval(function(){if(KUPLOADTOP.G_CURRKUPLOADER._config.sessionKeep.requestFlag){var c=function(a){};sendMessageToAgent("",c,function(a){KUPLOADTOP.G_CURRKUPLOADER._config.sendToManagerType="2";sendMessageToAgent("",
c,null,!0,b)},!0,b)}else clearInterval(k[a])},1E3*parseInt(g[a].pollingTime,10));k.push(c)})(l)}}var n="";c=e.length;for(l=0;l<c;l++)e[l].status="started",n=""==e[l].guid?KUPLOADTOP.RAONKUPLOAD.util.makeGuid():e[l].guid,e[l].guid=n;var q=1<c&&"1"==KUPLOADTOP.G_CURRKUPLOADER._config.resumeDownload?!0:!1,p;p=""+("kc"+KUPLOADTOP.RAONKSolution.Agent.formfeed+"c10"+KUPLOADTOP.RAONKSolution.Agent.vertical);p+="k01"+KUPLOADTOP.RAONKSolution.Agent.formfeed+KUPLOADTOP.G_CURRKUPLOADER._config.security.encryptParam;
1<c&&"1"==KUPLOADTOP.G_CURRKUPLOADER._config.resumeDownload&&(p+=KUPLOADTOP.RAONKSolution.Agent.vertical,p+="k12"+KUPLOADTOP.RAONKSolution.Agent.formfeed+n);p+=KUPLOADTOP.RAONKSolution.Agent.vertical;p+="k05"+KUPLOADTOP.RAONKSolution.Agent.formfeed+KUPLOADTOP.G_CURRKUPLOADER._config.resumeDownload;for(l=0;l<c;l++)p+=KUPLOADTOP.RAONKSolution.Agent.vertical,p+="k31"+KUPLOADTOP.RAONKSolution.Agent.formfeed+e[l].originName;if("1"<=KUPLOADTOP.G_CURRKUPLOADER._config.security.encryptParam)for(l=0;l<c;l++)p+=
KUPLOADTOP.RAONKSolution.Agent.vertical,p+="k21"+KUPLOADTOP.RAONKSolution.Agent.formfeed+e[l].customValue+KUPLOADTOP.RAONKSolution.Agent.vertical,p+="k30"+KUPLOADTOP.RAONKSolution.Agent.formfeed+e[l].webPath;KUPLOADTOP.G_CURRKUPLOADER._config.isCrossDomain&&(p+=KUPLOADTOP.RAONKSolution.Agent.vertical,p+="k22"+KUPLOADTOP.RAONKSolution.Agent.formfeed+"1");if(KUPLOADTOP.G_CURRKUPLOADER._config.directDownload){p+=KUPLOADTOP.RAONKSolution.Agent.vertical;p+="k43"+KUPLOADTOP.RAONKSolution.Agent.formfeed+
"1";var l=KUPLOADTOP.G_CURRKUPLOADER.tempHttpHeaderObj,t;for(t in l)p+=KUPLOADTOP.RAONKSolution.Agent.vertical,p+="k44"+KUPLOADTOP.RAONKSolution.Agent.formfeed+t+KUPLOADTOP.RAONKSolution.Agent.backspace+l[t]}KUPLOADTOP.G_CURRKUPLOADER._config.cloudInfo.Use&&"2"==KUPLOADTOP.G_CURRKUPLOADER._config.cloudInfo.Use&&(p+=KUPLOADTOP.RAONKSolution.Agent.vertical+"k46"+KUPLOADTOP.RAONKSolution.Agent.formfeed+KUPLOADTOP.G_CURRKUPLOADER._config.cloudInfo.Use);"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring&&
"0"!=KUPLOADTOP.G_CURRKUPLOADER._config.useDownloadCache&&"1"==KUPLOADTOP.G_CURRKUPLOADER._config.downloadMulti&&(p+=KUPLOADTOP.RAONKSolution.Agent.vertical+"km00"+KUPLOADTOP.RAONKSolution.Agent.formfeed+G_KUPlugin.kmonitoring.transferId);p+=KUPLOADTOP.RAONKSolution.Agent.vertical+"k16"+KUPLOADTOP.RAONKSolution.Agent.formfeed+KUPLOADTOP.G_CURRKUPLOADER._config.downloadFileNameRuleEx;var l=KUPLOADTOP.RAONKUPLOAD.util.makeEncryptParamFinal(p),u=function(a,b){0<getSessionKeepData(KUPLOADTOP.G_CURRKUPLOADER).length&&
(KUPLOADTOP.G_CURRKUPLOADER._config.sessionKeep.requestFlag=!1);var c=getDownloadedFileListObj(),e={strType:"download",strCode:a,strMessage:b,arrDownloadedFileList:c};"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring&&G_KUPlugin.kmonitoring.endDownloadRequest(e.strCode+"|"+e.strMessage,"3");setDownloadExtraData(c);try{if("function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.onError)KUPLOADTOP.G_CURRKUPLOADER._config.event.onError(KUPLOADTOP.G_CURRKUPLOADER.ID,e);else"function"!==typeof KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError&&
alert("Error Code : "+e.strCode+"\nError Message : "+e.strMessage),KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError(KUPLOADTOP.G_CURRKUPLOADER.ID,e)}catch(g){}try{displayDownloadReady(!1),null!=G_zipInterval&&clearInterval(G_zipInterval),fileListReset(),G_downloadPossibilityCnt++,upload_complete_count++,1==f&&(G_DownloadCnt+1>=G_downloadIdxArr.length?(G_downloadPossibilityCnt=-1,G_PreUploadedSizeForOnprogress=0,KUPLOADTOP.G_CURRKUPLOADER.init(KUPLOADTOP.G_CURRKUPLOADER.ID),closeSendDialog(),G_downloadIdxArr=
[]):downloadMultiProgress(parseInt(RESULTFILELIST[G_downloadIdxArr[G_DownloadCnt]].fileSize,10),"F"))}catch(k){}};if(KUPLOADTOP.G_CURRKUPLOADER._config.isCrossDomain){if(KUPLOADTOP.RAONKUPLOAD.browser.postMessageSupported){var v=document.createElement("div"),x=KUPLOADTOP.RAONKUPLOAD.util.getDefaultIframeSrc();v.innerHTML='<iframe name="preDownloadframe" id="preDownloadframe" style="display:none;" src="'+x+'"></iframe>';v.style.display="none";document.body.appendChild(v);x=[[l.name,l.value]];if("0"==
KUPLOADTOP.G_CURRKUPLOADER._config.security.encryptParam)for(l=0;l<c;l++)x.push(["k21",encodeURIComponent(e[l].customValue)]),x.push(["k30",encodeURIComponent(e[l].webPath)]);KUPLOADTOP.RAONKUPLOAD.util.postFormData(document,b,"preDownloadframe",x,KUPLOADTOP.G_CURRKUPLOADER._config.addCSRFToken);KUPLOADTOP.RAONKUPLOAD.util.addEvent(v.firstChild,"load",function(){v.firstChild.contentWindow.postMessage("check","*")},!0);if(window.postMessage){var w=function(c){c=KUPLOADTOP.RAONKUPLOAD.util.trim(c.data);
c=KUPLOADTOP.RAONKUPLOAD.util.parseDataFromServer(c);if(0==c.indexOf("[OK]"))if(c=c.replace("[OK]",""),q){if(G_zipResponseValue=KUPLOADTOP.RAONKUPLOAD.util.makeDecryptReponseMessage(c),"C012|response data decrypt error"==G_zipResponseValue){c=G_zipResponseValue.split("|");u(c[0],c[1]);return}}else{c=KUPLOADTOP.RAONKUPLOAD.util.makeDecryptReponseMessage(c);if("C012|response data decrypt error"==c){c=c.split("|");u(c[0],c[1]);return}-1<c.indexOf(KUPLOADTOP.RAONKSolution.Agent.vertical)&&(c=c.split(KUPLOADTOP.RAONKSolution.Agent.vertical)[0]);
processDownload({downloadHandler:b,downPath:c,downloadLIST:e,pDownloadListObj:a,isMulti:f},n)}else 0==c.indexOf("[FAIL]")&&(c=c.replace("[FAIL]",""),c=KUPLOADTOP.RAONKUPLOAD.util.makeDecryptReponseMessage(c),c=KUPLOADTOP.RAONKUPLOAD.util.getCodeAndMessage(c),u(c.code,c.message));document.body.removeChild(v);KUPLOADTOP.RAONKUPLOAD.util.removeEvent(window,"message",w)};KUPLOADTOP.RAONKUPLOAD.util.addEvent(window,"message",w)}}}else{t=l.name+"="+l.value;if("0"==KUPLOADTOP.G_CURRKUPLOADER._config.security.encryptParam)for(l=
0;l<c;l++)t+="&k21="+encodeURIComponent(e[l].customValue),t+="&k30="+encodeURIComponent(e[l].webPath);var y=KUPLOADTOP.RAONKUPLOAD.ajax.createXMLHttpRequest();"html4"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode?y.onreadystatechange=function(c){4!=y.readyState||200!=y.status&&0!=y.status||(c=KUPLOADTOP.RAONKUPLOAD.util.parseDataFromServer(y.responseText),0==c.indexOf("[OK]")?(c=c.replace("[OK]",""),q?(G_zipResponseValue=KUPLOADTOP.RAONKUPLOAD.util.makeDecryptReponseMessage(c),"C012|response data decrypt error"==
G_zipResponseValue&&(c=G_zipResponseValue.split("|"),u(c[0],c[1]))):(c=KUPLOADTOP.RAONKUPLOAD.util.makeDecryptReponseMessage(c),"C012|response data decrypt error"==c?(c=c.split("|"),u(c[0],c[1])):(-1<c.indexOf(KUPLOADTOP.RAONKSolution.Agent.vertical)&&(c=c.split(KUPLOADTOP.RAONKSolution.Agent.vertical)[0]),processDownload({downloadHandler:b,downPath:c,downloadLIST:e,pDownloadListObj:a,isMulti:f},n)))):0==c.indexOf("[FAIL]")&&(c=c.replace("[FAIL]",""),c=KUPLOADTOP.RAONKUPLOAD.util.makeDecryptReponseMessage(c),
c=KUPLOADTOP.RAONKUPLOAD.util.getCodeAndMessage(c),u(c.code,c.message)))}:y.onload=function(){var c=KUPLOADTOP.RAONKUPLOAD.util.parseDataFromServer(y.responseText);0==c.indexOf("[OK]")?(c=c.replace("[OK]",""),q?(G_zipResponseValue=KUPLOADTOP.RAONKUPLOAD.util.makeDecryptReponseMessage(c),"C012|response data decrypt error"==G_zipResponseValue&&(c=G_zipResponseValue.split("|"),u(c[0],c[1]))):(c=KUPLOADTOP.RAONKUPLOAD.util.makeDecryptReponseMessage(c),"C012|response data decrypt error"==c?(c=c.split("|"),
u(c[0],c[1])):(-1<c.indexOf(KUPLOADTOP.RAONKSolution.Agent.vertical)&&(c=c.split(KUPLOADTOP.RAONKSolution.Agent.vertical)[0]),processDownload({downloadHandler:b,downPath:c,downloadLIST:e,pDownloadListObj:a,isMulti:f},n)))):0==c.indexOf("[FAIL]")&&(c=c.replace("[FAIL]",""),c=KUPLOADTOP.RAONKUPLOAD.util.makeDecryptReponseMessage(c),c=KUPLOADTOP.RAONKUPLOAD.util.getCodeAndMessage(c),u(c.code,c.message))};q?"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring&&"0"!=KUPLOADTOP.G_CURRKUPLOADER._config.useDownloadCache&&
"1"==KUPLOADTOP.G_CURRKUPLOADER._config.downloadMulti?y.open("GET",b+(-1<b.indexOf("?")?"&":"?")+t,!0):y.open("POST",b,!0):"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring&&"0"!=KUPLOADTOP.G_CURRKUPLOADER._config.useDownloadCache&&"1"==KUPLOADTOP.G_CURRKUPLOADER._config.downloadMulti?y.open("GET",b+(-1<b.indexOf("?")?"&":"?")+t,!1):y.open("POST",b,!1);try{KUPLOADTOP.RAONKUPLOAD.util.setXhrHttpHeader(y,KUPLOADTOP.G_CURRKUPLOADER.tempHttpHeaderObj,!0)}catch(C){}try{y.send(t)}catch(r){try{var x=
getDownloadedFileListObj(),A={strType:"download",strCode:"C007",strMessage:RAONKUpload_Lang.error_info.error_code_C007+"\n"+r.message,arrDownloadedFileList:x};"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring&&G_KUPlugin.kmonitoring.endDownloadRequest(A.strCode+"|"+A.strMessage,"3");x=setDownloadExtraData(x);if("function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.onError)KUPLOADTOP.G_CURRKUPLOADER._config.event.onError(KUPLOADTOP.G_CURRKUPLOADER.ID,A);else"function"!==typeof KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError&&
alert("Error Code : "+A.strCode+"\nError Message : "+A.strMessage),KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError(KUPLOADTOP.G_CURRKUPLOADER.ID,A)}catch(G){}try{displayDownloadReady(!1),null!=G_zipInterval&&clearInterval(G_zipInterval),fileListReset()}catch(E){}try{G_downloadPossibilityCnt=-1,G_PreUploadedSizeForOnprogress=0,KUPLOADTOP.G_CURRKUPLOADER.init(KUPLOADTOP.G_CURRKUPLOADER.ID),closeSendDialog(),G_downloadIdxArr=[]}catch(D){}}}q&&(c=getLoadingImageInterval(a[0].fileSize),displayDownloadReady(!0),
G_zipInterval=setInterval(function(){if(""!=G_zipResponseValue){var c={downloadHandler:b,downPath:G_zipResponseValue,downloadLIST:e,pDownloadListObj:a,isMulti:f};G_zipResponseValue="";null!=G_zipInterval&&clearInterval(G_zipInterval);displayDownloadReady(!1);processDownload(c,n)}},c))}
function processDownload(b,e){var c=b.downloadLIST,a=c.length,f=b.downPath.split(KUPLOADTOP.RAONKSolution.Agent.formfeed),g;g=""+("kc"+KUPLOADTOP.RAONKSolution.Agent.formfeed+"c11"+KUPLOADTOP.RAONKSolution.Agent.vertical);g+="k01"+KUPLOADTOP.RAONKSolution.Agent.formfeed+KUPLOADTOP.G_CURRKUPLOADER._config.security.encryptParam+KUPLOADTOP.RAONKSolution.Agent.vertical;"0"==KUPLOADTOP.G_CURRKUPLOADER._config.silentDownloadEx&&(g+="k12"+KUPLOADTOP.RAONKSolution.Agent.formfeed+e+KUPLOADTOP.RAONKSolution.Agent.vertical);
g="1"==KUPLOADTOP.G_CURRKUPLOADER._config.resumeDownload&&1<a?g+("k05"+KUPLOADTOP.RAONKSolution.Agent.formfeed+"2"):g+("k05"+KUPLOADTOP.RAONKSolution.Agent.formfeed+KUPLOADTOP.G_CURRKUPLOADER._config.resumeDownload);1<a&&(g+=KUPLOADTOP.RAONKSolution.Agent.vertical,g+="k32"+KUPLOADTOP.RAONKSolution.Agent.formfeed+KUPLOADTOP.G_CURRKUPLOADER._config.zipFileName);if("0"==KUPLOADTOP.G_CURRKUPLOADER._config.resumeDownload||1==a)for(var k=0;k<a;k++)g+=KUPLOADTOP.RAONKSolution.Agent.vertical,g+="k26"+KUPLOADTOP.RAONKSolution.Agent.formfeed+
f[k]+KUPLOADTOP.RAONKSolution.Agent.vertical,g+="k31"+KUPLOADTOP.RAONKSolution.Agent.formfeed+c[k].originName,"1"<=KUPLOADTOP.G_CURRKUPLOADER._config.security.encryptParam&&(g+=KUPLOADTOP.RAONKSolution.Agent.vertical,g+="k21"+KUPLOADTOP.RAONKSolution.Agent.formfeed+c[k].customValue);"1"==KUPLOADTOP.G_CURRKUPLOADER._config.silentDownloadEx&&(g+=KUPLOADTOP.RAONKSolution.Agent.vertical,g+="k39"+KUPLOADTOP.RAONKSolution.Agent.formfeed+"0");if(KUPLOADTOP.G_CURRKUPLOADER._config.directDownload){g+=KUPLOADTOP.RAONKSolution.Agent.vertical;
g+="k43"+KUPLOADTOP.RAONKSolution.Agent.formfeed+"1";var k=KUPLOADTOP.G_CURRKUPLOADER.tempHttpHeaderObj,l;for(l in k)g+=KUPLOADTOP.RAONKSolution.Agent.vertical,g+="k44"+KUPLOADTOP.RAONKSolution.Agent.formfeed+l+KUPLOADTOP.RAONKSolution.Agent.backspace+k[l]}KUPLOADTOP.G_CURRKUPLOADER._config.cloudInfo.Use&&"2"==KUPLOADTOP.G_CURRKUPLOADER._config.cloudInfo.Use&&(g+=KUPLOADTOP.RAONKSolution.Agent.vertical+"k46"+KUPLOADTOP.RAONKSolution.Agent.formfeed+KUPLOADTOP.G_CURRKUPLOADER._config.cloudInfo.Use);
"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring&&(g+=KUPLOADTOP.RAONKSolution.Agent.vertical+"km00"+KUPLOADTOP.RAONKSolution.Agent.formfeed+G_KUPlugin.kmonitoring.transferId);g+=KUPLOADTOP.RAONKSolution.Agent.vertical+"k16"+KUPLOADTOP.RAONKSolution.Agent.formfeed+KUPLOADTOP.G_CURRKUPLOADER._config.downloadFileNameRuleEx;k=KUPLOADTOP.RAONKUPLOAD.util.makeEncryptParamFinal(g);if(KUPLOADTOP.RAONKUPLOAD.browser.iOS||"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useExcuteDownloadInMobile){var n=0>b.downloadHandler.indexOf("?")?
b.downloadHandler+"?":b.downloadHandler+"&",n=n+(k.name+"="+k.value);if("0"==KUPLOADTOP.G_CURRKUPLOADER._config.security.encryptParam&&("0"==KUPLOADTOP.G_CURRKUPLOADER._config.resumeDownload||1==a))for(k=0;k<a;k++)n+="&k21="+encodeURIComponent(c[k].customValue);c=!0;try{a={strPath:n},c="function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.excuteDownloadFile?KUPLOADTOP.G_CURRKUPLOADER._config.event.excuteDownloadFile(KUPLOADTOP.G_CURRKUPLOADER.ID,a):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_ExcuteDownloadFile(KUPLOADTOP.G_CURRKUPLOADER.ID,
a)}catch(q){}!1!==c&&setTimeout(function(){window.open(n)},500)}else{g=document.createElement("form");g.target="download_frame";l=KUPLOADTOP.RAONKUPLOAD.util.getParamInfoFromUrl(b.downloadHandler);g.action=b.downloadHandler.split("?")[0];g.method="1"==KUPLOADTOP.G_CURRKUPLOADER._config.resumeDownload?"get":"post";if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring&&"0"!=KUPLOADTOP.G_CURRKUPLOADER._config.useDownloadCache&&"1"==KUPLOADTOP.G_CURRKUPLOADER._config.downloadMulti){g.method="get";
var p="";"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useDownloadCache&&c[0].customValue&&(p=c[0].customValue);c[0].cacheKey&&(p=c[0].cacheKey);f=document.createElement("input");f.type="hidden";f.name="cache_key";f.value=p;g.appendChild(f)}f=document.createElement("input");f.type="hidden";f.name=k.name;f.value=k.value;g.appendChild(f);if("0"==KUPLOADTOP.G_CURRKUPLOADER._config.security.encryptParam&&("0"==KUPLOADTOP.G_CURRKUPLOADER._config.resumeDownload||1==a))for(k=0;k<a;k++)f=document.createElement("input"),
f.type="hidden",f.name="k21",f.value=encodeURIComponent(c[k].customValue),g.appendChild(f);for(k=0;k<l.length;k++)a=document.createElement("input"),a.type="hidden",a.name=l[k].name,a.value=l[k].value,g.appendChild(a);if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.downloadHybridApp){c=document.createElement("a");a=g.querySelectorAll("input");k="";for(g=0;g<a.length;g++)k+="&"+a[g].name+"="+a[g].value;a=0>b.downloadHandler.indexOf("?")?b.downloadHandler+"?"+k.replace("&",""):b.downloadHandler+k;c.href=
a;c.download="";document.body.appendChild(c);c.click();document.body.removeChild(c)}else KUPLOADTOP.RAONKUPLOAD.util.setCSRFHiddenInput(g,KUPLOADTOP.G_CURRKUPLOADER._config.addCSRFToken,document),document.body.appendChild(g),g.submit(),document.body.removeChild(g),1==b.downloadLIST.length?(a=[],k={},null==b.isMulti||void 0==b.isMulti?(k.originName=RESULTFILELIST[G_downloadIdxArr[0]].originName,k.fileSize=RESULTFILELIST[G_downloadIdxArr[0]].fileSize,k.fileExt=RESULTFILELIST[G_downloadIdxArr[0]].fileExt):
1==b.isMulti&&(k.originName=RESULTFILELIST[G_downloadIdxArr[G_DownloadCnt]].originName,k.fileSize=RESULTFILELIST[G_downloadIdxArr[G_DownloadCnt]].fileSize,k.fileExt=RESULTFILELIST[G_downloadIdxArr[G_DownloadCnt]].fileExt,k.webPath=RESULTFILELIST[G_downloadIdxArr[G_DownloadCnt]].webPath,k.customValue=RESULTFILELIST[G_downloadIdxArr[G_DownloadCnt]].customValue,k.fileIdx=RESULTFILELIST[G_downloadIdxArr[G_DownloadCnt]].fileIdx,k.order=G_downloadIdxArr[G_DownloadCnt]),a.push(k),downloadProgressFileExec(a,
e,b.downloadHandler,b.isMulti,b.downPath,c)):downloadProgressFileExec(b.pDownloadListObj,e,b.downloadHandler,b.isMulti,b.downPath,c)}}
function endDownloadRequest(b,e){var c=b.downloadLIST,a=c.length,f=b.downPath.split(KUPLOADTOP.RAONKSolution.Agent.formfeed),g;g=""+("kc"+KUPLOADTOP.RAONKSolution.Agent.formfeed+"c12"+KUPLOADTOP.RAONKSolution.Agent.vertical);g+="k01"+KUPLOADTOP.RAONKSolution.Agent.formfeed+KUPLOADTOP.G_CURRKUPLOADER._config.security.encryptParam;1<a&&(g+=KUPLOADTOP.RAONKSolution.Agent.vertical,g+="k12"+KUPLOADTOP.RAONKSolution.Agent.formfeed+e+KUPLOADTOP.RAONKSolution.Agent.vertical,g+="k05"+KUPLOADTOP.RAONKSolution.Agent.formfeed+
KUPLOADTOP.G_CURRKUPLOADER._config.resumeDownload);for(var k=0;k<a;k++)g+=KUPLOADTOP.RAONKSolution.Agent.vertical,g+="k26"+KUPLOADTOP.RAONKSolution.Agent.formfeed+f[k]+KUPLOADTOP.RAONKSolution.Agent.vertical,g+="k31"+KUPLOADTOP.RAONKSolution.Agent.formfeed+c[k].originName,"1"<=KUPLOADTOP.G_CURRKUPLOADER._config.security.encryptParam&&(g+=KUPLOADTOP.RAONKSolution.Agent.vertical,g+="k21"+KUPLOADTOP.RAONKSolution.Agent.formfeed+c[k].customValue);KUPLOADTOP.G_CURRKUPLOADER._config.isCrossDomain&&(g+=
KUPLOADTOP.RAONKSolution.Agent.vertical,g+="k22"+KUPLOADTOP.RAONKSolution.Agent.formfeed+"1");KUPLOADTOP.G_CURRKUPLOADER._config.cloudInfo.Use&&"2"==KUPLOADTOP.G_CURRKUPLOADER._config.cloudInfo.Use&&(g+=KUPLOADTOP.RAONKSolution.Agent.vertical+"k46"+KUPLOADTOP.RAONKSolution.Agent.formfeed+KUPLOADTOP.G_CURRKUPLOADER._config.cloudInfo.Use);var k=KUPLOADTOP.RAONKUPLOAD.util.makeEncryptParamFinal(g),l=function(a,c){var e=getDownloadedFileListObj(),f={strType:"download",strCode:a,strMessage:c,arrDownloadedFileList:e};
"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring&&G_KUPlugin.kmonitoring.endDownloadRequest(f.strCode+"|"+f.strMessage,"3");setDownloadExtraData(e);try{if("function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.onError)KUPLOADTOP.G_CURRKUPLOADER._config.event.onError(KUPLOADTOP.G_CURRKUPLOADER.ID,f);else"function"!==typeof KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError&&alert("Error Code : "+f.strCode+"\nError Message : "+f.strMessage),KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError(KUPLOADTOP.G_CURRKUPLOADER.ID,
f)}catch(g){}try{displayDownloadReady(!1),null!=G_zipInterval&&clearInterval(G_zipInterval),fileListReset(),G_downloadPossibilityCnt++,upload_complete_count++,1==b.isMulti&&(G_DownloadCnt+1>=G_downloadIdxArr.length?(G_downloadPossibilityCnt=-1,G_PreUploadedSizeForOnprogress=0,KUPLOADTOP.G_CURRKUPLOADER.init(KUPLOADTOP.G_CURRKUPLOADER.ID),closeSendDialog(),G_downloadIdxArr=[]):downloadMultiProgress(parseInt(RESULTFILELIST[G_downloadIdxArr[G_DownloadCnt]].fileSize,10),"F"))}catch(k){}};if(KUPLOADTOP.G_CURRKUPLOADER._config.isCrossDomain){if(KUPLOADTOP.RAONKUPLOAD.browser.postMessageSupported){var n=
document.createElement("div"),q=KUPLOADTOP.RAONKUPLOAD.util.getDefaultIframeSrc();n.innerHTML='<iframe name="endDownloadframe" id="endDownloadframe" style="display:none;" src="'+q+'"></iframe>';n.style.display="none";document.body.appendChild(n);q=[[k.name,k.value]];if("0"==KUPLOADTOP.G_CURRKUPLOADER._config.security.encryptParam)for(k=0;k<a;k++)q.push(["k21",encodeURIComponent(c[k].customValue)]);KUPLOADTOP.RAONKUPLOAD.util.postFormData(document,b.downloadHandler,"endDownloadframe",q,KUPLOADTOP.G_CURRKUPLOADER._config.addCSRFToken);
KUPLOADTOP.RAONKUPLOAD.util.addEvent(n.firstChild,"load",function(){n.firstChild.contentWindow.postMessage("check","*")},!0);if(window.postMessage){var p=function(a){a=KUPLOADTOP.RAONKUPLOAD.util.trim(a.data);a=KUPLOADTOP.RAONKUPLOAD.util.parseDataFromServer(a);0==a.indexOf("[FAIL]")&&(a=a.replace("[FAIL]",""),a=KUPLOADTOP.RAONKUPLOAD.util.makeDecryptReponseMessage(a),a=KUPLOADTOP.RAONKUPLOAD.util.getCodeAndMessage(a),l(a.code,a.message));document.body.removeChild(n);KUPLOADTOP.RAONKUPLOAD.util.removeEvent(window,
"message",p)};KUPLOADTOP.RAONKUPLOAD.util.addEvent(window,"message",p)}}}else{f=k.name+"="+k.value;if("0"==KUPLOADTOP.G_CURRKUPLOADER._config.security.encryptParam)for(k=0;k<a;k++)f+="&k21="+encodeURIComponent(c[k].customValue);var t=KUPLOADTOP.RAONKUPLOAD.ajax.createXMLHttpRequest();t.onload=function(){var a=KUPLOADTOP.RAONKUPLOAD.util.parseDataFromServer(t.responseText);0==a.indexOf("[OK]")&&"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring&&upload_complete_count==TOTALUPLOADNUM&&G_KUPlugin.kmonitoring.endDownloadRequest("",
"1");0==a.indexOf("[FAIL]")&&(a=a.replace("[FAIL]",""),a=KUPLOADTOP.RAONKUPLOAD.util.makeDecryptReponseMessage(a),a=KUPLOADTOP.RAONKUPLOAD.util.getCodeAndMessage(a),l(a.code,a.message))};if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring&&"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useDownloadCache){g=!1;if("0"==KUPLOADTOP.G_CURRKUPLOADER._config.downloadMulti)for(k=0;k<a;k++)if(!c[k].customValue&&!c[k].cacheKey||""!=c[k].customValue&&!c[k].cacheKey)g=!0;else{g=!1;break}else if(!c[0].customValue&&
!c[0].cacheKey||""!=c[0].customValue&&!c[0].cacheKey)g=!0;g?t.open("POST",b.downloadHandler+(-1<b.downloadHandler.indexOf("?")?"&":"?")+"method=file_end",!0):t.open("POST",b.downloadHandler,!0)}else t.open("POST",b.downloadHandler,!0);KUPLOADTOP.RAONKUPLOAD.util.setXhrHttpHeader(t,KUPLOADTOP.G_CURRKUPLOADER.tempHttpHeaderObj,!0);try{t.send(f)}catch(u){try{var q=getDownloadedFileListObj(),v={strType:"download",strCode:"C008",strMessage:RAONKUpload_Lang.error_info.error_code_C008+"\n"+u.message,arrDownloadedFileList:q};
"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring&&G_KUPlugin.kmonitoring.endDownloadRequest(v.strCode+"|"+v.strMessage,"3");q=setDownloadExtraData(q);if("function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.onError)KUPLOADTOP.G_CURRKUPLOADER._config.event.onError(KUPLOADTOP.G_CURRKUPLOADER.ID,v);else"function"!==typeof KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError&&alert("Error Code : "+v.strCode+"\nError Message : "+v.strMessage),KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError(KUPLOADTOP.G_CURRKUPLOADER.ID,
v)}catch(x){}try{displayDownloadReady(!1),null!=G_zipInterval&&clearInterval(G_zipInterval),fileListReset()}catch(w){}try{G_downloadPossibilityCnt=-1,G_PreUploadedSizeForOnprogress=0,KUPLOADTOP.G_CURRKUPLOADER.init(KUPLOADTOP.G_CURRKUPLOADER.ID),closeSendDialog(),G_downloadIdxArr=[]}catch(y){}}}}
function downloadProgressFileExec(b,e,c,a,f,g){if("0"!=KUPLOADTOP.G_CURRKUPLOADER._config.useAfterDownloadEvent||"0"!=KUPLOADTOP.G_CURRKUPLOADER._config.useFinishDownloadedEvent||"0"!=KUPLOADTOP.G_CURRKUPLOADER._config.downloadMulti||"1"!=KUPLOADTOP.G_CURRKUPLOADER._config.silentDownload){var k=[];if(null==a||void 0==a)upload_complete_count=0,showDownloadingFileList(b);else if(1==a&&0==G_DownloadCnt){upload_complete_count=0;for(var l=[],n=G_downloadIdxArr.length,q=0;q<n;q++)l.push({originName:RESULTFILELIST[G_downloadIdxArr[q]].originName,
fileSize:RESULTFILELIST[G_downloadIdxArr[q]].fileSize,fileExt:RESULTFILELIST[G_downloadIdxArr[q]].fileExt});showDownloadingFileList(l)}G_PreUploadedSizeForOnprogress=PREVIOUSUPLOADEDSIZE;if(null==a||void 0==a||1==a&&0==G_DownloadCnt)G_UploadStartTime=(new Date).getTime()/1E3;"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring&&G_KUPlugin.kmonitoring.setTransferTime("start");getDialogDocument().getElementById("RAON_K_UP_current_upload_file_name").innerHTML=" "+b[0].originName;var p=KUPLOADTOP.RAONKUPLOAD.util.getInterValue(b[0].fileSize),
t=function(){try{var l="",l=l+("kc"+KUPLOADTOP.RAONKSolution.Agent.formfeed+"c15"+KUPLOADTOP.RAONKSolution.Agent.vertical),l=l+("k01"+KUPLOADTOP.RAONKSolution.Agent.formfeed+KUPLOADTOP.G_CURRKUPLOADER._config.security.encryptParam+KUPLOADTOP.RAONKSolution.Agent.vertical),l=l+("k12"+KUPLOADTOP.RAONKSolution.Agent.formfeed+e);KUPLOADTOP.G_CURRKUPLOADER._config.isCrossDomain&&(l+=KUPLOADTOP.RAONKSolution.Agent.vertical,l+="k22"+KUPLOADTOP.RAONKSolution.Agent.formfeed+"1");var n=KUPLOADTOP.RAONKUPLOAD.util.makeEncryptParamFinal(l);
if(KUPLOADTOP.G_CURRKUPLOADER._config.isCrossDomain){if(KUPLOADTOP.RAONKUPLOAD.browser.postMessageSupported){var p=document.createElement("div"),q=KUPLOADTOP.RAONKUPLOAD.util.getDefaultIframeSrc();p.innerHTML='<iframe name="downloadCheckframe" id="downloadCheckframe" style="display:none;" src="'+q+'"></iframe>';p.style.display="none";document.body.appendChild(p);KUPLOADTOP.RAONKUPLOAD.util.postFormData(document,KUPLOADTOP.G_CURRKUPLOADER._config.processHandlerUrl,"downloadCheckframe",[[n.name,n.value]],
KUPLOADTOP.G_CURRKUPLOADER._config.addCSRFToken);KUPLOADTOP.RAONKUPLOAD.util.addEvent(p.firstChild,"load",function(){try{p.firstChild.contentWindow.postMessage("check","*")}catch(a){}},!0);if(window.postMessage){var u=function(l){l=KUPLOADTOP.RAONKUPLOAD.util.trim(l.data);l=KUPLOADTOP.RAONKUPLOAD.util.parseDataFromServer(l);if("[OK]"==l.substring(0,4)){decodeValue=KUPLOADTOP.RAONKUPLOAD.util.makeDecryptReponseMessage(l.substring(4));if("C012|response data decrypt error"==decodeValue){clearInterval(G_downloadRequestInterval);
G_downloadRequestInterval=null;try{G_PreUploadedSizeForOnprogress=0;var n=KUPLOADTOP.G_CURRKUPLOADER.ID;KUPLOADTOP.G_CURRKUPLOADER.init(n);closeSendDialog();G_downloadIdxArr=[]}catch(q){}}n=b[0].fileSize;if("C"==decodeValue.substring(0,1)){0<getSessionKeepData(KUPLOADTOP.G_CURRKUPLOADER).length&&(KUPLOADTOP.G_CURRKUPLOADER._config.sessionKeep.requestFlag=!1);clearInterval(G_downloadRequestInterval);G_downloadRequestInterval=null;1==a&&(G_downloadPossibilityCnt++,upload_complete_count++,1==a&&G_DownloadCnt+
1>=G_downloadIdxArr.length?G_downloadPossibilityCnt=-1:(l=decodeValue.split("|"),downloadMultiProgress(parseInt(l[1],10),"C")));if(null==a||void 0==a||1==a&&G_DownloadCnt+1>=G_downloadIdxArr.length)G_PreUploadedSizeForOnprogress=0,n=KUPLOADTOP.G_CURRKUPLOADER.ID,KUPLOADTOP.G_CURRKUPLOADER.init(n),closeSendDialog(),"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"html4"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode&&(n=getDialogDocument(),n.getElementById("RAON_K_UP_upload_speed_tr").style.display=
"none"),G_downloadIdxArr=[],G_downloadStatusMaxNullCnt=5;clearInterval(KUPLOADTOP.G_CURRKUPLOADER.processTimeInterval);KUPLOADTOP.G_CURRKUPLOADER.processTimeInterval=null;KUPLOADTOP.G_CURRKUPLOADER.processTime=0}else if("F"==decodeValue.substring(0,1)){0<getSessionKeepData(KUPLOADTOP.G_CURRKUPLOADER).length&&(KUPLOADTOP.G_CURRKUPLOADER._config.sessionKeep.requestFlag=!1);clearInterval(G_downloadRequestInterval);G_downloadRequestInterval=null;G_PreUploadedSizeForOnprogress=0;n=KUPLOADTOP.G_CURRKUPLOADER.ID;
KUPLOADTOP.G_CURRKUPLOADER.init(n);closeSendDialog();"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"html4"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode&&(n=getDialogDocument(),n.getElementById("RAON_K_UP_upload_speed_tr").style.display="none");G_downloadIdxArr=[];G_downloadStatusMaxNullCnt=5;l=decodeValue.split("|");n=getDownloadedFileListObj();l={strType:"download",strCode:l[2],strMessage:l[3],arrDownloadedFileList:n};"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring&&G_KUPlugin.kmonitoring.endDownloadRequest(l.strCode+
"|"+l.strMessage,"3");n=setDownloadExtraData(n);try{if("function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.onError)KUPLOADTOP.G_CURRKUPLOADER._config.event.onError(KUPLOADTOP.G_CURRKUPLOADER.ID,l);else"function"!==typeof KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError&&alert("Error Code : "+l.strCode+"\nError Message : "+l.strMessage),KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError(KUPLOADTOP.G_CURRKUPLOADER.ID,l)}catch(r){}try{fileListReset()}catch(v){}}else if("E"==decodeValue.substring(0,1))0<getSessionKeepData(KUPLOADTOP.G_CURRKUPLOADER).length&&
(KUPLOADTOP.G_CURRKUPLOADER._config.sessionKeep.requestFlag=!1),l=decodeValue.split("|"),l[1]!=n&&(TOTALUPLOADSIZE-=parseInt(n,10),b[0].fileSize=l[1],TOTALUPLOADSIZE+=parseInt(l[1],10)),downloadProgress(parseInt(l[1],10),parseInt(l[1],10)),clearInterval(G_downloadRequestInterval),G_downloadRequestInterval=null,"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring&&G_KUPlugin.kmonitoring.setTransferTime("end"),setTimeout(function(){var l=G_downloadIdxArr.length;if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useAfterDownloadEvent)if(null==
a||void 0==a)for(var n=0;n<l;n++)try{var p={strPath:RESULTFILELIST[G_downloadIdxArr[n]].webPath,strDownloadedPath:"",strType:"download",uniqKey:RESULTFILELIST[G_downloadIdxArr[n]].fileIdx,originalName:RESULTFILELIST[G_downloadIdxArr[n]].originName,webPath:RESULTFILELIST[G_downloadIdxArr[n]].webPath,size:RESULTFILELIST[G_downloadIdxArr[n]].fileSize,logicalPath:"",customValue:RESULTFILELIST[G_downloadIdxArr[n]].customValue,downloadedPath:"",type:"download",strCmd:KUPLOADTOP.G_CURRKUPLOADER.lastCmd};
k.push(p);"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.downloadCompleteFile?KUPLOADTOP.G_CURRKUPLOADER._config.event.downloadCompleteFile(KUPLOADTOP.G_CURRKUPLOADER.ID,p):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_DownloadCompleteFile(KUPLOADTOP.G_CURRKUPLOADER.ID,p)}catch(q){}else if(1==a)try{RESULTFILELIST[b[0].order].status="complete",p={strPath:b[0].webPath,strDownloadedPath:"",strType:"download",uniqKey:b[0].fileIdx,originalName:b[0].originName,webPath:b[0].webPath,size:b[0].fileSize,logicalPath:"",
customValue:b[0].customValue,downloadedPath:"",type:"download",strCmd:KUPLOADTOP.G_CURRKUPLOADER.lastCmd},k.push(p),"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.downloadCompleteFile?KUPLOADTOP.G_CURRKUPLOADER._config.event.downloadCompleteFile(KUPLOADTOP.G_CURRKUPLOADER.ID,p):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_DownloadCompleteFile(KUPLOADTOP.G_CURRKUPLOADER.ID,p)}catch(r){}endDownloadRequest({downloadHandler:c,downloadLIST:g,downPath:f,customValue:b[0].customValue,isMulti:a},e);if(null==
a||void 0==a)G_PreUploadedSizeForOnprogress=0,KUPLOADTOP.G_CURRKUPLOADER.init(KUPLOADTOP.G_CURRKUPLOADER.ID),closeSendDialog(),"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"html4"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode&&(getDialogDocument().getElementById("RAON_K_UP_upload_speed_tr").style.display="none"),G_downloadIdxArr=[],G_downloadStatusMaxNullCnt=5;if(null==a||void 0==a){if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useFinishDownloadedEvent)try{p={nCount:l,strCmd:KUPLOADTOP.G_CURRKUPLOADER.lastCmd,
arrFileList:k},"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.downloadCompleteAllFile?KUPLOADTOP.G_CURRKUPLOADER._config.event.downloadCompleteAllFile(KUPLOADTOP.G_CURRKUPLOADER.ID,p):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_DownloadCompleteAllFile(KUPLOADTOP.G_CURRKUPLOADER.ID,p)}catch(t){}try{fileListReset()}catch(u){}}else 1==a&&(G_downloadPossibilityCnt++,upload_complete_count++)},500);else if(""!=decodeValue){l=decodeValue.split("|");var x=!1,y=l[0];"N/A"==y&&(y=n);x=!1;y!=n&&(x=!0,TOTALUPLOADSIZE-=
parseInt(n,10),b[0].fileSize=y,TOTALUPLOADSIZE+=parseInt(y,10));downloadProgress(parseInt(l[1],10),parseInt(l[0],10));x&&(clearInterval(G_downloadRequestInterval),G_downloadRequestInterval=null,n=KUPLOADTOP.RAONKUPLOAD.util.getInterValue(y),G_downloadRequestInterval=setInterval(t,n))}else G_downloadStatusMaxNullCnt--,0==G_downloadStatusMaxNullCnt&&(0<getSessionKeepData(KUPLOADTOP.G_CURRKUPLOADER).length&&(KUPLOADTOP.G_CURRKUPLOADER._config.sessionKeep.requestFlag=!1),clearInterval(G_downloadRequestInterval),
G_downloadRequestInterval=null,G_PreUploadedSizeForOnprogress=0,n=KUPLOADTOP.G_CURRKUPLOADER.ID,KUPLOADTOP.G_CURRKUPLOADER.init(n),closeSendDialog(),"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"html4"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode&&(n=getDialogDocument(),n.getElementById("RAON_K_UP_upload_speed_tr").style.display="none"),G_downloadIdxArr=[],G_downloadStatusMaxNullCnt=5)}else 0==l.indexOf("[FAIL]")&&(G_downloadStatusMaxNullCnt--,0==G_downloadStatusMaxNullCnt&&(0<getSessionKeepData(KUPLOADTOP.G_CURRKUPLOADER).length&&
(KUPLOADTOP.G_CURRKUPLOADER._config.sessionKeep.requestFlag=!1),clearInterval(G_downloadRequestInterval),G_downloadRequestInterval=null,G_PreUploadedSizeForOnprogress=0,n=KUPLOADTOP.G_CURRKUPLOADER.ID,KUPLOADTOP.G_CURRKUPLOADER.init(n),closeSendDialog(),"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"html4"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode&&(n=getDialogDocument(),n.getElementById("RAON_K_UP_upload_speed_tr").style.display="none"),G_downloadIdxArr=[],G_downloadStatusMaxNullCnt=
5));document.body.removeChild(p);KUPLOADTOP.RAONKUPLOAD.util.removeEvent(window,"message",u)};KUPLOADTOP.RAONKUPLOAD.util.addEvent(window,"message",u)}}}else{var r=n.name+"="+n.value,A=KUPLOADTOP.RAONKUPLOAD.ajax.createXMLHttpRequest();A.open("POST",KUPLOADTOP.G_CURRKUPLOADER._config.processHandlerUrl,!1);KUPLOADTOP.RAONKUPLOAD.util.setXhrHttpHeader(A,KUPLOADTOP.G_CURRKUPLOADER.tempHttpHeaderObj,!0);A.onreadystatechange=function(){if(4==A.readyState)if(200==A.status){var l=KUPLOADTOP.RAONKUPLOAD.util.parseDataFromServer(A.responseText);
if("[OK]"==l.substring(0,4))if(decodeValue=KUPLOADTOP.RAONKUPLOAD.util.makeDecryptReponseMessage(l.substring(4)),"C012|response data decrypt error"==decodeValue){clearInterval(G_downloadRequestInterval);G_downloadRequestInterval=null;try{G_PreUploadedSizeForOnprogress=0;var n=KUPLOADTOP.G_CURRKUPLOADER.ID;KUPLOADTOP.G_CURRKUPLOADER.init(n);closeSendDialog();G_downloadIdxArr=[]}catch(p){}}else if(l=b[0].fileSize,"C"==decodeValue.substring(0,1)){0<getSessionKeepData(KUPLOADTOP.G_CURRKUPLOADER).length&&
(KUPLOADTOP.G_CURRKUPLOADER._config.sessionKeep.requestFlag=!1);clearInterval(G_downloadRequestInterval);G_downloadRequestInterval=null;1==a&&(G_downloadPossibilityCnt++,upload_complete_count++,1==a&&G_DownloadCnt+1>=G_downloadIdxArr.length?G_downloadPossibilityCnt=-1:(n=decodeValue.split("|"),downloadMultiProgress(parseInt(n[1],10),"C")));if(null==a||void 0==a||1==a&&G_DownloadCnt+1>=G_downloadIdxArr.length)G_PreUploadedSizeForOnprogress=0,n=KUPLOADTOP.G_CURRKUPLOADER.ID,KUPLOADTOP.G_CURRKUPLOADER.init(n),
closeSendDialog(),"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"html4"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode&&(l=getDialogDocument(),l.getElementById("RAON_K_UP_upload_speed_tr").style.display="none"),G_downloadIdxArr=[],G_downloadStatusMaxNullCnt=5;clearInterval(KUPLOADTOP.G_CURRKUPLOADER.processTimeInterval);KUPLOADTOP.G_CURRKUPLOADER.processTimeInterval=null;KUPLOADTOP.G_CURRKUPLOADER.processTime=0}else if("F"==decodeValue.substring(0,1)){0<getSessionKeepData(KUPLOADTOP.G_CURRKUPLOADER).length&&
(KUPLOADTOP.G_CURRKUPLOADER._config.sessionKeep.requestFlag=!1);clearInterval(G_downloadRequestInterval);G_downloadRequestInterval=null;G_PreUploadedSizeForOnprogress=0;n=KUPLOADTOP.G_CURRKUPLOADER.ID;KUPLOADTOP.G_CURRKUPLOADER.init(n);closeSendDialog();"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"html4"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode&&(l=getDialogDocument(),l.getElementById("RAON_K_UP_upload_speed_tr").style.display="none");G_downloadIdxArr=[];G_downloadStatusMaxNullCnt=
5;n=decodeValue.split("|");l=getDownloadedFileListObj();n={strType:"download",strCode:n[2],strMessage:n[3],arrDownloadedFileList:l};"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring&&G_KUPlugin.kmonitoring.endDownloadRequest(n.strCode+"|"+n.strMessage,"3");l=setDownloadExtraData(l);try{if("function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.onError)KUPLOADTOP.G_CURRKUPLOADER._config.event.onError(KUPLOADTOP.G_CURRKUPLOADER.ID,n);else"function"!==typeof KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError&&
alert("Error Code : "+n.strCode+"\nError Message : "+n.strMessage),KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError(KUPLOADTOP.G_CURRKUPLOADER.ID,n)}catch(q){}try{fileListReset()}catch(r){}}else if("E"==decodeValue.substring(0,1))0<getSessionKeepData(KUPLOADTOP.G_CURRKUPLOADER).length&&(KUPLOADTOP.G_CURRKUPLOADER._config.sessionKeep.requestFlag=!1),n=decodeValue.split("|"),n[1]!=l&&(TOTALUPLOADSIZE-=parseInt(l,10),b[0].fileSize=n[1],TOTALUPLOADSIZE+=parseInt(n[1],10)),downloadProgress(parseInt(n[1],10),
parseInt(n[1],10)),clearInterval(G_downloadRequestInterval),G_downloadRequestInterval=null,"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring&&G_KUPlugin.kmonitoring.setTransferTime("end"),setTimeout(function(){var l=G_downloadIdxArr.length;if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useAfterDownloadEvent)if(null==a||void 0==a)for(var n=0;n<l;n++)try{var p={strPath:RESULTFILELIST[G_downloadIdxArr[n]].webPath,strDownloadedPath:"",strType:"download",uniqKey:RESULTFILELIST[G_downloadIdxArr[n]].fileIdx,
originalName:RESULTFILELIST[G_downloadIdxArr[n]].originName,webPath:RESULTFILELIST[G_downloadIdxArr[n]].webPath,size:RESULTFILELIST[G_downloadIdxArr[n]].fileSize,logicalPath:"",customValue:RESULTFILELIST[G_downloadIdxArr[n]].customValue,downloadedPath:"",type:"download",strCmd:KUPLOADTOP.G_CURRKUPLOADER.lastCmd};k.push(p);"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.downloadCompleteFile?KUPLOADTOP.G_CURRKUPLOADER._config.event.downloadCompleteFile(KUPLOADTOP.G_CURRKUPLOADER.ID,p):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_DownloadCompleteFile(KUPLOADTOP.G_CURRKUPLOADER.ID,
p)}catch(q){}else if(1==a)try{RESULTFILELIST[b[0].order].status="complete",p={strPath:b[0].webPath,strDownloadedPath:"",strType:"download",uniqKey:b[0].fileIdx,originalName:b[0].originName,webPath:b[0].webPath,size:b[0].fileSize,logicalPath:"",customValue:b[0].customValue,downloadedPath:"",type:"download",strCmd:KUPLOADTOP.G_CURRKUPLOADER.lastCmd},k.push(p),"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.downloadCompleteFile?KUPLOADTOP.G_CURRKUPLOADER._config.event.downloadCompleteFile(KUPLOADTOP.G_CURRKUPLOADER.ID,
p):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_DownloadCompleteFile(KUPLOADTOP.G_CURRKUPLOADER.ID,p)}catch(r){}endDownloadRequest({downloadHandler:c,downloadLIST:g,downPath:f,customValue:b[0].customValue,isMulti:a},e);if(null==a||void 0==a)G_PreUploadedSizeForOnprogress=0,KUPLOADTOP.G_CURRKUPLOADER.init(KUPLOADTOP.G_CURRKUPLOADER.ID),closeSendDialog(),"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"html4"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode&&(getDialogDocument().getElementById("RAON_K_UP_upload_speed_tr").style.display=
"none"),G_downloadIdxArr=[],G_downloadStatusMaxNullCnt=5;if(null==a||void 0==a){if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useFinishDownloadedEvent)try{p={nCount:l,strCmd:KUPLOADTOP.G_CURRKUPLOADER.lastCmd,arrFileList:k},"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.downloadCompleteAllFile?KUPLOADTOP.G_CURRKUPLOADER._config.event.downloadCompleteAllFile(KUPLOADTOP.G_CURRKUPLOADER.ID,p):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_DownloadCompleteAllFile(KUPLOADTOP.G_CURRKUPLOADER.ID,p)}catch(t){}try{fileListReset()}catch(u){}}else 1==
a&&(G_downloadPossibilityCnt++,upload_complete_count++)},500);else if(""!=decodeValue){var n=decodeValue.split("|"),u=!1,w=n[0];"N/A"==w&&(w=l);u=!1;w!=l&&(u=!0,TOTALUPLOADSIZE-=parseInt(l,10),b[0].fileSize=w,TOTALUPLOADSIZE+=parseInt(w,10));downloadProgress(parseInt(n[1],10),parseInt(n[0],10));u&&(clearInterval(G_downloadRequestInterval),G_downloadRequestInterval=null,l=KUPLOADTOP.RAONKUPLOAD.util.getInterValue(w),G_downloadRequestInterval=setInterval(t,l))}else G_downloadStatusMaxNullCnt--,0==G_downloadStatusMaxNullCnt&&
(0<getSessionKeepData(KUPLOADTOP.G_CURRKUPLOADER).length&&(KUPLOADTOP.G_CURRKUPLOADER._config.sessionKeep.requestFlag=!1),clearInterval(G_downloadRequestInterval),G_downloadRequestInterval=null,G_PreUploadedSizeForOnprogress=0,n=KUPLOADTOP.G_CURRKUPLOADER.ID,KUPLOADTOP.G_CURRKUPLOADER.init(n),closeSendDialog(),"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"html4"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode&&(l=getDialogDocument(),l.getElementById("RAON_K_UP_upload_speed_tr").style.display=
"none"),G_downloadIdxArr=[],G_downloadStatusMaxNullCnt=5);else 0==l.indexOf("[FAIL]")&&(G_downloadStatusMaxNullCnt--,0==G_downloadStatusMaxNullCnt&&(0<getSessionKeepData(KUPLOADTOP.G_CURRKUPLOADER).length&&(KUPLOADTOP.G_CURRKUPLOADER._config.sessionKeep.requestFlag=!1),clearInterval(G_downloadRequestInterval),G_downloadRequestInterval=null,G_PreUploadedSizeForOnprogress=0,n=KUPLOADTOP.G_CURRKUPLOADER.ID,KUPLOADTOP.G_CURRKUPLOADER.init(n),closeSendDialog(),"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&
"html4"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode&&(l=getDialogDocument(),l.getElementById("RAON_K_UP_upload_speed_tr").style.display="none"),G_downloadIdxArr=[],G_downloadStatusMaxNullCnt=5))}else 400<=A.status&&600>A.status&&(clearInterval(G_downloadRequestInterval),G_downloadRequestInterval=null)};A.send(r)}}catch(G){clearInterval(G_downloadRequestInterval);G_downloadRequestInterval=null;try{G_PreUploadedSizeForOnprogress=0,KUPLOADTOP.G_CURRKUPLOADER.init(KUPLOADTOP.G_CURRKUPLOADER.ID),
closeSendDialog(),G_downloadIdxArr=[]}catch(E){}}},u=setInterval(function(){null==G_downloadRequestInterval&&(G_downloadRequestInterval=setInterval(t,p),clearInterval(u))},1)}}function displayDownloadReady(b){displayCommonReady(b);KUPLOADTOP&&KUPLOADTOP.G_CURRKUPLOADER&&(KUPLOADTOP.G_CURRKUPLOADER.isDownloadReady=b?!0:!1)}
function displayCommonReady(b,e){var c=document.getElementById("RAON_K_UP_Load");if(c)if(b){if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager){var a=getDialogDocument(),f=a.getElementById("kupload_loading_background");if(!f){f=a.createElement("div");f.setAttribute("id","kupload_loading_background");var g='<div style="filter:alpha(opacity=0); opacity:0; -moz-opacity:0; -ms-filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=0); -khtml-opacity: 0; background-color:white; z-index:'+KUPLOADTOP.G_CURRKUPLOADER._config.zIndex+
'; position:fixed; _position:absolute; left:0px; top:0px;overflow:hidden;width:100%;height:100%;"></div>',k=KUPLOADTOP.RAONKUPLOAD.util.getDefaultIframeSrc();f.innerHTML=g+('<iframe src="'+k+'" frameborder="0" scrolling="no" style="filter:alpha(opacity=0); opacity:0; -moz-opacity:0; -ms-filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=0); -khtml-opacity: 0; left: 0px; top: 0px; width: 100%; height: 100%; display: block; position: absolute; z-index: 999;" title="Loading Background"></iframe>');
a.body.appendChild(f);a=f.getElementsByTagName("div")[0];a.ondragover=a.ondragenter=a.ondrop=function(a){try{a.stopPropagation(),a.preventDefault()}catch(b){KUPLOADTOP.RAONKUPLOAD.util.cancelEvent(a)}}}}"none"==c.style.display&&(e&&(a=e.frameWin.document.getElementById("RAON_K_UP_Updating"))&&(a.style.display="none"),c.style.display="block",c.firstChild&&(c.firstChild.className="RAON_K_UP_file_load2"),c.getElementsByTagName("img")&&("undefined"==typeof e&&KUPLOADTOP&&KUPLOADTOP.G_CURRKUPLOADER&&(e=
KUPLOADTOP.G_CURRKUPLOADER),"undefined"!=typeof e&&(c.getElementsByTagName("img")[0].src=e._config.webPath.image+"loading.gif","undefined"!=typeof c.getElementsByTagName("img")[0].draggable&&(c.getElementsByTagName("img")[0].draggable=!1))))}else c.style.display="none","1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&(a=getDialogDocument(),(f=a.getElementById("kupload_loading_background"))&&a.body.removeChild(f))}
function displayImageProcessing(b){if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.imageQuality.processingWindow){getDialogWindow();var e=getDialogDocument();if(b){b=e.createElement("div");b.setAttribute("id","image_processing_background");var c='<div style="filter:alpha(opacity=10); opacity:0.1; -moz-opacity:0.1; -ms-filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=10); -khtml-opacity: 0.1; background-color:black; z-index:'+KUPLOADTOP.G_CURRKUPLOADER._config.zIndex+'; position:fixed; _position:absolute; left:0px; top:0px;overflow:hidden;width:100%;height:100%;"></div>',
a=KUPLOADTOP.RAONKUPLOAD.util.getDefaultIframeSrc();b.innerHTML=c+('<iframe src="'+a+'" frameborder="0" scrolling="no" style="filter:alpha(opacity=0); opacity:0; -moz-opacity:0; -ms-filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=0); -khtml-opacity: 0; left: 0px; top: 0px; width: 100%; height: 100%; display: block; position: absolute; z-index: 999;" title="ImageProcessing Background"></iframe>');e.body.appendChild(b);if(c=document.getElementById("RAON_K_UP_Image_processing"))if(b=c.cloneNode(!0),
e.body.appendChild(b),b=e.getElementById("RAON_K_UP_Image_processing"))if(b.style.display="block",b=b.getElementsByTagName("span")[0])c=e.documentElement.scrollTop||e.body.scrollTop,a=e.documentElement.clientHeight||e.body.clientHeight,b.style.left=(e.documentElement.clientWidth||e.body.clientWidth)/2+(e.documentElement.scrollLeft||e.body.scrollLeft)+"px",b.style.top=a/2+c+"px"}else(b=e.getElementById("image_processing_background"))&&e.body.removeChild(b),(c=e.getElementById("RAON_K_UP_Image_processing"))&&
e.body.removeChild(c)}else if(c=document.getElementById("RAON_K_UP_Image_processing"))b?"none"==c.style.display&&(c.style.display="block",c.firstChild&&(c.firstChild.className="RAON_K_UP_file_load2")):c.style.display="none"}T[15]="r";
function getHtmlForBtnNameEdit(b,e){var c="";switch(b){case "add":"0"==e._config.useKManager&&"html4"==e._config.userRunTimeMode?(c='<div id="files_container" class="input_file_box"><div>'+('<form id="form_'+e.TagID+'" method="post" enctype="multipart/form-data" encoding="multipart/form-data">'),c+='<span class="input_image_add" style="'+G_StrCustomHeaderColor+";"+G_StrCustomFooterColor+'">'+RAONKUpload_Lang.btn_add+"</span>",c+='<input id="file_'+e.TagID+'" name="file_'+e.TagID+'" type="file" onchange="fileHandler_html4(this, this.value);" onblur="focusHandler(this);"/>',
c+='<input id="tab_'+e.TagID+'" name="tab_'+e.TagID+'" type="hidden" value="0"/></form>',c+="</div>",c+="</div> ",0==KUPLOADTOP.RAONKUPLOAD.browser.ie&&(c+="&nbsp;")):(c="","2"==e._config.folderTransfer&&(c="display:none; "),c='<button type="button" id="button_add" value="'+RAONKUpload_Lang.btn_add+'" class="input_image" onclick="selectFile(event)" style="'+c+G_StrCustomHeaderColor+"; "+G_StrCustomFooterColor+'">'+RAONKUpload_Lang.btn_add+"</button> ");break;case "add_folder":c="";"0"==e._config.folderTransfer&&
(c="display:none; ");c=0==e._config.lang.indexOf("ja")?'<button type="button" id="button_add_folder" value="'+RAONKUpload_Lang.btn_add_folder+'" class="input_image" onclick="selectFile(event, true);" style="'+c+""+G_StrCustomHeaderColor+"; "+G_StrCustomFooterColor+'"><span style="letter-spacing:-2px;">'+RAONKUpload_Lang.btn_add_folder+"</span></button> ":'<button type="button" id="button_add_folder" value="'+RAONKUpload_Lang.btn_add_folder+'" class="input_image" onclick="selectFile(event, true);" style="'+
c+""+G_StrCustomHeaderColor+"; "+G_StrCustomFooterColor+'">'+RAONKUpload_Lang.btn_add_folder+"</button> ";break;case "send":c='<button type="button" id="button_send" value="'+RAONKUpload_Lang.btn_send+'" class="input_image" onclick="startUpload(event)" style="'+G_StrCustomHeaderColor+"; "+G_StrCustomFooterColor+'">'+RAONKUpload_Lang.btn_send+"</button> ";break;case "remove":"1"!=e._config.massFileMode&&(c='<button type="button" id="button_remove" value="'+RAONKUpload_Lang.btn_remove+'" class="input_image" onclick="deleteSelectedFile(event)" style="'+
G_StrCustomHeaderColor+"; "+G_StrCustomFooterColor+'">'+RAONKUpload_Lang.btn_remove+"</button> ");break;case "remove_all":c='<button type="button" id="button_remove_all" value="'+RAONKUpload_Lang.btn_remove_all+'" class="input_image" onclick="deleteAllFile(event)" style="width:105px;'+G_StrCustomHeaderColor+"; "+G_StrCustomFooterColor+'">'+RAONKUpload_Lang.btn_remove_All+"</button> ";break;case "move_first":c='<button type="button" id="button_top" value="'+RAONKUpload_Lang.btn_move_first+'" class="input_image" onclick="moveFirstFile(event)" style="'+
G_StrCustomHeaderColor+"; "+G_StrCustomFooterColor+'">'+RAONKUpload_Lang.btn_move_first+"</button> ";break;case "move_forward":c='<button type="button" id="button_up" value="'+RAONKUpload_Lang.btn_move_forward+'" class="input_image" onclick="moveForwardFile(event)" style="'+G_StrCustomHeaderColor+"; "+G_StrCustomFooterColor+'">'+RAONKUpload_Lang.btn_move_forward+"</button> ";break;case "move_backward":c='<button type="button" id="button_down" value="'+RAONKUpload_Lang.btn_move_backward+'" class="input_image" onclick="moveBackwardFile(event)" style="'+
G_StrCustomHeaderColor+"; "+G_StrCustomFooterColor+'">'+RAONKUpload_Lang.btn_move_backward+"</button> ";break;case "move_end":c='<button type="button" id="button_bottom" value="'+RAONKUpload_Lang.btn_move_end+'" class="input_image" onclick="moveEndFile(event)" style="'+G_StrCustomHeaderColor+"; "+G_StrCustomFooterColor+'">'+RAONKUpload_Lang.btn_move_end+"</button> ";break;case "zip_inspector":"1"==e._config.useZipInspector&&(c='<button type="button" id="button_bottom" value="'+RAONKUpload_Lang.btn_zip_inspector+
'" class="input_image" onclick="zipInspector(event)" style="'+G_StrCustomHeaderColor+"; "+G_StrCustomFooterColor+'">'+RAONKUpload_Lang.btn_zip_inspector+"</button> ")}var a=!0;"1"==e._config.useKManager&&(a=!1,0>KUPLOADTOP.RAONKUPLOAD.UserAgent.os.name.toLowerCase().indexOf("windows")&&(a=!0));switch(b){case "open":a=!1;KUPLOADTOP.RAONKUPLOAD.browser.mobile?KUPLOADTOP.RAONKUPLOAD.browser.iOS&&(a=!0):a=!0;"download"==e._config.mode&&(a=!1);a&&(c=KUPLOADTOP.RAONKUPLOAD.browser.iOS?'<button type="button" id="button_open" value="'+
RAONKUpload_Lang.btn_open+'" class="input_image" onclick="downloadFile(event, true);" style="'+G_StrCustomHeaderColor+"; "+G_StrCustomFooterColor+'">'+RAONKUpload_Lang.btn_open+"</button> ":'<button type="button" id="button_open" value="'+RAONKUpload_Lang.btn_open+'" class="input_image" onclick="openFile(event, true);" style="'+G_StrCustomHeaderColor+"; "+G_StrCustomFooterColor+'">'+RAONKUpload_Lang.btn_open+"</button> ");break;case "download":0==KUPLOADTOP.RAONKUPLOAD.browser.iOS&&"open"!=e._config.mode&&
(c='<button type="button" id="button_download" value="'+RAONKUpload_Lang.btn_download+'" class="input_image" onclick="downloadFile(event, true);" style="'+G_StrCustomHeaderColor+"; "+G_StrCustomFooterColor+'">'+RAONKUpload_Lang.btn_download+"</button> ");break;case "download_all":KUPLOADTOP.RAONKUPLOAD.browser.iOS||"open"==e._config.mode||"0"!=e._config.downloadHybridApp||(c='<button type="button" id="button_download_all" value="'+RAONKUpload_Lang.btn_download_All+'" class="input_image" style="width:105px;'+
G_StrCustomHeaderColor+"; "+G_StrCustomFooterColor+'" onclick="downloadAllFile(event, true);">'+RAONKUpload_Lang.btn_download_All+"</button> ","ja-jp"==e._config.lang&&(c=c.replace("width:105px;","width:105px; letter-spacing:-1px;")));break;case "saveandfolderopen":"1"==e._config.useKManager&&0==a&&"open"!=e._config.mode&&(c='<button type="button" id="button_saveandfolderopen" value="'+RAONKUpload_Lang.btn_saveandfolderopen+'" class="input_image" style="width:130px;'+G_StrCustomHeaderColor+"; "+G_StrCustomFooterColor+
'" onclick="saveAndFolderOpenEx(event, true);">'+RAONKUpload_Lang.btn_saveandfolderopen+"</button> ");break;case "saveandopen":"1"==e._config.useKManager&&0==a&&"open"!=e._config.mode&&(c='<button type="button" id="button_saveandopen" value="'+RAONKUpload_Lang.btn_saveandopen+'" class="input_image" style="width:110px;'+G_StrCustomHeaderColor+"; "+G_StrCustomFooterColor+'" onclick="saveAndOpenEx(event, true);">'+RAONKUpload_Lang.btn_saveandopen+"</button> ");break;case "print":"1"==e._config.useKManager&&
0==a&&"download"!=e._config.mode&&(c='<button type="button" id="button_print" value="'+RAONKUpload_Lang.btn_print+'" class="input_image" onclick="printFileEx(event, true);" style="'+G_StrCustomHeaderColor+"; "+G_StrCustomFooterColor+'">'+RAONKUpload_Lang.btn_print+"</button> ");break;case "zip_inspector":"1"==e._config.useZipInspector&&(c='<button type="button" id="button_bottom" value="'+RAONKUpload_Lang.btn_zip_inspector+'" class="input_image" onclick="zipInspector(event)" style="'+G_StrCustomHeaderColor+
"; "+G_StrCustomFooterColor+'">'+RAONKUpload_Lang.btn_zip_inspector+"</button> ")}-1<b.indexOf("custom_")&&(c=b.split("|")[0],(a=b.split("|")[1])||(a=c),c='<button type="button" id="button_'+c+'" value="'+a+'" class="input_image" onclick="command_custom_upload(\''+e.ID+"', '"+c.toString()+'\')" style="'+G_StrCustomHeaderColor+"; "+G_StrCustomFooterColor+'">'+a+"</button> ");return c}G_AP2[2]="o";
function getHtmlForBtnNameView(b,e){var c=!0;"1"==e._config.useKManager&&(c=!1,0>KUPLOADTOP.RAONKUPLOAD.UserAgent.os.name.toLowerCase().indexOf("windows")&&(c=!0));var a="";switch(b){case "open":var f=!1;KUPLOADTOP.RAONKUPLOAD.browser.mobile?KUPLOADTOP.RAONKUPLOAD.browser.iOS&&(f=!0):f=!0;"download"==e._config.mode&&(f=!1);1==f&&"1"==e._config.useKManager&&1==c&&(f=!1);"1"==e._config.massFileMode&&(f=!1);f&&(a=KUPLOADTOP.RAONKUPLOAD.browser.iOS?'<button type="button" id="button_open" value="'+RAONKUpload_Lang.btn_open+
'" class="input_image" onclick="downloadFile(event);" style="'+G_StrCustomHeaderColor+"; "+G_StrCustomFooterColor+'">'+RAONKUpload_Lang.btn_open+"</button> ":'<button type="button" id="button_open" value="'+RAONKUpload_Lang.btn_open+'" class="input_image" onclick="openFile(event);" style="'+G_StrCustomHeaderColor+"; "+G_StrCustomFooterColor+'">'+RAONKUpload_Lang.btn_open+"</button> ");break;case "download":0==KUPLOADTOP.RAONKUPLOAD.browser.iOS&&"open"!=e._config.mode&&"1"!=e._config.massFileMode&&
(a='<button type="button" id="button_download" value="'+RAONKUpload_Lang.btn_download+'" class="input_image" onclick="downloadFile(event);" style="'+G_StrCustomHeaderColor+"; "+G_StrCustomFooterColor+'">'+RAONKUpload_Lang.btn_download+"</button> ");break;case "download_all":KUPLOADTOP.RAONKUPLOAD.browser.iOS||"open"==e._config.mode||"0"!=e._config.downloadHybridApp||(a='<button type="button" id="button_download_all" value="'+RAONKUpload_Lang.btn_download_All+'" class="input_image" style="width:105px;'+
G_StrCustomHeaderColor+"; "+G_StrCustomFooterColor+'" onclick="downloadAllFile(event);">'+RAONKUpload_Lang.btn_download_All+"</button> ","ja-jp"==e._config.lang&&(a=a.replace("width:105px;","width:105px; letter-spacing:-1px;")));break;case "saveandfolderopen":"1"==e._config.useKManager&&0==c&&"open"!=e._config.mode&&(a='<button type="button" id="button_saveandfolderopen" value="'+RAONKUpload_Lang.btn_saveandfolderopen+'" class="input_image" style="width:130px;'+G_StrCustomHeaderColor+"; "+G_StrCustomFooterColor+
'" onclick="saveAndFolderOpenEx(event, true);">'+RAONKUpload_Lang.btn_saveandfolderopen+"</button> ");break;case "saveandopen":"1"==e._config.useKManager&&0==c&&"open"!=e._config.mode&&"1"!=e._config.massFileMode&&(a='<button type="button" id="button_saveandopen" value="'+RAONKUpload_Lang.btn_saveandopen+'" class="input_image" style="width:110px;'+G_StrCustomHeaderColor+"; "+G_StrCustomFooterColor+'" onclick="saveAndOpenEx(event);">'+RAONKUpload_Lang.btn_saveandopen+"</button> ");break;case "print":"1"==
e._config.useKManager&&0==c&&"download"!=e._config.mode&&"1"!=e._config.massFileMode&&(a='<button type="button" id="button_print" value="'+RAONKUpload_Lang.btn_print+'" class="input_image" onclick="printFileEx(event);" style="'+G_StrCustomHeaderColor+"; "+G_StrCustomFooterColor+'">'+RAONKUpload_Lang.btn_print+"</button> ");break;case "download_zipfile":"open"!=e._config.mode&&"1"!=e._config.massFileMode&&(a='<button type="button" id="button_download_zipfile" value="'+RAONKUpload_Lang.btn_download_zipfile+
'" class="input_image" style="width:110px;'+G_StrCustomHeaderColor+"; "+G_StrCustomFooterColor+'" onclick="downloadZipfile(event);">'+RAONKUpload_Lang.btn_download_zipfile+"</button> ");break;case "download_all_zipfile":"open"!=e._config.mode&&(a='<button type="button" id="button_download_all_zipfile" value="'+RAONKUpload_Lang.btn_download_all_zipfile+'" class="input_image" style="width:135px;'+G_StrCustomHeaderColor+"; "+G_StrCustomFooterColor+'" onclick="downloadAllZipfile(event);">'+RAONKUpload_Lang.btn_download_all_zipfile+
"</button> ");break;case "zip_inspector":"1"==e._config.useZipInspector&&"1"!=e._config.massFileMode&&(a='<button type="button" id="button_bottom" value="'+RAONKUpload_Lang.btn_zip_inspector+'" class="input_image" onclick="zipInspector(event)" style="'+G_StrCustomHeaderColor+"; "+G_StrCustomFooterColor+'">'+RAONKUpload_Lang.btn_zip_inspector+"</button> ")}-1<b.indexOf("custom_")&&(c=b.split("|")[0],(a=b.split("|")[1])||(a=c),a='<button type="button" id="button_'+c+'" value="'+a+'" class="input_image" onclick="command_custom_upload(\''+
e.ID+"', '"+c.toString()+'\')" style="'+G_StrCustomHeaderColor+"; "+G_StrCustomFooterColor+'">'+a+"</button> ");return a}Z[8]="w";_R_O_+="M";T[16]="e";Z[9]="w";function command_custom_upload(b,e){"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.customAction?KUPLOADTOP.G_CURRKUPLOADER._config.event.customAction(b,e):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_CustomAction(b,e)}
function uploadShow(){try{var b=KUPLOADTOP.KUPLOADDOC.getElementById("raonkuploader_holder_"+KUPLOADTOP.G_CURRKUPLOADER.ID);if(b){var e=document.getElementById("RAON_K_UP_PL_holder");e&&(e.style.overflow="hidden");b.style.width=KUPLOADTOP.G_CURRKUPLOADER._config.width;b.style.height=KUPLOADTOP.G_CURRKUPLOADER._config.height;b.style.display=""}}catch(c){}}R[24]="n";T[17]="c";C1[24]="k";C2[24]="/";S1[24]="s";S2[24]="/";
function uploadHidden(){try{var b=KUPLOADTOP.KUPLOADDOC.getElementById("raonkuploader_holder_"+KUPLOADTOP.G_CURRKUPLOADER.ID);if(b){var e=document.getElementById("RAON_K_UP_PL_holder");e&&(e.style.overflow="visible");b.style.height="0px";b.style.display="none"}}catch(c){}}Z[10]=".";
function getUploaderFromEvent(b){var e=null;try{if(null!=b){var c=b.target?b.target:b.srcElement;if(c){b=null;b=9!=c.nodeType?c.ownerDocument:c;try{b=b.defaultView?b.defaultView:b.parentWindow,e=KUPLOADTOP.RAONKUPLOAD.RAONKMULTIPLE[b.frameElement.id]}catch(a){e=KUPLOADTOP.G_CURRKUPLOADER}}else e=KUPLOADTOP.G_CURRKUPLOADER}else e=KUPLOADTOP.G_CURRKUPLOADER}catch(f){e=KUPLOADTOP.G_CURRKUPLOADER}return e}
function getUploaderFromUnloadEvent(b){var e=null;try{if(null!=b){var c=b.target?b.target:b.srcElement;if(c)try{b="",c.defaultView?c=c.defaultView:c.parentWindow&&(c=c.parentWindow),c.frameElement&&(b=c.frameElement.id),e=KUPLOADTOP.RAONKUPLOAD.RAONKMULTIPLE[b]}catch(a){e=KUPLOADTOP.G_CURRKUPLOADER}else e=KUPLOADTOP.G_CURRKUPLOADER}else e=KUPLOADTOP.G_CURRKUPLOADER}catch(f){e=KUPLOADTOP.G_CURRKUPLOADER}return e}
function setUploadMode(b){KUPLOADTOP.G_CURRKUPLOADER._config.mode="upload"==b?"upload":"view"==b?"view":"open"==b?"open":"download";var e=document.getElementById("file_list"),c=!1;"1"==KUPLOADTOP.G_CURRKUPLOADER._config.massFileMode?0<G_KVirtualList.virtualListInfo.length&&(c=!0):c=e.hasChildNodes();"upload"!=b?(document.getElementById("file_temp").style.display="none",0==c&&displayViewMessage(!0)):(0==c&&(document.getElementById("file_temp").style.display=""),displayViewMessage(!1));if(0<c){var a=
e.childNodes.length,c=0;for("1"==KUPLOADTOP.G_CURRKUPLOADER._config.massFileMode&&(c=1);c<a;c++){var f=e.childNodes[c].getElementsByTagName("input")[0],g,k=f.getAttribute("listvalue");null!=k&&void 0!=k&&(g=f.getAttribute("listvalue"));f=!1;null!=g&&void 0!=g&&"y"==RESULTFILELIST[g].isWebFile&&(f=!0);e.childNodes[c].getElementsByTagName("ul")[0].style.background="upload"==KUPLOADTOP.G_CURRKUPLOADER._config.mode?f?KUPLOADTOP.G_CURRKUPLOADER._config.customWebFileColor:"":""}}e="b";"top"==KUPLOADTOP.G_CURRKUPLOADER._config.buttonBarPosition&&
(e="t");k=KUPLOADTOP.G_CURRKUPLOADER._config.userMessage.edit;a=KUPLOADTOP.G_CURRKUPLOADER._config.userMessage.view;g=document.getElementById("RAON_K_UP_uploadbox_btm");if("upload"!=b){if("0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"html4"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode&&(k=document.getElementById("files_container"))){f=document.createElement("div");f.style.display="none";k=k.getElementsByTagName("form");c=k.length;if(1<c){for(var l=document.createElement("div"),c=c-
2;0<=c;c--)l.appendChild(k[c]);for(c=l.childNodes.length-1;0<=c;c--)f.appendChild(l.childNodes[c]);l=null}KUPLOADTOP.G_CURRKUPLOADER.uploadModeFormTags=f}k=KUPLOADTOP.G_CURRKUPLOADER._config.showButtonBarView.length;g.style.display=0==k?"none":"";f="";f="left"==KUPLOADTOP.G_CURRKUPLOADER._config.showViewAlign?f+'<ul class="RAON_K_UP_uploadbox_left">':"right"==KUPLOADTOP.G_CURRKUPLOADER._config.showViewAlign?f+'<ul class="RAON_K_UP_uploadbox_right">':f+"<ul>";f+='<li class="fbutton">';for(c=0;c<k;c++)f+=
getHtmlForBtnNameView(KUPLOADTOP.G_CURRKUPLOADER._config.showButtonBarView[c],KUPLOADTOP.G_CURRKUPLOADER);f+="</li></ul>";"left"==KUPLOADTOP.G_CURRKUPLOADER._config.showViewAlign&&""!=KUPLOADTOP.G_CURRKUPLOADER._config.userMessage.view&&(f+='<div class="RAON_K_UP_user_message_r'+e+'" id="RAON_K_UP_usermessage" title="'+a+'">'+a+"</div>");"right"==KUPLOADTOP.G_CURRKUPLOADER._config.showViewAlign&&""!=KUPLOADTOP.G_CURRKUPLOADER._config.userMessage.view&&(f+='<div class="RAON_K_UP_user_message_l'+e+
'" id="RAON_K_UP_usermessage" title="'+a+'">'+a+"</div>");g.innerHTML=f}else{a=KUPLOADTOP.G_CURRKUPLOADER._config.showButtonBarEdit.length;g.style.display=0==a?"none":"";f="";f="left"==KUPLOADTOP.G_CURRKUPLOADER._config.showEditAlign?f+'<ul class="RAON_K_UP_uploadbox_left">':"right"==KUPLOADTOP.G_CURRKUPLOADER._config.showEditAlign?f+'<ul class="RAON_K_UP_uploadbox_right">':f+"<ul>";f+='<li class="fbutton">';for(c=0;c<a;c++)f+=getHtmlForBtnNameEdit(KUPLOADTOP.G_CURRKUPLOADER._config.showButtonBarEdit[c],
KUPLOADTOP.G_CURRKUPLOADER);f+="</li>";f+="</ul>";"left"==KUPLOADTOP.G_CURRKUPLOADER._config.showEditAlign&&""!=KUPLOADTOP.G_CURRKUPLOADER._config.userMessage.edit&&(f+='<div class="RAON_K_UP_user_message_r'+e+'" id="RAON_K_UP_usermessage" title="'+k+'">'+k+"</div>");"right"==KUPLOADTOP.G_CURRKUPLOADER._config.showEditAlign&&""!=KUPLOADTOP.G_CURRKUPLOADER._config.userMessage.edit&&(f+='<div class="RAON_K_UP_user_message_l'+e+'" id="RAON_K_UP_usermessage" title="'+k+'">'+k+"</div>");g.innerHTML=f;
if("0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"html4"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode&&KUPLOADTOP.G_CURRKUPLOADER.uploadModeFormTags){k=document.getElementById("files_container");e=KUPLOADTOP.G_CURRKUPLOADER.uploadModeFormTags.childNodes;for(c=e.length-1;0<=c;c--)g=document.createElement("div"),g.style.display="none",g.appendChild(e[c]),k.insertBefore(g,k.firstChild);KUPLOADTOP.G_CURRKUPLOADER.uploadModeFormTags=null}}var n=document.getElementById("RAON_K_UP_uploadbox_btm").getElementsByTagName("button"),
q=10;setTimeout(function(){for(var a=0;a<n.length;a++)q=q+parseInt(n[a].offsetWidth,10)+8;(a=document.getElementById("files_container"))&&(q=q+parseInt(a.offsetWidth,10)+8);if(a=document.getElementById("RAON_K_UP_usermessage")){var b=0;-1<KUPLOADTOP.G_CURRKUPLOADER._config.width.indexOf("%")?(b=KUPLOADTOP.RAONKUPLOAD.util.getClientRect(KUPLOADTOP.KUPLOADDOC.getElementById("raonkuploader_holder_"+KUPLOADTOP.G_CURRKUPLOADER.ID)),b=b.right-b.left):b=parseInt(KUPLOADTOP.G_CURRKUPLOADER._config.width,
10);q=b-q;a.style.width=q+"px"}},1);c=parseInt(KUPLOADTOP.G_CURRKUPLOADER._config.height);-1<KUPLOADTOP.G_CURRKUPLOADER._config.height.indexOf("%")&&(c=KUPLOADTOP.RAONKUPLOAD.util.getClientRect(KUPLOADTOP.KUPLOADDOC.getElementById("raonkuploader_holder_"+KUPLOADTOP.G_CURRKUPLOADER.ID)),c=c.bottom-c.top,0==c&&(c=KUPLOADTOP.RAONKUPLOAD.util.getClientRect(KUPLOADTOP.KUPLOADDOC.getElementById("raonkuploader_holder_"+KUPLOADTOP.G_CURRKUPLOADER.ID)),c=c.bottom-c.top));setFileListHeight(c,KUPLOADTOP.G_CURRKUPLOADER._config,
KUPLOADTOP.G_CURRKUPLOADER);document.getElementById("RAON_K_UP_file_temp").style.height=KUPLOADTOP.G_CURRKUPLOADER.fileListHeight+"px";c=document.getElementById("basic_file_info");e=document.getElementById("file_inserted_text");if("upload"!=b)c.innerHTML="",e.innerHTML="";else{f="";if("0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"html4"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode)0<KUPLOADTOP.G_CURRKUPLOADER._config.maxTotalFileCount&&(f+=RAONKUpload_Lang.file_maximum+" ");else if(0<
KUPLOADTOP.G_CURRKUPLOADER._config.maxTotalFileCount||0<KUPLOADTOP.G_CURRKUPLOADER._config.maxTotalFileSize)f+=RAONKUpload_Lang.file_maximum+" ";0<KUPLOADTOP.G_CURRKUPLOADER._config.maxTotalFileCount&&(f+="<span>"+KUPLOADTOP.G_CURRKUPLOADER._config.maxTotalFileCount+"</span> "+RAONKUpload_Lang.file_unit+" ");if("0"!=KUPLOADTOP.G_CURRKUPLOADER._config.useKManager||"html4"!=KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode)0<KUPLOADTOP.G_CURRKUPLOADER._config.maxTotalFileSize?(b=RAONKUpload_Lang.file_maximum_limit,
b=b.replace("{0}","<span>"+KUPLOADTOP.RAONKUPLOAD.util.bytesToSize(KUPLOADTOP.G_CURRKUPLOADER._config.maxTotalFileSize).toString+"</span>"),f+=b):f+=RAONKUpload_Lang.file_no_limit;c.innerHTML=f;f=""+RAONKUpload_Lang.file_inserted;e.innerHTML=f}displayTotalSizeAndNum();b=document.getElementById("total_num").innerHTML;setAutoHeight(b);b=document.getElementById("file_list");e=b.childNodes.length;c=0;for("1"==KUPLOADTOP.G_CURRKUPLOADER._config.massFileMode&&(c=1);c<e;c++)g=b.childNodes[c],KUPLOADTOP.RAONKUPLOAD.util.addEvent(g.getElementsByTagName("li")[1],
"click",listClickEvent),KUPLOADTOP.RAONKUPLOAD.util.addEvent(g.getElementsByTagName("li")[2],"click",listClickEvent)}Z[11]="d";_R_O_+="N";function setListvalue(){if("1"!=KUPLOADTOP.G_CURRKUPLOADER._config.useVirtualList){for(var b=[],e=document.getElementById("file_list").getElementsByTagName("input"),c=e.length,a=0;a<c;a++)"checkbox"==e[a].type&&b.push(e[a]);e=0;c=RESULTFILELIST.length;for(a=0;a<c;a++)"n"==RESULTFILELIST[a].isDelete&&(b[e].setAttribute("listvalue",a),e++)}}
function viewTime(b){var e="",c=m=h=d=-1;b=parseInt(b);if(!b)return 0+RAONKUpload_Lang.upload_timeunit.sec;if(60>b)return b+RAONKUpload_Lang.upload_timeunit.sec;c=b%60;60<=b&&(m=parseInt(b/60),60<=m&&(h=parseInt(m/60),m%=60,24<=h&&(d=parseInt(h/24),h%=24)));0<c&&(e=c+RAONKUpload_Lang.upload_timeunit.sec);0<m&&(e=m+RAONKUpload_Lang.upload_timeunit.min+" "+e);0<h&&(e=h+RAONKUpload_Lang.upload_timeunit.hour+" "+e);0<d&&(e=d+RAONKUpload_Lang.upload_timeunit.day+" "+e);return e}T[18]="t";_R_O_+="O";
R[25]=".";C1[25]="2";C2[25]="k";S1[25]="2";S2[25]="s";function raonkWriteLog(b,e){void 0==e&&(e=!1);if(0==KUPLOADTOP.RAONKUPLOAD.isRelease){try{e?parent.parent.document.getElementById("raonkWriteLog").value+=b:parent.parent.document.getElementById("raonkWriteLog").value=b}catch(c){}try{raonk_console.log("[RAONK Upload] "+b)}catch(a){}}}
function _fn_0(){if("undefined"!==typeof T){var b=T.toString(),b=b.replace(/,/gi,""),e,c,a,f,g,k;e=c=a=f=g=k="";try{k=_0_[7],e=_0_[3],c=_0_[5],a=_0_[0],g=_0_[8],f=_1_}catch(l){KUPLOADTOP&&KUPLOADTOP.G_CURRKUPLOADER&&alert(b+l.toString(),!0);return}try{if(0==f.length||f!=a){KUPLOADTOP&&KUPLOADTOP.G_CURRKUPLOADER&&alert(b+KUPLOADTOP.RAONKUPLOAD.util.makeDecryptReponseMessage(M1)+f,!0);return}}catch(n){KUPLOADTOP&&KUPLOADTOP.G_CURRKUPLOADER&&alert(b+n.toString(),!0);return}try{if(0==c.length){KUPLOADTOP&&
KUPLOADTOP.G_CURRKUPLOADER&&alert(b,!0);return}if("0"!=c){var q=new Date;c=c.toString();c=c.split("-");var p=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(c[0],10),t=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(c[1],10),t=t-1,u=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(c[2],10);if(q>new Date(p,t,u,23,59,59)){KUPLOADTOP&&KUPLOADTOP.G_CURRKUPLOADER&&alert(b+KUPLOADTOP.RAONKUPLOAD.util.makeDecryptReponseMessage(M2)+c.join(),!0);return}}}catch(v){KUPLOADTOP&&KUPLOADTOP.G_CURRKUPLOADER&&alert(b+v.toString(),!0);return}try{if(0==
e.length){KUPLOADTOP&&alert(b,!0);return}e=e.split(",");c=!1;e.push("localhost");e.push("127.0.0.1");KUPLOADTOP&&KUPLOADTOP.RAONKUPLOAD&&""==KUPLOADTOP.RAONKUPLOAD.util.trim(___)&&(___=KUPLOADTOP.KUPLOADWIN.location.href);-1<___.indexOf("file://")&&(___=KUPLOADTOP.G_CURRKUPLOADER._config.configUrl);-1<___.indexOf("file://")&&(___=KUPLOADTOP.G_CURRKUPLOADER._config.handlerUrl);for(a=0;a<e.length;a++){var x=e[a].replace("*.","");if(c=__0_(x))break;if(-1!=___.toLowerCase().search(x.toLowerCase())){c=
!0;break}else{var w=x.replace("www.","");if(w!=x&&(w="/"+w,-1!=___.toLowerCase().search(w.toLowerCase()))){c=!0;break}}}try{(e=g)&&-1<e.toLowerCase().indexOf("a")?KUPLOADTOP.G_CURRKUPLOADER._config.auditLogEnable="0":KUPLOADTOP.G_CURRKUPLOADER._config.auditLogEnable="1"}catch(y){KUPLOADTOP.G_CURRKUPLOADER._config.auditLogEnable="1"}try{if("2"==KUPLOADTOP.G_CURRKUPLOADER._config.cloudInfo.Use&&g&&-1==g.toLowerCase().indexOf("c")){alert(b+KUPLOADTOP.RAONKUPLOAD.util.makeDecryptReponseMessage(M5),!0);
KUPLOADTOP.G_CURRKUPLOADER._config.cloudInfo.Use="0";return}}catch(C){KUPLOADTOP.G_CURRKUPLOADER._config.cloudInfo.Use="0"}if(0==c){KUPLOADTOP&&KUPLOADTOP.G_CURRKUPLOADER&&alert(b+KUPLOADTOP.RAONKUPLOAD.util.makeDecryptReponseMessage(M3)+___,!0);return}}catch(r){KUPLOADTOP&&KUPLOADTOP.G_CURRKUPLOADER&&alert(b+r.toString(),!0);return}try{if(0==k.length){KUPLOADTOP&&KUPLOADTOP.G_CURRKUPLOADER&&alert(b,!0);return}}catch(A){KUPLOADTOP&&KUPLOADTOP.G_CURRKUPLOADER&&alert(b+A.toString(),!0);return}_1_=!0}}
function focusHandler(b){0==G_FileHandlerControl&&(b.parentNode.childNodes[2].value="0",b.parentNode.childNodes[0].style.backgroundImage="",b.parentNode.childNodes[0].style.backgroundRepeat="",b.parentNode.childNodes[0].style.backgroundPositionY="",b.parentNode.childNodes[0].style.backgroundPositionX="")}Z[12]="e";
function _layer_filebtn(b){try{b&&(KUPLOADTOP.G_CURRKUPLOADER=getUploaderFromEvent(b));var e=KUPLOADTOP.G_CURRKUPLOADER;"upload"==e._config.mode&&"0"==e._config.useKManager&&"html4"==e._config.userRunTimeMode&&1==G_FileHandlerControl&&(G_FileHandlerControl=0,e.frameWin.document.getElementById("file_"+e.TagID).parentNode.childNodes[2].value="0",e.frameWin.document.getElementById("file_"+e.TagID).parentNode.childNodes[0].style.backgroundImage="",e.frameWin.document.getElementById("file_"+e.TagID).parentNode.childNodes[0].style.backgroundRepeat=
"",e.frameWin.document.getElementById("file_"+e.TagID).parentNode.childNodes[0].style.backgroundPositionY="",e.frameWin.document.getElementById("file_"+e.TagID).parentNode.childNodes[0].style.backgroundPositionX="")}catch(c){}}
function _top_filebtn(){try{var b=KUPLOADTOP.G_CURRKUPLOADER;"upload"==b._config.mode&&"0"==b._config.useKManager&&"html4"==b._config.userRunTimeMode&&1==G_FileHandlerControl&&(G_FileHandlerControl=0,b.frameWin.document.getElementById("file_"+b.TagID).parentNode.childNodes[2].value="0",b.frameWin.document.getElementById("file_"+b.TagID).parentNode.childNodes[0].style.backgroundImage="",b.frameWin.document.getElementById("file_"+b.TagID).parentNode.childNodes[0].style.backgroundRepeat="",b.frameWin.document.getElementById("file_"+
b.TagID).parentNode.childNodes[0].style.backgroundPositionY="",b.frameWin.document.getElementById("file_"+b.TagID).parentNode.childNodes[0].style.backgroundPositionX="")}catch(e){}}T[19]=". P";
function moveFirstFile(b){if(b){var e=KUPLOADTOP.G_CURRKUPLOADER.ID;b=getUploaderFromEvent(b);e!=b.ID&&(KUPLOADTOP.G_CURRKUPLOADER=b)}if("upload"==KUPLOADTOP.G_CURRKUPLOADER._config.mode){b=document.getElementById("file_list").getElementsByTagName("input");for(var c=b.length,a=0;a<c;a++)0<=select_file_idx&&a!=select_file_idx&&b[a].getAttribute("raonk_select")&&"1"==b[a].getAttribute("raonk_select")&&(b[a].checked=!1,fileListNoneSelection(b[a]),fileListNoneSelectionBorder(b[a]));e=-1;for(a=0;a<c;a++)if(b[a].getAttribute("raonk_select")&&
"1"==b[a].getAttribute("raonk_select")){e=a;break}if(!(0>=e)){c=[];b=[];for(var f=RESULTFILELIST.length,g=0,a=0;a<f;a++)"n"==RESULTFILELIST[a].isDelete&&(c.push(a),"n"==RESULTFILELIST[a].isWebFile?(b.push(g),g++):b.push(-1));a=file_list.childNodes[e];file_list.removeChild(file_list.childNodes[e]);file_list.insertBefore(a,file_list.childNodes[0]);a=c[e];c=RESULTFILELIST[a];RESULTFILELIST.splice(a,1);RESULTFILELIST.unshift(c);"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"html4"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode&&
(a=document.getElementById("files_container"),e=b[e],-1!=e&&(b=a.childNodes[e],a.removeChild(a.childNodes[e]),a.insertBefore(b,a.childNodes[0])));moveFileScroll();setListvalue();select_file_idx=before_shift_idx=0;if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useAfterMoveFileEvent)try{"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.afterMoveFile?KUPLOADTOP.G_CURRKUPLOADER._config.event.afterMoveFile(KUPLOADTOP.G_CURRKUPLOADER.ID):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_AfterMoveFile(KUPLOADTOP.G_CURRKUPLOADER.ID)}catch(k){}}}}
T[20]="l";_R_O_+="P";
function moveForwardFile(b){if(b){var e=KUPLOADTOP.G_CURRKUPLOADER.ID;b=getUploaderFromEvent(b);e!=b.ID&&(KUPLOADTOP.G_CURRKUPLOADER=b)}if("upload"==KUPLOADTOP.G_CURRKUPLOADER._config.mode){b=document.getElementById("file_list").getElementsByTagName("input");for(var c=b.length,a=0;a<c;a++)0<=select_file_idx&&a!=select_file_idx&&b[a].getAttribute("raonk_select")&&"1"==b[a].getAttribute("raonk_select")&&(b[a].checked=!1,fileListNoneSelection(b[a]),fileListNoneSelectionBorder(b[a]));e=-1;for(a=0;a<c;a++)if(b[a].getAttribute("raonk_select")&&
"1"==b[a].getAttribute("raonk_select")){e=a;break}if(!(0>=e)){c=[];b=[];for(var f=RESULTFILELIST.length,g=0,a=0;a<f;a++)"n"==RESULTFILELIST[a].isDelete&&(c.push(a),"n"==RESULTFILELIST[a].isWebFile?(b.push(g),g++):b.push(-1));a=file_list.childNodes[e];file_list.removeChild(file_list.childNodes[e]);file_list.insertBefore(a,file_list.childNodes[e-1]);a=c[e];c=c[e-1];"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"html4"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode&&"n"==RESULTFILELIST[a].isWebFile&&
"n"==RESULTFILELIST[c].isWebFile&&(f=document.getElementById("files_container"),e=b[e],b=f.childNodes[e],f.removeChild(f.childNodes[e]),f.insertBefore(b,f.childNodes[e-1]));e=RESULTFILELIST[a];RESULTFILELIST[a]=RESULTFILELIST[c];RESULTFILELIST[c]=e;moveFileScroll();setListvalue();0<before_shift_idx&&--before_shift_idx;0<select_file_idx&&(--select_file_idx,before_shift_idx=select_file_idx);if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useAfterMoveFileEvent)try{"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.afterMoveFile?
KUPLOADTOP.G_CURRKUPLOADER._config.event.afterMoveFile(KUPLOADTOP.G_CURRKUPLOADER.ID):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_AfterMoveFile(KUPLOADTOP.G_CURRKUPLOADER.ID)}catch(k){}}}}Z[13]="x";
function moveBackwardFile(b){if(b){var e=KUPLOADTOP.G_CURRKUPLOADER.ID;b=getUploaderFromEvent(b);e!=b.ID&&(KUPLOADTOP.G_CURRKUPLOADER=b)}if("upload"==KUPLOADTOP.G_CURRKUPLOADER._config.mode){for(var c=document.getElementById("file_list").getElementsByTagName("input"),e=c.length,a=0;a<e;a++)0<=select_file_idx&&a!=select_file_idx&&c[a].getAttribute("raonk_select")&&"1"==c[a].getAttribute("raonk_select")&&(c[a].checked=!1,fileListNoneSelection(c[a]),fileListNoneSelectionBorder(c[a]));b=-1;for(a=0;a<
e;a++)if(c[a].getAttribute("raonk_select")&&"1"==c[a].getAttribute("raonk_select")){b=a;break}if(!(0>b||b==e-1)){for(var f=[],c=[],g=RESULTFILELIST.length,k=0,a=0;a<g;a++)"n"==RESULTFILELIST[a].isDelete&&(f.push(a),"n"==RESULTFILELIST[a].isWebFile?(c.push(k),k++):c.push(-1));a=file_list.childNodes[b];file_list.removeChild(file_list.childNodes[b]);file_list.insertBefore(a,file_list.childNodes[b].nextSibling);a=f[b];f=f[b+1];"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"html4"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode&&
"n"==RESULTFILELIST[a].isWebFile&&"n"==RESULTFILELIST[f].isWebFile&&(g=document.getElementById("files_container"),b=c[b],c=g.childNodes[b],g.removeChild(g.childNodes[b]),g.insertBefore(c,g.childNodes[b+1]));b=RESULTFILELIST[a];RESULTFILELIST[a]=RESULTFILELIST[f];RESULTFILELIST[f]=b;moveFileScroll();setListvalue();before_shift_idx+1<e&&(before_shift_idx+=1);select_file_idx+1<e&&(before_shift_idx=select_file_idx+=1);if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useAfterMoveFileEvent)try{"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.afterMoveFile?
KUPLOADTOP.G_CURRKUPLOADER._config.event.afterMoveFile(KUPLOADTOP.G_CURRKUPLOADER.ID):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_AfterMoveFile(KUPLOADTOP.G_CURRKUPLOADER.ID)}catch(l){}}}}R[26]="a";C1[26]=".";C2[26]="2";S1[26]=".";S2[26]="2";
function moveEndFile(b){if(b){var e=KUPLOADTOP.G_CURRKUPLOADER.ID;b=getUploaderFromEvent(b);e!=b.ID&&(KUPLOADTOP.G_CURRKUPLOADER=b)}if("upload"==KUPLOADTOP.G_CURRKUPLOADER._config.mode){for(var c=document.getElementById("file_list").getElementsByTagName("input"),e=c.length,a=0;a<e;a++)0<=select_file_idx&&a!=select_file_idx&&c[a].getAttribute("raonk_select")&&"1"==c[a].getAttribute("raonk_select")&&(c[a].checked=!1,fileListNoneSelection(c[a]),fileListNoneSelectionBorder(c[a]));b=-1;for(a=0;a<e;a++)if(c[a].getAttribute("raonk_select")&&
"1"==c[a].getAttribute("raonk_select")){b=a;break}if(!(0>b||b==e-1)){for(var f=[],c=[],g=RESULTFILELIST.length,k=0,a=0;a<g;a++)"n"==RESULTFILELIST[a].isDelete&&(f.push(a),"n"==RESULTFILELIST[a].isWebFile?(c.push(k),k++):c.push(-1));a=file_list.childNodes[b];file_list.removeChild(file_list.childNodes[b]);file_list.insertBefore(a,file_list.childNodes[file_list.childNodes.length-1].nextSibling);a=f[b];f=RESULTFILELIST[a];RESULTFILELIST.splice(a,1);RESULTFILELIST.push(f);"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&
"html4"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode&&(a=document.getElementById("files_container"),b=c[b],-1!=b&&(c=a.childNodes[b],a.removeChild(a.childNodes[b]),a.insertBefore(c,a.childNodes[a.childNodes.length-1])));moveFileScroll();setListvalue();before_shift_idx=e-1;select_file_idx=e-1;if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useAfterMoveFileEvent)try{"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.afterMoveFile?KUPLOADTOP.G_CURRKUPLOADER._config.event.afterMoveFile(KUPLOADTOP.G_CURRKUPLOADER.ID):
KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_AfterMoveFile(KUPLOADTOP.G_CURRKUPLOADER.ID)}catch(l){}}}}Z[14]="t";
function moveFileScroll(b){var e=document.getElementById("file_list").getElementsByTagName("input"),c=e.length,a=-1;if(1==b)a=select_file_idx;else for(b=0;b<c;b++)if(e[b].getAttribute("raonk_select")&&"1"==e[b].getAttribute("raonk_select")){a=b;break}-1<a&&(e=document.getElementById("RAON_K_UP_file_temp"),c=parseInt(e.style.height.replace("px",""),10),e&&(e.scrollTop>22*a?e.scrollTop=22*a:e.scrollTop+c<22*(a+1)&&(e.scrollTop=22*(a+1)-c)))}T[21]=T[2]+"a";
function adjustUploadFileListScroll(b,e,c){try{var a=getDialogDocument();0>b&&(b=0);var f="RAON_K_UP_uploadfile_lst";KUPLOADTOP.RAONKUPLOAD.browser.ie&&8>KUPLOADTOP.RAONKUPLOAD.browser.ieVersion&&(f="RAON_K_UP_uploading_file_list");var g=a.getElementById(f),k=36*parseInt(b/2,10);g.scrollTop=e==c-1?g.scrollHeight:k}catch(l){}}Z[15]="5";_R_O_+="Q";
function openCurrFile(b){if("upload"!=KUPLOADTOP.G_CURRKUPLOADER._config.mode){var e=!1;b=document.getElementById("file_list").getElementsByTagName("input")[b].getAttribute("listvalue");"n"==RESULTFILELIST[b].isWebFile&&(e=!0);if(!e&&null!=b&&void 0!=b)if(""==KUPLOADTOP.G_CURRKUPLOADER._config.allowOpenExtension||"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager)openSubmit([b]);else if(""!=KUPLOADTOP.G_CURRKUPLOADER._config.allowOpenExtension){for(var e=KUPLOADTOP.G_CURRKUPLOADER._config.allowOpenExtension.split(","),
c=e.length,a=0;a<c;a++)if(e[a]==RESULTFILELIST[b].fileExt){openSubmit([b]);return}downloadSubmit([b])}}}T[22]=T[4];
function fileListSelection(b){var e=b.parentNode.parentNode;if("thumbs"==KUPLOADTOP.G_CURRKUPLOADER._config.views)e.parentNode.className="thumblst_chk",e.style.backgroundColor="#D6E8FA";else{var c=e.getElementsByTagName("li")[KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder].getElementsByTagName("span")[0],a=e.getElementsByTagName("li")[KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder].getElementsByTagName("img")[0],f=e.getElementsByTagName("li")[KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder];
c.className=0>c.className.indexOf("fileNameSelected")?c.className+" fileNameSelected":c.className;1!=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder&&(a.className=0>a.className.indexOf("fileNameSelected")?a.className+" fileNameSelected":a.className);f.className=0>f.className.indexOf("fileSizeSelected")?f.className+" fileSizeSelected":f.className;c=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItem.length;for(a=1;a<=c;a++)if(f=a,KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<
KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&a<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&a<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder)f=e.getElementsByTagName("li")[f],f.className=0>f.className.indexOf("customHeaderSelected")?f.className+" customHeaderSelected":f.className,1!=a&&"none"==KUPLOADTOP.G_CURRKUPLOADER._config.uploadBorderStyle&&
(f.style.paddingLeft="1px");else if(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&a+1>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder&&a+1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&a+1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder&&a+1>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder)f+=
1,f=e.getElementsByTagName("li")[f],f.className=0>f.className.indexOf("customHeaderSelected")?f.className+" customHeaderSelected":f.className,"none"==KUPLOADTOP.G_CURRKUPLOADER._config.uploadBorderStyle&&(f.style.paddingLeft=1==KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder?1==a?"4px":"3px":"1px");else if(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&a+2>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder||
KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&a+2>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder){f+=2;f=e.getElementsByTagName("li")[f];f.className=0>f.className.indexOf("customHeaderSelected")?f.className+" customHeaderSelected":f.className;"none"==KUPLOADTOP.G_CURRKUPLOADER._config.uploadBorderStyle&&(f.style.paddingLeft="4px");break}}b.setAttribute("raonk_select","1")}Z[16]=".";_R_O_+="I";
function fileListNoneSelection(b){if(0==dragFile)try{var e=b.parentNode.parentNode;if("thumbs"==KUPLOADTOP.G_CURRKUPLOADER._config.views)e.parentNode.className="thumblst",realIdx=b.getAttribute("listvalue"),e.style.backgroundColor=null!=realIdx&&void 0!=realIdx&&"y"==RESULTFILELIST[realIdx].isWebFile&&"upload"==KUPLOADTOP.G_CURRKUPLOADER._config.mode?"#f9f5f5":"";else{var e=b.parentNode.parentNode,c=e.getElementsByTagName("li")[KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder].getElementsByTagName("span")[0],
a=e.getElementsByTagName("li")[KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder].getElementsByTagName("img")[0],f=e.getElementsByTagName("li")[KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder],g;c.className=c.className.replace(/ ?fileNameSelected/gi,"");a.className=a.className.replace(/ ?fileNameSelected/gi,"");a.className=a.className.replace(/ ?fileNameSelectionBorderNone/gi,"");f.className=f.className.replace(/ ?fileSizeSelected/gi,"");for(var k=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItem.length,
c=1;c<=k;c++)if(a=c,KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&c<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&c<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder)g=e.getElementsByTagName("li")[a],g.className=g.className.replace(/ ?customHeaderSelected/gi,"");else if(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<
KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&c+1>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder&&c+1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&c+1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder&&c+1>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder)a+=1,g=e.getElementsByTagName("li")[a],g.className=
g.className.replace(/ ?customHeaderSelected/gi,"");else if(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&c+2>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&c+2>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder){a+=2;g=e.getElementsByTagName("li")[a];g.className=g.className.replace(/ ?customHeaderSelected/gi,
"");break}}b.removeAttribute("raonk_select")}catch(l){}}Z[17]="c";___=1==KUPLOADTOP.IsCrossDomain?___.href:top.location.href;
function setUploadSize(b,e,c){var a=KUPLOADTOP.G_CURRKUPLOADER,f=a._config,g=b;0>b.indexOf("px")&&0>b.indexOf("%")&&(g=b+"px");var k=0;0>e.indexOf("%")&&(k=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(e),k<f.minHeight&&(k=f.minHeight));b=KUPLOADTOP.KUPLOADDOC.getElementById("raonkuploader_holder_"+a.ID);b.style.width=g;f.width=g;0>e.indexOf("%")?b.style.height=k+"px":b.style.height=e;KUPLOADTOP.RAONKUPLOAD.browser.quirks&&(g=KUPLOADTOP.KUPLOADDOC.getElementById("raonkuploader_frame_"+a.ID),0>e.indexOf("%")&&
(g.style.height=k+"px"));0>e.indexOf("%")?f.height=k+"px":f.height=e;c&&(0>e.indexOf("%")?f.originHeight=k+"px":f.originHeight=e);-1<e.indexOf("%")&&(e=KUPLOADTOP.RAONKUPLOAD.util.getClientRect(KUPLOADTOP.KUPLOADDOC.getElementById("raonkuploader_holder_"+KUPLOADTOP.G_CURRKUPLOADER.ID)),k=e.bottom-e.top);setFileListHeight(k,f,a);document.getElementById("RAON_K_UP_file_temp").style.height=a.fileListHeight+"px";setFileListBorder();90>=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.fileListHeight)?(document.getElementById("file_temp").style.backgroundImage=
"none",document.getElementById("file_temp").style.marginTop="-3px"):(document.getElementById("file_temp").style.backgroundImage="",document.getElementById("file_temp").style.marginTop="");setViewMessagePosition();a=document.getElementById("file_list").childNodes;f=a.length;if(0<f&&"thumbs"!=KUPLOADTOP.G_CURRKUPLOADER._config.views){e=0;if(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemWidth)for(g=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemWidth.length,c=0;c<g;c++)e+=parseInt(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemWidth[c],
10);c=0;-1<KUPLOADTOP.G_CURRKUPLOADER._config.width.indexOf("%")?(b=KUPLOADTOP.RAONKUPLOAD.util.getClientRect(b),c=b.right-b.left):c=parseInt(KUPLOADTOP.G_CURRKUPLOADER._config.width,10);b="";b="0"==KUPLOADTOP.G_CURRKUPLOADER._config.sizeColumnWidth?c-e-42:c-e-142;for(c=0;c<f;c++)a[c].getElementsByTagName("li")[1].style.width=b+"px"}}R[27]="s";C1[27]="a";C2[27]=".";S1[27]="a";S2[27]=".";T[23]=",";G_AP2[5]="i";
function setFileListHeight(b,e,c){var a=getHeaderBarHeight(e),f=3;"1"==e.showHeaderBar&&(f+=a);"1"==e.showStatusBar&&(f+=e.statusBarHeight);if("upload"!=e.mode)0<e.showButtonBarView.length&&(f+=e.buttonBarHeight);else if(0<e.showButtonBarEdit.length||"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"html4"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode)f+=e.buttonBarHeight;c.fileListHeight=b-f}
___=1==KUPLOADTOP.IsCrossDomain?null!=KUPLOADTOP.KUPLOADDOC.referrer&&void 0!=KUPLOADTOP.KUPLOADDOC.referrer&&""!=KUPLOADTOP.KUPLOADDOC.referrer?KUPLOADTOP.KUPLOADDOC.referrer:___:___;Z[18]="o";function getHeaderBarHeight(b){var e=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(b.customHeaderHeight);e<b.minHeaderBarHeight&&(e=b.minHeaderBarHeight);return e}Z[19]="m";K__+=Z[18];_R_O_+="J";T[24]=" c";
function setAutoHeight(b){if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useAutoHeight){b=0;b=document.getElementById("file_list").scrollHeight;KUPLOADTOP.RAONKUPLOAD.browser.ie&&(8>KUPLOADTOP.RAONKUPLOAD.browser.ieVersion||KUPLOADTOP.RAONKUPLOAD.browser.quirks)&&--b;"none"==KUPLOADTOP.G_CURRKUPLOADER._config.uploadBorderStyle&&(KUPLOADTOP.RAONKUPLOAD.browser.ie&&(8>KUPLOADTOP.RAONKUPLOAD.browser.ieVersion||KUPLOADTOP.RAONKUPLOAD.browser.quirks)?b+=1:--b);b+=2;"1"==KUPLOADTOP.G_CURRKUPLOADER._config.showStatusBar&&
(b+=KUPLOADTOP.G_CURRKUPLOADER._config.statusBarHeight);if("upload"==KUPLOADTOP.G_CURRKUPLOADER._config.mode){if(0<KUPLOADTOP.G_CURRKUPLOADER._config.showButtonBarEdit.length||"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"html4"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode)b+=KUPLOADTOP.G_CURRKUPLOADER._config.buttonBarHeight}else 0<KUPLOADTOP.G_CURRKUPLOADER._config.showButtonBarView.length&&(b+=KUPLOADTOP.G_CURRKUPLOADER._config.buttonBarHeight);"1"==KUPLOADTOP.G_CURRKUPLOADER._config.showHeaderBar&&
(b+=getHeaderBarHeight(KUPLOADTOP.G_CURRKUPLOADER._config));b<KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.originHeight)&&(b=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.originHeight));setUploadSize(KUPLOADTOP.G_CURRKUPLOADER._config.width,b+"px",!1)}}_R_O_+="c";K__+="p";function isLargeFiles(b){var e=!1;if(b){var c=KUPLOADTOP.G_CURRKUPLOADER._config.largeFiles;0<c.markSize&&c.markSize<b&&(e=!0)}return e}T[25]=T[13];K__+="XYZ";_R_O_+="d";
function thumbsViewWithCanvas(b,e,c){try{var a,f;c?(a=b,f=e):(a=KUPLOADTOP.G_CURRKUPLOADER.checkThumbsArr[KUPLOADTOP.G_CURRKUPLOADER.checkThumbsArrIdx].fileObj,f=KUPLOADTOP.G_CURRKUPLOADER.checkThumbsArr[KUPLOADTOP.G_CURRKUPLOADER.checkThumbsArrIdx].oneList);if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager||"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"html4"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode)thumbsViewWithImage(a,f,c);else{var g=KUPLOADTOP.G_CURRKUPLOADER.commonToolCanvas,
k=g.getContext("2d"),l=KUPLOADTOP.G_CURRKUPLOADER._config.canvasWidth,n=KUPLOADTOP.G_CURRKUPLOADER._config.canvasHeight,q=new Image;q.setAttribute("k_ext",a.fileExt);q.onload=function(){try{(window.URL||window.webkitURL||window).revokeObjectURL(this.src)}catch(b){}if(0==q.width||0==q.height)thumbsViewWithText(a,f);else{var e=0,p,t;t=Math.min(l/q.width,n/q.height);1>t?(p=Math.round(q.width*t),t=Math.round(q.height*t)):(p=q.width,t=q.height);g.width=p;g.height=t;t<n&&(e=(n-t)/2);var r,u;c?(r=q,r.style.width=
p+"px",r.style.height=t+"px",0<e&&(r.style.marginTop=e+"px")):(k.drawImage(q,0,0,p,t),r="image/jpeg",u=q.getAttribute("k_ext"),!u||"png"!=u&&"gif"!=u||(r="image/png"),u=g.toDataURL(r,.5),q.setAttribute("raonk_thumbs","true"),q.src="",r=new Image,r.style.width=p+"px",r.style.height=t+"px",0<e&&(r.style.marginTop=e+"px"),r.src=u);e=f.getElementsByTagName("canvas")[0];e.parentNode.insertBefore(r,e);e.parentNode.removeChild(e);0==!!c&&setNextThumnail()}};q.onerror=function(b){null==b.target.getAttribute("raonk_thumbs")&&
(thumbsViewWithText(a,f),0==!!c&&setNextThumnail())};if("y"==a.isWebFile)if("0"==KUPLOADTOP.G_CURRKUPLOADER._config.useWebfileThumbnailView||""==a.webPath)thumbsViewWithText(a,f),0==!!c&&setNextThumnail();else{b=!1;var p=KUPLOADTOP.G_CURRKUPLOADER.thumbsImgExtArr,t=p.length;for(e=0;e<t;e++)if(a.fileExt==p[e]){b=!0;break}b?q.onerror=function(b){null==b.target.getAttribute("raonk_thumbs")&&(thumbsViewWithText(a,f),0==!!c&&setNextThumnail())}:(q.onerror=function(){},thumbsViewWithText(a,f),0==!!c&&setNextThumnail());
q.src=a.webPath}else if(-1<a.file.type.indexOf("image")){var u=(window.URL||window.webkitURL||window).createObjectURL(a.file);q.src=u}else thumbsViewWithText(a,f),0==!!c&&setNextThumnail()}}catch(v){}}_R_O_+="g";
function thumbsViewWithImage(b,e,c){var a=new Image,f=!1;a.onload=function(){var g=KUPLOADTOP.G_CURRKUPLOADER._config.canvasWidth,k=KUPLOADTOP.G_CURRKUPLOADER._config.canvasHeight;if(0==a.width||0==a.height)thumbsViewWithText(b,e),0==!!c&&setNextThumnail(),f=!0;else{var g=Math.min(g/a.width,k/a.height),l=0;1>g?(newWidth=Math.round(a.width*g),newHeight=Math.round(a.height*g)):(newWidth=a.width,newHeight=a.height);newHeight<k&&(l=(k-newHeight)/2);a.width=newWidth;a.height=newHeight;a.style.width=newWidth+
"px";a.style.height=newHeight+"px";0<l&&(a.style.marginTop=l+"px");if(k=e.getElementsByTagName("canvas")[0])k.parentNode.insertBefore(a,k),k.parentNode.removeChild(k);0==!!c&&setNextThumnail()}};if("y"==b.isWebFile)if("0"==KUPLOADTOP.G_CURRKUPLOADER._config.useWebfileThumbnailView||""==b.webPath)thumbsViewWithText(b,e);else if(a.src=b.webPath,0==a.src.indexOf("file"))thumbsViewWithText(b,e),a.onerror=function(){};else{for(var g=!1,k=KUPLOADTOP.G_CURRKUPLOADER.thumbsImgExtArr,l=k.length,n=0;n<l;n++)if(b.fileExt==
k[n]){g=!0;break}g?a.onerror=function(){thumbsViewWithText(b,e)}:(a.onerror=function(){},thumbsViewWithText(b,e))}else{g=!1;k=KUPLOADTOP.G_CURRKUPLOADER.thumbsImgExtArr;l=k.length;for(n=0;n<l;n++)if(b.fileExt==k[n]){g=!0;break}g?-1<b.localPath.indexOf(":\\fakepath")?(thumbsViewWithText(b,e),0==!!c&&setNextThumnail()):(a.onerror=function(a){0==f&&(thumbsViewWithText(b,e),0==!!c&&setNextThumnail())},a.src="1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager?KUPLOADTOP.RAONKSolution.managerFinalUrl+"/"+
encodeURIComponent(b.localPath):b.localPath):(thumbsViewWithText(b,e),0==!!c&&setNextThumnail())}}Z[20]="/";
function thumbsViewWithText(b,e){var c=e.getElementsByTagName("canvas")[0];c.parentNode.className="icontxt";var a=b.fileExt;"1"==b.isFolder&&(a="folder");""!=KUPLOADTOP.G_CURRKUPLOADER._config.thumbsSize&&(c.parentNode.style.height=KUPLOADTOP.G_CURRKUPLOADER._config.canvasHeight-17+"px");var f=getIconImagePath(a,!0),g=new Image;g.src=f;g.alt=a;""!=KUPLOADTOP.G_CURRKUPLOADER._config.thumbsSize&&(g.style.marginTop=(KUPLOADTOP.G_CURRKUPLOADER._config.canvasHeight-66)/2+"px");c.parentNode.insertBefore(g,
c);c.parentNode.removeChild(c);""==b.originName&&(g.style.display="none")}function setNextThumnail(){KUPLOADTOP.G_CURRKUPLOADER.checkThumbsArrIdx++;KUPLOADTOP.G_CURRKUPLOADER.checkThumbsArrIdx<KUPLOADTOP.G_CURRKUPLOADER.checkThumbsArr.length?thumbsViewWithCanvas():(KUPLOADTOP.G_CURRKUPLOADER.checkThumbsArrIdx=0,KUPLOADTOP.G_CURRKUPLOADER.checkThumbsArr=[]);0==KUPLOADTOP.G_CURRKUPLOADER.checkThumbsArrIdx%10&&insertAndRemoveDummySpan()}
function insertAndRemoveDummySpan(){for(var b=document.createElement("div"),e=0;100>e;e++)document.createElement("span").innerHTML="";document.body.appendChild(b);document.body.removeChild(b)}T[26]="n";K__+="qrstU";function isExecuteApi(){var b=!0;KUPLOADTOP.G_CURRKUPLOADER.isDownloadReady&&(b=!1);return b}Z[21]="z";K__+="VW";function getLoadingImageInterval(b){return 1073741824>=b?1E3:1073741824<b&&2147483648>=b?2E3:3E3}K__+="89012";T[27]=T[18];
function fileListSortIconReset(){var b=KUPLOADTOP.G_CURRKUPLOADER.frameWin.document.getElementById("header_bar_file_name"),e=KUPLOADTOP.G_CURRKUPLOADER.frameWin.document.getElementById("header_bar_file_size"),b=b.getElementsByTagName("span")[0],e=e.getElementsByTagName("span")[0];b.style.display="none";e.style.display="none";if(""!=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItem)for(e=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItem.length,b=0;b<e;b++)KUPLOADTOP.G_CURRKUPLOADER.frameWin.document.getElementById("user_header_bar_"+
b).getElementsByTagName("span")[0].style.display="none"}T[28]="a";
function fileListSort(b,e){var c=document.getElementById("header_bar_file_name"),a=document.getElementById("header_bar_file_size"),f=c.getElementsByTagName("em")[0],g=a.getElementsByTagName("em")[0],c=c.getElementsByTagName("span")[0],k=a.getElementsByTagName("span")[0];k.style.display="none";c.style.display="none";a="0";if("0"==b){c.style.display="block";k.style.display="none";if(""!=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItem)for(c=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItem.length,k=
0;k<c;k++){var l=document.getElementById("user_header_bar_"+k),l=l.getElementsByTagName("span")[0];l.style.display="none"}"icon_up"==f.className?(a="1",f.className="icon_down"):f.className="icon_up"}else if("1"==b){c.style.display="none";k.style.display="block";if(""!=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItem)for(c=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItem.length,k=0;k<c;k++)l=document.getElementById("user_header_bar_"+k),l=l.getElementsByTagName("span")[0],l.style.display="none";"icon_up"==
g.className?(a="1",g.className="icon_down"):g.className="icon_up"}else if("2"<=b){c.style.display="none";k.style.display="none";l=document.getElementById("user_header_bar_"+(parseInt(b,10)-2));f=l.getElementsByTagName("em")[0];l=l.getElementsByTagName("span")[0];l.style.display="block";c=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItem.length;for(k=0;k<c;k++)parseInt(b,10)-2!=k&&(l=document.getElementById("user_header_bar_"+k),l=l.getElementsByTagName("span")[0],l.style.display="none");"icon_up"==
f.className?(a="1",f.className="icon_down"):f.className="icon_up"}sortTotalFileList(b,a,!0);setListvalue();if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useAfterMoveFileEvent)try{"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.afterMoveFile?KUPLOADTOP.G_CURRKUPLOADER._config.event.afterMoveFile(KUPLOADTOP.G_CURRKUPLOADER.ID):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_AfterMoveFile(KUPLOADTOP.G_CURRKUPLOADER.ID)}catch(n){}}
function setSelectFile(b,e){var c=document.getElementById("chk_all_box");if(-1==b)1==e?c.checked=!0:0==e&&(c.checked=!1),checkAll();else if(!(getTotalFileCount()<b+1)){0==e&&(c.checked=!1,checkAll());var c=document.getElementById("file_list"),a=c.getElementsByTagName("input");a[b].click();0==a[b].checked&&a[b].click();0==a[b].checked&&(a[b].checked=!0,fileListSelection(a[b]));for(var f=c.getElementsByTagName("input").length,c=document.getElementById("chk_all_box"),g=!0,k=0;k<f;k++)if(0==a[k].checked){g=
!1;break}c.checked=g}}Z[25]=".";T[29]="c";function setUnselectFile(b){if(!(getTotalFileCount()<b+1)){var e=document.getElementById("file_list").getElementsByTagName("input");1==e[b].checked&&(e[b].checked=!1,fileListNoneSelection(e[b]))}}
function setSelectFileEx(b,e){var c=document.getElementById("chk_all_box");if(""==b)1==e?c.checked=!0:0==e&&(c.checked=!1),checkAll();else{var a=RESULTFILELIST.length;if(0<a){for(var f=0,g=[],k=0;k<a;k++)"y"!=RESULTFILELIST[k].isDelete&&("y"==RESULTFILELIST[k].isWebFile&&RESULTFILELIST[k].fileIdx==b&&g.push(f),f++);f=g.length;if(0!=f){0==e&&(c.checked=!1,checkAll());c=document.getElementById("file_list");a=c.getElementsByTagName("input");for(k=0;k<f;k++)a[g[k]].click(),0==a[g[k]].checked&&a[g[k]].click(),
0==a[g[k]].checked&&(a[g[k]].checked=!0,fileListSelection(a[g[k]]));g=c.getElementsByTagName("input").length;c=document.getElementById("chk_all_box");f=!0;for(k=0;k<g;k++)if(0==a[k].checked){f=!1;break}c.checked=f}}}}K__+="367";
function setUnselectFileEx(b){var e=RESULTFILELIST.length;if(0<e){for(var c=0,a=[],f=0;f<e;f++)"y"!=RESULTFILELIST[f].isDelete&&("y"==RESULTFILELIST[f].isWebFile&&RESULTFILELIST[f].fileIdx==b&&a.push(c),c++);b=a.length;if(0!=b)for(e=document.getElementById("file_list").getElementsByTagName("input"),f=0;f<b;f++)1==e[a[f]].checked&&(e[a[f]].checked=!1,fileListNoneSelection(e[a[f]]))}}
function createImgPreViewPopup(){var b=KUPLOADTOP.G_CURRKUPLOADER._config,e="",c=document.createElement("div");parseInt(b.imgPreViewHeight);c.id="RAON_K_UP_Popup_Mode";c.style.width=b.imgPreViewWidth;c.style.height=b.imgPreViewHeight;c.style.display="none";e+=createImgPreviewDivHtml(KUPLOADTOP.G_CURRKUPLOADER);c.innerHTML=e;b=getDialogDocument();b.body.appendChild(c);c=b.getElementById("RAON_K_UP_close_btn2");KUPLOADTOP.RAONKUPLOAD.util.addEvent(c,"click",function(){closeBtnPreViewMode()})}
function showImgPreViewPopup(b,e,c){b=getDialogDocument();var a=b.getElementById("RAON_K_UP_Popup_Mode");null==a&&(createImgPreViewPopup(),a=b.getElementById("RAON_K_UP_Popup_Mode"));var f=parseInt(KUPLOADTOP.G_CURRKUPLOADER._config.imgPreViewWidth)-6,g=parseInt(KUPLOADTOP.G_CURRKUPLOADER._config.imgPreViewHeight)-6-16;if("html4"==c){var k=a.getElementsByTagName("span")[0];k.innerHTML="";a.getElementsByTagName("em");c=e.fileExt;b=!1;for(var l=KUPLOADTOP.G_CURRKUPLOADER.thumbsImgExtArr,n=l.length,
q=0;q<n;q++)if(c==l[q]){b=!0;break}var p=new Image;p.onload=function(){if(0!=p.width&&0!=p.height){var b=Math.min(f/p.width,g/p.height),c=0;1>b?(newWidth=Math.round(p.width*b),newHeight=Math.round(p.height*b)):(newWidth=p.width,newHeight=p.height);newHeight<g&&(c=(g-newHeight)/2);p.width=newWidth;p.height=newHeight;p.style.width=newWidth+"px";p.style.height=newHeight+"px";0<c&&(p.style.marginTop=c+"px");setPositionPreviewPopup(a)}};p.onerror=function(){closeBtnPreViewMode()};b?(p.src="y"==e.isWebFile&&
""!=e.webPath?e.webPath:e.localPath,k.appendChild(p)):closeBtnPreViewMode()}else{k=a.getElementsByTagName("span")[0];k.innerHTML="";a.getElementsByTagName("em");var t=KUPLOADTOP.G_CURRKUPLOADER.commonToolCanvas,u;try{u=t.getContext("2d")}catch(v){}p=new Image;p.setAttribute("k_ext",e.fileExt);p.onload=function(){if(0!=p.width&&0!=p.height){var b=0,c,l;l=Math.min(f/p.width,g/p.height);1>l?(c=Math.round(p.width*l),l=Math.round(p.height*l)):(c=p.width,l=p.height);t.width=c;t.height=l;l<g&&(b=(g-l)/2);
var n,q;if("y"!=e.isWebFile&&"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager){try{(window.URL||window.webkitURL||window).revokeObjectURL(this.src)}catch(v){}u.drawImage(p,0,0,c,l);n=p.getAttribute("k_ext");q="image/jpeg";!n||"png"!=n&&"gif"!=n||(q="image/png");q=t.toDataURL(q,.7)}else q=p.src;p.setAttribute("raonk_thumbs","true");p.src="";n=new Image;n.style.width=c+"px";n.style.height=l+"px";0<b&&(n.style.marginTop=b+"px");k.appendChild(n);n.src=q;insertAndRemoveDummySpan();setPositionPreviewPopup(a)}};
p.onerror=function(a){null==p.getAttribute("raonk_thumbs")&&closeBtnPreViewMode()};"y"==e.isWebFile?""!=e.webPath?p.src=e.webPath:closeBtnPreViewMode():"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager?(c=KUPLOADTOP.RAONKSolution.managerFinalUrl+"/"+encodeURIComponent(e.localPath),p.src=c):-1<e.file.type.indexOf("image")?(c=(window.URL||window.webkitURL||window).createObjectURL(e.file),p.src=c):closeBtnPreViewMode()}}T[30]="t ";
function setPositionPreviewPopup(b){var e=getDialogWindow();getDialogDocument();var c=KUPLOADTOP.RAONKUPLOAD.util.getClientRect(KUPLOADTOP.KUPLOADDOC.getElementById("raonkuploader_holder_"+KUPLOADTOP.G_CURRKUPLOADER.ID));b.style.zIndex=KUPLOADTOP.G_CURRKUPLOADER._config.zIndex+4E3;b.style.display="";makeDragPopup(b,"imgPreview");var a=0,f=0;if(null!=KUPLOADTOP.G_CURRKUPLOADER.dialogWindow)for(var g=window.parent;g!=e;)var k=KUPLOADTOP.RAONKUPLOAD.util.getClientRect(g.frameElement),a=a+k.left,f=f+
k.top,g=g.parent;if(-1==G_PreviewDialogPosition.top&&-1==G_PreviewDialogPosition.left){var g=parseInt(b.style.width),k=parseInt(b.style.height),l={},l=getWindowClientSize(e),n={},n=getWindowScrollPos(e),q=e=0;k>=c.top+f&&(e=k-c.top+10);parseInt(c.right-c.left)+a>=l[0]&&(q=g+c.left+10);b.style.left=n[0]+(parseInt(c.right)-g)-q+a+"px";b.style.top=n[1]+e+(c.top-k)+1+f+"px"}else b.style.left=parseInt(G_PreviewDialogPosition.left,10)-5,b.style.top=parseInt(G_PreviewDialogPosition.top)-5}Z[26]="a";
K__+="45";SIL[4]="a";function setFileCustomValue(b,e){for(var c=RESULTFILELIST.length,a=0,f=0,g=0;g<c;g++)if("y"!=RESULTFILELIST[g].isDelete){if(-1!=b&&a==b){RESULTFILELIST[g].customValue=e;break}a++}else f++;-1==b&&(RESULTFILELIST[a-1+f].customValue=e)}Z[27]="s";T[31]="u";
function setAllowOrLimitExtension(b,e){if("0"==b||"1"==b){KUPLOADTOP.G_CURRKUPLOADER._config.extension.allowOrLimit=b;if(0<e.length)if(-1<e.indexOf("|")){var c=KUPLOADTOP.RAONKUPLOAD.util.getExtStringFromExtEx(e);KUPLOADTOP.G_CURRKUPLOADER._config.extension.extArr=c.split(",")}else KUPLOADTOP.G_CURRKUPLOADER._config.extension.extArr=e.toLowerCase().split(","),KUPLOADTOP.G_CURRKUPLOADER._config.extension.extToString=KUPLOADTOP.G_CURRKUPLOADER._config.extension.extArr.toString();else KUPLOADTOP.G_CURRKUPLOADER._config.extension.extArr=
[];c=document.getElementById("file_"+KUPLOADTOP.G_CURRKUPLOADER.TagID);if("1"==b){var a=KUPLOADTOP.RAONKUPLOAD.util.getMimeFilter(KUPLOADTOP.G_CURRKUPLOADER._config.extension.extArr.toString());KUPLOADTOP.G_CURRKUPLOADER._config.extension.mimeAccept=a;c&&(c.accept=a)}else c&&(c.accept="")}}G_AP1[0]=8;R[28]="p";C1[28]="s";C2[28]="a";S1[28]="sp";S2[28]="a";G_AP1[1]=6;
function getFileObjectList(){for(var b=[],e=RESULTFILELIST.length,c=0;c<e;c++)"n"==RESULTFILELIST[c].isWebFile&&b.push({file:RESULTFILELIST[c].localPath});return b}Z[28]="p";K__+="+";T[32]="s.";C1[29]="p";C2[29]="s";S2[29]="sp";K__+="/";
function directDownload(b){var e=reOrganizeDownloadWebPathUrl(b)[0].webPath;b=document.createElement("form");b.target="download_frame";b.action=e;b.method="get";if(-1<e.indexOf("?"))for(var e=e.split("?")[1].split("&"),c=e.length,a=0;a<c;a++){var f=e[a].split("="),g=document.createElement("input");g.type="hidden";g.name=f[0];g.value=decodeURIComponent(f[1]);b.appendChild(g)}KUPLOADTOP.RAONKUPLOAD.util.setCSRFHiddenInput(b,KUPLOADTOP.G_CURRKUPLOADER._config.addCSRFToken,document);document.body.appendChild(b);
b.submit();document.body.removeChild(b)}C2[30]="p";
function downloadProgress(b,e){adjustUploadFileListScroll(upload_complete_count,upload_complete_count,TOTALUPLOADNUM);var c=getDialogDocument();c.getElementById("RAON_K_UP_upload_count").innerHTML=upload_complete_count+1+"/"+TOTALUPLOADNUM;var a=parseInt(b/e*100,10);"1"==KUPLOADTOP.G_CURRKUPLOADER._config.allowedZeroFileSize&&0==e&&(a=100);c.getElementById("RAON_K_UP_uploadFileProgress_"+upload_complete_count).style.width=a+"%";c.getElementById("RAON_K_UP_current_upload_progress_bar").style.width=a+
"%";50>a?c.getElementById("RAON_K_UP_uploadFilePercent_"+upload_complete_count).style.color="#000000":c.getElementById("RAON_K_UP_uploadFilePercent_"+upload_complete_count).style.color="";c.getElementById("RAON_K_UP_uploadFilePercent_"+upload_complete_count).innerHTML=a+"%";c.getElementById("RAON_K_UP_uploadFileSize_"+upload_complete_count).innerHTML=KUPLOADTOP.RAONKUPLOAD.util.bytesToSize(e).toString;PREVIOUSUPLOADEDSIZE=b==e?G_PreUploadedSizeForOnprogress+=b:G_PreUploadedSizeForOnprogress+b;try{var f=
KUPLOADTOP.RAONKUPLOAD.util.getInterValue(e),g=KUPLOADTOP.G_CURRKUPLOADER.beforeDownloadedSize;KUPLOADTOP.G_CURRKUPLOADER.beforeDownloadedSize=PREVIOUSUPLOADEDSIZE;var k=PREVIOUSUPLOADEDSIZE-g;0>k?k=0:(k/=1*f/1E3,k=parseInt(k,10))}catch(l){}a=0;a="1"==KUPLOADTOP.G_CURRKUPLOADER._config.allowedZeroFileSize&&0==TOTALUPLOADSIZE?100:parseInt(1*PREVIOUSUPLOADEDSIZE/TOTALUPLOADSIZE*100,10);c.getElementById("RAON_K_UP_total_upload_percent").innerHTML=a+"%";c.getElementById("RAON_K_UP_total_upload_progress_bar").style.width=
a+"%";c.getElementById("RAON_K_UP_upload_size").innerHTML=KUPLOADTOP.RAONKUPLOAD.util.bytesToSize(PREVIOUSUPLOADEDSIZE).toString+"/"+KUPLOADTOP.RAONKUPLOAD.util.bytesToSize(TOTALUPLOADSIZE).toString;null==KUPLOADTOP.G_CURRKUPLOADER.processTimeInterval?KUPLOADTOP.G_CURRKUPLOADER.processTimeInterval=setInterval(function(){"none"==c.getElementById("RAON_K_UP_ly_wrapper").style.display?clearInterval(KUPLOADTOP.G_CURRKUPLOADER.processTimeInterval):c.getElementById("RAON_K_UP_process_time").innerHTML=++KUPLOADTOP.G_CURRKUPLOADER.processTime+
RAONKUpload_Lang.upload_timeunit.sec},1E3):100==a&&(clearInterval(KUPLOADTOP.G_CURRKUPLOADER.processTimeInterval),KUPLOADTOP.G_CURRKUPLOADER.processTimeInterval=null,KUPLOADTOP.G_CURRKUPLOADER.processTime=0);f=(new Date).getTime()/1E3-G_UploadStartTime;0==f?(a=KUPLOADTOP.RAONKUPLOAD.util.bytesToSize(PREVIOUSUPLOADEDSIZE).toString,c.getElementById("RAON_K_UP_upload_speed").innerHTML=a+"/"+RAONKUpload_Lang.upload_timeunit.sec,c.getElementById("RAON_K_UP_upload_remainingtime").innerHTML="-"):(a=KUPLOADTOP.RAONKUPLOAD.util.bytesToSize(PREVIOUSUPLOADEDSIZE/
f).toString,c.getElementById("RAON_K_UP_upload_speed").innerHTML=a+"/"+RAONKUpload_Lang.upload_timeunit.sec,f=f/PREVIOUSUPLOADEDSIZE*(TOTALUPLOADSIZE-PREVIOUSUPLOADEDSIZE),f=Math.ceil(f),f=viewTime(f),c.getElementById("RAON_K_UP_upload_remainingtime").innerHTML=f);"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring&&(a?(f=KUPLOADTOP.RAONKUPLOAD.util.getUnit(a),f=KUPLOADTOP.RAONKUPLOAD.util.getUnitSize(f),G_KUPlugin.kmonitoring.transferSpeed.avgSpeed=Math.floor(parseFloat(a)*f)):G_KUPlugin.kmonitoring.transferSpeed.avgSpeed=
0,G_KUPlugin.kmonitoring.transferSpeed.recentSpeed=k)}
function downloadMultiProgress(b,e){adjustUploadFileListScroll(upload_complete_count,upload_complete_count,TOTALUPLOADNUM);var c=getDialogDocument();c.getElementById("RAON_K_UP_current_upload_progress_bar").style.width="100%";c.getElementById("RAON_K_UP_current_upload_progress_bar").style.backgroundColor="#E57545";c.getElementById("RAON_K_UP_uploadFileProgress_"+(upload_complete_count-1)).style.width="100%";c.getElementById("RAON_K_UP_uploadFileProgress_"+(upload_complete_count-1)).style.backgroundColor=
"#E57545";c.getElementById("RAON_K_UP_uploadFileSize_"+(upload_complete_count-1)).innerHTML="";"C"==e?c.getElementById("RAON_K_UP_uploadFilePercent_"+(upload_complete_count-1)).innerHTML=RAONKUpload_Lang.upload_status.cancel:c.getElementById("RAON_K_UP_uploadFilePercent_"+(upload_complete_count-1)).innerHTML=RAONKUpload_Lang.upload_status.fail;PREVIOUSUPLOADEDSIZE=G_PreUploadedSizeForOnprogress+=b;var a=0,a="1"==KUPLOADTOP.G_CURRKUPLOADER._config.allowedZeroFileSize&&0==TOTALUPLOADSIZE?100:parseInt(1*
PREVIOUSUPLOADEDSIZE/TOTALUPLOADSIZE*100,10);c.getElementById("RAON_K_UP_total_upload_percent").innerHTML=a+"%";c.getElementById("RAON_K_UP_total_upload_progress_bar").style.width=a+"%";c.getElementById("RAON_K_UP_upload_size").innerHTML=KUPLOADTOP.RAONKUPLOAD.util.bytesToSize(PREVIOUSUPLOADEDSIZE).toString+"/"+KUPLOADTOP.RAONKUPLOAD.util.bytesToSize(TOTALUPLOADSIZE).toString;a=(new Date).getTime()/1E3-G_UploadStartTime;if(0==a){var f=KUPLOADTOP.RAONKUPLOAD.util.bytesToSize(PREVIOUSUPLOADEDSIZE).toString;
c.getElementById("RAON_K_UP_upload_speed").innerHTML=f+"/"+RAONKUpload_Lang.upload_timeunit.sec;c.getElementById("RAON_K_UP_upload_remainingtime").innerHTML="-"}else f=KUPLOADTOP.RAONKUPLOAD.util.bytesToSize(PREVIOUSUPLOADEDSIZE/a).toString,c.getElementById("RAON_K_UP_upload_speed").innerHTML=f+"/"+RAONKUpload_Lang.upload_timeunit.sec,a=a/PREVIOUSUPLOADEDSIZE*(TOTALUPLOADSIZE-PREVIOUSUPLOADEDSIZE),a=Math.ceil(a),a=viewTime(a),c.getElementById("RAON_K_UP_upload_remainingtime").innerHTML=a}
var _L__={_K:_R_O_+K__,DE:function(b){var e="",c,a,f,g,k,l=0;for(b=b.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<b.length;)c=this._K.indexOf(b.charAt(l++)),a=this._K.indexOf(b.charAt(l++)),g=this._K.indexOf(b.charAt(l++)),k=this._K.indexOf(b.charAt(l++)),c=c<<2|a>>4,a=(a&15)<<4|g>>2,f=(g&3)<<6|k,e+=String.fromCharCode(c),64!=g&&(e+=String.fromCharCode(a)),64!=k&&(e+=String.fromCharCode(f));return e=_L__._utf8_d(e)},_utf8_d:function(b){for(var e="",c=0,a=c1=c2=0;c<b.length;)a=b.charCodeAt(c),128>a?(e+=String.fromCharCode(a),
c++):191<a&&224>a?(c2=b.charCodeAt(c+1),e+=String.fromCharCode((a&31)<<6|c2&63),c+=2):(c2=b.charCodeAt(c+1),c3=b.charCodeAt(c+2),e+=String.fromCharCode((a&15)<<12|(c2&63)<<6|c3&63),c+=3);return e}};
function reLoadStatusBar(b){var e=document.getElementById("basic_file_info").parentNode,c;c="";"0"==b.statusBarShowLimit&&(c+="display: none;");c=""+('<li id="basic_file_info" class="basic_file_info" style="'+c+'">');if("upload"==b.mode){if("0"==b.useKManager&&"html4"==b.userRunTimeMode)0<b.maxTotalFileCount&&(c+=RAONKUpload_Lang.file_maximum+" ");else if(0<b.maxTotalFileCount||0<b.maxTotalFileSize)c+=RAONKUpload_Lang.file_maximum+" ";0<b.maxTotalFileCount&&(c+="<span>"+b.maxTotalFileCount+"</span> "+
RAONKUpload_Lang.file_unit+" ");if("0"!=b.useKManager||"html4"!=b.userRunTimeMode)if(0<b.maxTotalFileSize){var a=RAONKUpload_Lang.file_maximum_limit,a=a.replace("{0}","<span>"+KUPLOADTOP.RAONKUPLOAD.util.bytesToSize(b.maxTotalFileSize).toString+"</span>");c+=a}else c+=RAONKUpload_Lang.file_no_limit}a="";"0"==b.statusBarShowStatus&&(a+="display: none;");c=c+"</li>"+('<li class="contents_file_info" id="current_file_info" style="'+a+'">');c+='<span id="total_num">'+getTotalFileCount()+"</span> "+RAONKUpload_Lang.file_unit;
if("0"!=b.useKManager||"html4"!=b.userRunTimeMode||"upload"!=b.mode)c+=', <span id="total_size">'+KUPLOADTOP.RAONKUPLOAD.util.bytesToSize(getTotalFileSize()).toString+"</span>";c+=' <span id="file_inserted_text">';"upload"==b.mode&&(c+=RAONKUpload_Lang.file_inserted);c+="</span>";c+="</li>";e.innerHTML=c}
function getSelectedFileCount(){var b=0,e=document.getElementById("file_list").getElementsByTagName("input"),c=e.length;if(0==c)b=-1;else for(var a=0;a<c;a++)(e[a].getAttribute("raonk_select")&&"1"==e[a].getAttribute("raonk_select")||e[a].checked)&&b++;return b}
function getSelectedFileSize(){var b=0,e=document.getElementById("file_list").getElementsByTagName("input"),c=e.length;if(0!=c)for(var a=0;a<c;a++)if(e[a].getAttribute("raonk_select")&&"1"==e[a].getAttribute("raonk_select")||e[a].checked)realIdx=e[a].getAttribute("listvalue"),null!=realIdx&&void 0!=realIdx&&null!=RESULTFILELIST[realIdx].fileSize&&void 0!=RESULTFILELIST[realIdx].fileSize&&""!=RESULTFILELIST[realIdx].fileSize&&(b+=parseInt(RESULTFILELIST[realIdx].fileSize,10));return b}
function saveAndOpenEx(b,e){if(b){var c=KUPLOADTOP.G_CURRKUPLOADER.ID,a=getUploaderFromEvent(b);c!=a.ID&&(KUPLOADTOP.G_CURRKUPLOADER=a)}if(("upload"!=KUPLOADTOP.G_CURRKUPLOADER._config.mode||0!=!!e)&&"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager){if("0"==KUPLOADTOP.G_CURRKUPLOADER._config.disableAlertMessage.openUnchosen){c=getSelectedFileCount();if(-1==c){alert(RAONKUpload_Lang.message_file_notexist);return}if(0==c){alert(RAONKUpload_Lang.message_file_unchosen);return}}var c=document.getElementById("file_list").getElementsByTagName("input"),
a=c.length,f=-1;if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.saveAndOpenMulti){for(var g=document.getElementById("chk_all_box"),k=[],l=[],n=0;n<a;n++){var q=c[n].getAttribute("raonk_select");q&&"1"==q?k.push(n):c[n].checked&&k.push(n)}q=k.length;for(n=0;n<a;n++)for(var p=0;p<q;p++)n==k[p]&&(f=c[k[p]].getAttribute("listvalue"),null!=f&&void 0!=f&&"y"==RESULTFILELIST[f].isWebFile&&"n"==RESULTFILELIST[f].isDelete&&""!=RESULTFILELIST[f].originName?(l.push(f),c[k[p]].checked=!0,fileListNoneSelection(c[k[p]])):
(c[n].checked=!1,fileListNoneSelection(c[n]),g.checked=!1));-1!=f&&(c=reOrganizeDownloadWebPathUrl(l),excuteManagerDownloadOrOpen(void 0,c,3))}else{k=g=!1;p=l=-1;for(n=0;n<a;n++)if((q=c[n].getAttribute("raonk_select"))&&"1"==q){g=!0;l=n;break}else c[n].checked&&(k=!0,-1==p&&(p=n));if(g)for(n=0;n<a;n++)l==n&&(f=c[n].getAttribute("listvalue"),null!=f&&void 0!=f&&"n"==RESULTFILELIST[f].isWebFile||"y"==RESULTFILELIST[f].isDelete)&&(f=-1);else if(k)for(n=0;n<a;n++)if(c[n].checked){if(f=c[n].getAttribute("listvalue"),
null!=f&&void 0!=f&&"n"==RESULTFILELIST[f].isWebFile||"y"==RESULTFILELIST[f].isDelete)c[n].checked=!1,f=-1}else c[n].checked=!1;-1!=f&&(c=reOrganizeDownloadWebPathUrl([f]),excuteManagerDownloadOrOpen(void 0,c,3))}}}
function saveAndFolderOpenEx(b,e){if(b){var c=KUPLOADTOP.G_CURRKUPLOADER.ID,a=getUploaderFromEvent(b);c!=a.ID&&(KUPLOADTOP.G_CURRKUPLOADER=a)}if(("upload"!=KUPLOADTOP.G_CURRKUPLOADER._config.mode||0!=!!e)&&"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager){if("0"==KUPLOADTOP.G_CURRKUPLOADER._config.disableAlertMessage.openUnchosen){c=getSelectedFileCount();if(-1==c){alert(RAONKUpload_Lang.message_file_notexist);return}if(0==c){alert(RAONKUpload_Lang.message_file_unchosen);return}}for(var c=document.getElementById("file_list").getElementsByTagName("input"),
a=c.length,f=[],g=[],k=0;k<a;k++){var l=c[k].getAttribute("raonk_select");l&&"1"==l?f.push(k):c[k].checked&&f.push(k)}l=f.length;for(k=0;k<a;k++)for(var n=0;n<l;n++)if(k==f[n]){var q=c[f[n]].getAttribute("listvalue");null!=q&&void 0!=q&&"y"==RESULTFILELIST[q].isWebFile&&"n"==RESULTFILELIST[q].isDelete&&""!=RESULTFILELIST[q].originName?(g.push(RESULTFILELIST[q]),c[f[n]].checked=!0,fileListNoneSelection(c[f[n]])):(c[k].checked=!1,fileListNoneSelection(c[k]),document.getElementById("chk_all_box").checked=
!1)}0<g.length&&(g=reOrganizeDownloadWebPathUrl(f),excuteManagerDownloadOrOpen(void 0,g,4))}}
function printFileEx(b,e){if(b){var c=KUPLOADTOP.G_CURRKUPLOADER.ID,a=getUploaderFromEvent(b);c!=a.ID&&(KUPLOADTOP.G_CURRKUPLOADER=a)}if(("upload"!=KUPLOADTOP.G_CURRKUPLOADER._config.mode||0!=!!e)&&"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager){if("0"==KUPLOADTOP.G_CURRKUPLOADER._config.disableAlertMessage.openUnchosen){c=getSelectedFileCount();if(-1==c){alert(RAONKUpload_Lang.message_file_notexist);return}if(0==c){alert(RAONKUpload_Lang.message_file_unchosen);return}}var c=document.getElementById("file_list").getElementsByTagName("input"),
a=c.length,f=-1;if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.printMulti){for(var g=document.getElementById("chk_all_box"),k=[],l=[],n=0;n<a;n++){var q=c[n].getAttribute("raonk_select");q&&"1"==q?k.push(n):c[n].checked&&k.push(n)}q=k.length;for(n=0;n<a;n++)for(var p=0;p<q;p++)n==k[p]&&(f=c[k[p]].getAttribute("listvalue"),null!=f&&void 0!=f&&"y"==RESULTFILELIST[f].isWebFile&&"n"==RESULTFILELIST[f].isDelete&&""!=RESULTFILELIST[f].originName?(l.push(f),c[k[p]].checked=!0,fileListNoneSelection(c[k[p]])):
(c[n].checked=!1,fileListNoneSelection(c[n]),g.checked=!1));-1!=f&&(c=reOrganizeDownloadWebPathUrl(l),excuteManagerDownloadOrOpen(void 0,c,1))}else{k=g=!1;p=l=-1;for(n=0;n<a;n++)if((q=c[n].getAttribute("raonk_select"))&&"1"==q){g=!0;l=n;break}else c[n].checked&&(k=!0,-1==p&&(p=n));if(g)for(n=0;n<a;n++)l==n&&(f=c[n].getAttribute("listvalue"),null!=f&&void 0!=f&&"n"==RESULTFILELIST[f].isWebFile||"y"==RESULTFILELIST[f].isDelete)&&(f=-1);else if(k)for(n=0;n<a;n++)if(c[n].checked){if(f=c[n].getAttribute("listvalue"),
null!=f&&void 0!=f&&"n"==RESULTFILELIST[f].isWebFile||"y"==RESULTFILELIST[f].isDelete)c[n].checked=!1,f=-1}else c[n].checked=!1;-1!=f&&(reOrganizeDownloadWebPathUrl([f]),c=[RESULTFILELIST[f]],excuteManagerDownloadOrOpen(void 0,c,1))}}}function downloadZipfile(b,e){if(b){var c=KUPLOADTOP.G_CURRKUPLOADER.ID,a=getUploaderFromEvent(b);c!=a.ID&&(KUPLOADTOP.G_CURRKUPLOADER=a)}}G_AP1[3]=7;
function downloadAllZipfile(b,e){if(b){var c=KUPLOADTOP.G_CURRKUPLOADER.ID,a=getUploaderFromEvent(b);c!=a.ID&&(KUPLOADTOP.G_CURRKUPLOADER=a)}}
function setLargeFileAllList(){if("1"!=KUPLOADTOP.G_CURRKUPLOADER._config.useVirtualList&&("0"!=KUPLOADTOP.G_CURRKUPLOADER._config.useKManager||"html4"!=KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode)&&0<KUPLOADTOP.G_CURRKUPLOADER._config.largeFiles.markBaseTotalSize){var b=0,e=KUPLOADTOP.RAONKUPLOAD.GetListInfoByIndex("json",-1,KUPLOADTOP.G_CURRKUPLOADER.ID);if(e)for(var c=e.size.length,a=0;a<c;a++){var f=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(e.size[a]),b=b+f;b>=KUPLOADTOP.G_CURRKUPLOADER._config.largeFiles.markBaseTotalSize?
setLargeFile(a,!0):0<KUPLOADTOP.G_CURRKUPLOADER._config.largeFiles.markSize?isLargeFiles(f)?setLargeFile(a,!0):setLargeFile(a,!1):setLargeFile(a,!1)}}}
function setLargeFile(b,e){var c=document.getElementById("file_list").getElementsByTagName("input"),a=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(c[b].getAttribute("listvalue")),c=c[b].parentNode.nextSibling;if(e){var f=c.getElementsByTagName("span");if(1==f.length){f=document.createElement("span");f.className="larger_fsize raonk_"+KUPLOADTOP.G_CURRKUPLOADER._config.lang;""!=KUPLOADTOP.G_CURRKUPLOADER._config.largeFiles.color&&(f.style.color=KUPLOADTOP.G_CURRKUPLOADER._config.largeFiles.color,f.style.borderColor=
KUPLOADTOP.G_CURRKUPLOADER._config.largeFiles.color);var g="",g=""==KUPLOADTOP.G_CURRKUPLOADER._config.largeFiles.text?RAONKUpload_Lang.large_files:KUPLOADTOP.G_CURRKUPLOADER._config.largeFiles.text;f.title=g;f.innerHTML=g;g=0;if(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemWidth)for(var k=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemWidth.length,l=0;l<k;l++)g+=parseInt(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemWidth[l],10);f.style.right="0"==KUPLOADTOP.G_CURRKUPLOADER._config.sizeColumnWidth?
g+5+"px":g+109+"px";c.appendChild(f)}RESULTFILELIST[a].largeFile="1"}else f=c.getElementsByTagName("span"),2==f.length&&c.removeChild(f[1]),RESULTFILELIST[a].largeFile="0"}function isSettingLargFile(){var b=!1;if(0<KUPLOADTOP.G_CURRKUPLOADER._config.largeFiles.markSize||0<KUPLOADTOP.G_CURRKUPLOADER._config.largeFiles.markBaseTotalSize||"1"==KUPLOADTOP.G_CURRKUPLOADER._config.largeFiles.customMode)b=!0;return b}
function changeImageQuality(){var b=G_ChnageImageArr.length;G_changeCount=0;var e="",e=KUPLOADTOP.RAONKUPLOAD.ReleaseVer;"1"==KUPLOADTOP.G_CURRKUPLOADER._config.cacheProtectMode&&(e=(new Date).getTime());for(var e=KUPLOADTOP.RAONKUPLOAD.isRelease?KUPLOADTOP.G_CURRKUPLOADER._config.webPath.js+"raonkupload.image.process.min.js?ver="+e:KUPLOADTOP.G_CURRKUPLOADER._config.webPath.jsDev+"raonkupload.image.process.js?ver="+e,c=KUPLOADTOP.G_CURRKUPLOADER._config.imageQuality.quality,a=KUPLOADTOP.G_CURRKUPLOADER._config.imageQuality.workerCount,
f=b>=a?a:b,g=0;g<f;g++){var k=new Worker(e);k.onmessage=function(c){c=c.data;switch(c.type){case "complete":var e=c.sendData;c=e.workerIdx;var f=e.fileIdx,e=e.newBlob;RESULTFILELIST[f].file=e;var g=RESULTFILELIST[f].originName;if("jpg"!=getExtension(g)&&"jpeg"!=getExtension(g)){var k=g.lastIndexOf("."),g=g.substring(0,k)+".jpg";RESULTFILELIST[f].originName=g}RESULTFILELIST[f].file.name=g;RESULTFILELIST[f].fileSize=e.size;RESULTFILELIST[f].completeImgQualityPrc=!0;e=document.getElementById("file_list").getElementsByTagName("input");
g=e.length;for(j=0;j<g;j++)if(e[j].getAttribute("listvalue")&&e[j].getAttribute("listvalue")==f.toString()){e[j].parentNode.parentNode.childNodes[2].firstChild.innerHTML=KUPLOADTOP.RAONKUPLOAD.util.bytesToSize(RESULTFILELIST[f].fileSize).toString;break}calcTotalSize();displayTotalSizeAndNum();G_changeCount++;"1"==KUPLOADTOP.G_CURRKUPLOADER._config.imageQuality.processingWindow?(f=getDialogDocument(),f.getElementById("quality_processing")&&(e=parseInt(G_changeCount/b*100,10),f.getElementById("quality_processing").innerHTML=
e+"%")):document.getElementById("quality_processing")&&(e=parseInt(G_changeCount/b*100,10),document.getElementById("quality_processing").innerHTML=e+"%");G_changeCount==b?changeImageQualityComplete():(f=G_changeCount+a,G_ChnageImageArr[f-1]&&q(c,G_ChnageImageArr[f-1]));break;case "error":e=c.sendData,c=e.workerIdx,f=e.fileIdx,RESULTFILELIST[f].completeImgQualityPrc=!0,G_changeCount++,"1"==KUPLOADTOP.G_CURRKUPLOADER._config.imageQuality.processingWindow?(f=getDialogDocument(),f.getElementById("quality_processing")&&
(e=parseInt(G_changeCount/b*100,10),f.getElementById("quality_processing").innerHTML=e+"%")):document.getElementById("quality_processing")&&(e=parseInt(G_changeCount/b*100,10),document.getElementById("quality_processing").innerHTML=e+"%"),G_changeCount==b?changeImageQualityComplete():(f=G_changeCount+a,G_ChnageImageArr[f-1]&&q(c,G_ChnageImageArr[f-1]))}};G_ImageWorkerArr.push(k)}for(var l=document.getElementById("imageCanvas"),n=l.getContext("2d"),q=function(e,f){return function(e,f){var g=RESULTFILELIST[f].file,
k=new Image;k.onload=function(){try{(window.URL||window.webkitURL||window).revokeObjectURL(this.src)}catch(a){}try{l.width=k.width;l.height=k.height;n.drawImage(k,0,0);var b=l.toDataURL("image/jpeg",c);k.setAttribute("raonk_thumbs","true");delete k;try{n.clearRect(0,0,l.width,l.height),n.beginPath()}catch(p){}var q=65636;q>g.size&&(q=g.size);var t;t=g.mozSlice?g.mozSlice(0,q):g.webkitSlice?g.webkitSlice(0,q):g.slice(0,q);var y=new FileReader;y.onload=function(a){t=null;a=new Uint8Array(a.target.result);
a=[].slice.call(a);G_ImageWorkerArr[e].postMessage({type:"start",sendData:{workerIdx:e,fildIdx:f,listObj:RESULTFILELIST[f],imageOriginalData:a,imageNewData:b}});y=void 0};y.readAsArrayBuffer(t)}catch(C){}};k.onerror=function(c){null==c.target.getAttribute("raonk_thumbs")&&(G_changeCount++,RESULTFILELIST[f].completeImgQualityPrc=!0,G_changeCount==b?changeImageQualityComplete():(c=G_changeCount+a,G_ChnageImageArr[c-1]&&q(e,G_ChnageImageArr[c-1])))};try{var p=(window.URL||window.webkitURL||window).createObjectURL(RESULTFILELIST[f].file);
k.src=p}catch(t){G_changeCount++,RESULTFILELIST[f].completeImgQualityPrc=!0,G_changeCount==b?changeImageQualityComplete():(p=G_changeCount+a,G_ChnageImageArr[p-1]&&q(e,G_ChnageImageArr[p-1]))}}}(),g=0;g<f;g++)q(g,G_ChnageImageArr[g])}
function changeImageQualityWithoutWorker(){var b=G_ChnageImageArr.length;G_changeCount=0;var e=KUPLOADTOP.G_CURRKUPLOADER._config.imageQuality.quality,c=document.getElementById("imageCanvas"),a=c.getContext("2d"),f=0,g=function(k){return function(k){var n=RESULTFILELIST[k].file,q=new Image;q.onload=function(){try{(window.URL||window.webkitURL||window).revokeObjectURL(this.src)}catch(p){}c.width=q.width;c.height=q.height;a.drawImage(q,0,0);var t=c.toDataURL("image/jpeg",e);q.setAttribute("raonk_thumbs",
"true");delete q;var x=65636;x>n.size&&(x=n.size);var w;w=n.mozSlice?n.mozSlice(0,x):n.webkitSlice?n.webkitSlice(0,x):n.slice(0,x);var y=new FileReader;y.onload=function(a){w=null;a=new Uint8Array(a.target.result);a=[].slice.call(a);if(t=ExifRestorer.restore2(a,t)){0>t.indexOf("data:image/jpeg;base64,")&&(t="data:image/jpeg;base64,"+t);a=KUPLOADTOP.RAONKUPLOAD.util.dataURItoBlob(t);RESULTFILELIST[k].file=a;var c=RESULTFILELIST[k].originName;if("jpg"!=getExtension(c)&&"jpeg"!=getExtension(c)){var e=
c.lastIndexOf("."),c=c.substring(0,e)+".jpg";RESULTFILELIST[k].originName=c}RESULTFILELIST[k].file.name=c;RESULTFILELIST[k].file.name=RESULTFILELIST[k].originName;RESULTFILELIST[k].fileSize=a.size;RESULTFILELIST[k].completeImgQualityPrc=!0;G_changeCount++;document.getElementById("quality_processing")&&(a=parseInt(G_changeCount/b*100,10),document.getElementById("quality_processing").innerHTML=a+"%");a=document.getElementById("file_list").getElementsByTagName("input");c=a.length;for(j=0;j<c;j++)if(a[j].getAttribute("listvalue")&&
a[j].getAttribute("listvalue")==k.toString()){a[j].parentNode.parentNode.childNodes[2].firstChild.innerHTML=KUPLOADTOP.RAONKUPLOAD.util.bytesToSize(RESULTFILELIST[k].fileSize).toString;break}}else RESULTFILELIST[k].completeImgQualityPrc=!0,G_changeCount++,document.getElementById("quality_processing")&&(a=parseInt(G_changeCount/b*100,10),document.getElementById("quality_processing").innerHTML=a+"%");G_changeCount==b?changeImageQualityComplete():(f++,g(G_ChnageImageArr[f]));y=void 0};y.readAsArrayBuffer(w)};
q.onerror=function(a){null==a.target.getAttribute("raonk_thumbs")&&(G_changeCount++,RESULTFILELIST[k].completeImgQualityPrc=!0,G_changeCount==b?changeImageQualityComplete():(a=G_changeCount+1,G_ChnageImageArr[a-1]&&g(G_ChnageImageArr[a-1])))};try{var p=(window.URL||window.webkitURL||window).createObjectURL(RESULTFILELIST[k].file);q.src=p}catch(t){G_changeCount++,RESULTFILELIST[k].completeImgQualityPrc=!0,G_changeCount==b&&changeImageQualityComplete()}}}(G_ChnageImageArr[f]);g(G_ChnageImageArr[f])}
function changeImageQualityComplete(){calcTotalSize();displayTotalSizeAndNum();for(var b=0;b<G_ImageWorkerArr.length;b++)G_ImageWorkerArr[b]&&G_ImageWorkerArr[b].terminate();G_changeCount=0;G_ImageWorkerArr=[];G_CompleteImageQuality=!0}
function excuteManagerDownloadOrOpen(b,e,c){var a=KUPLOADTOP.G_CURRKUPLOADER._config,f=e.length,g=[];0==c?KUPLOADTOP.G_CURRKUPLOADER.lastCmd="open":1==c?KUPLOADTOP.G_CURRKUPLOADER.lastCmd="print":2!=c&&(3==c?KUPLOADTOP.G_CURRKUPLOADER.lastCmd="downloadAndOpen":4==c&&(KUPLOADTOP.G_CURRKUPLOADER.lastCmd="downloadAndFolderOpen"));if(0==c||1==c){if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useOpenEvent)for(var k="",l="",n="",q="",p="0",t=!0,u=0;u<f;u++){var l=e[u].fileIdx,n=e[u].originName,q=e[u].webPath,
k="y"==e[u].isWebFile?"1":"0",p=isLargeFiles(e[u].fileSize)?"1":"0",v="0";u==f-1&&(v="1");try{var x=this.event,w=null;if(null!=x&&void 0!=x){var y=x.target?x.target:x.srcElement,C="",C="span"!=y.nodeName.toLowerCase()&&"button"!=y.nodeName.toLowerCase()?y.children[0]:y;if(null!=C&&void 0!=C)for(var r=C.parentElement.parentElement.childNodes.length,A=0;A<r;A++)C.parentElement==C.parentElement.parentElement.children[A]&&(w=A)}var G={strIsWebFile:k,strKey:l,strName:n,strPath:q,strIsLargeFile:p,strIsLast:v,
strCmd:KUPLOADTOP.G_CURRKUPLOADER.lastCmd,colIndex:w},t="function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.beforeOpenFile?KUPLOADTOP.G_CURRKUPLOADER._config.event.beforeOpenFile(KUPLOADTOP.G_CURRKUPLOADER.ID,G):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_BeforeOpenFile(KUPLOADTOP.G_CURRKUPLOADER.ID,G)}catch(E){}if(!1===t)return}}else if("1"==a.useDownloadEvent)for(k="1",q=n=l="",p="0",t=!0,u=0;u<f;u++){l=e[u].fileIdx;n=e[u].originName;q=e[u].webPath;p=isLargeFiles(e[u].fileSize)?"1":"0";v="0";u==f-
1&&(v="1");try{G={strIsWebFile:k,strKey:l,strName:n,strPath:q,strIsLargeFile:p,strIsLast:v,strCmd:KUPLOADTOP.G_CURRKUPLOADER.lastCmd},t="function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.beforeDownloadFile?KUPLOADTOP.G_CURRKUPLOADER._config.event.beforeDownloadFile(KUPLOADTOP.G_CURRKUPLOADER.ID,G):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_BeforeDownloadFile(KUPLOADTOP.G_CURRKUPLOADER.ID,G)}catch(D){}if(!1===t)return}var B="";b?B=b:(B=a.handlerUrl,""!=a.downloadHandlerUrl&&(B=a.downloadHandlerUrl));
var z=a.agentEventType;"1"!=z||"1"!=a.useAfterDownloadEvent||"function"!=typeof KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_DownloadCompleteFile&&"function"!=typeof a.event.downloadCompleteFile||(z="0");b=[["kcmd","KC21"]];b.push(["s00",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.agentTransferType)]);b.push(["kp1",KUPLOADTOP.G_CURRKUPLOADER.dllVersion]);b.push(["kp2",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(z)]);"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useSWorkConnect&&null!=KUPLOADTOP.G_CURRKUPLOADER._config.sworkInfo&&
null!=KUPLOADTOP.G_CURRKUPLOADER._config.sworkInfo.K256Key&&""!=KUPLOADTOP.G_CURRKUPLOADER._config.sworkInfo.K256Key&&b.push(["s10","1"+KUPLOADTOP.RAONKSolution.Agent.formfeed+KUPLOADTOP.G_CURRKUPLOADER._config.sworkInfo.K256Key]);b.push(["k00",{browser:KUPLOADTOP.RAONKUPLOAD.UserAgent.browser.name.toLowerCase(),useragent:encodeURIComponent(KUPLOADTOP.navigator.userAgent)}]);b.push(["k04",encodeURIComponent(B)]);a.security.handlerKey&&""!=a.security.handlerKey&&b.push(["k041",a.security.handlerKey]);
b.push(["k05",a.security.keyValue]);""!=a.agentTempRootDirectory&&b.push(["k08",encodeURIComponent(a.agentTempRootDirectory)]);b.push(["k10",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.folderSelectDialogType)]);b.push(["k11",encodeURIComponent(a.fileOpenDialogTitle)]);b.push(["k12",encodeURIComponent(a.fileSaveDialogTitle)]);u=a.folderSelectDialogTitle;""!=a.folderSelectDialogButtonName&&(u+=KUPLOADTOP.RAONKSolution.Agent.formfeed+a.folderSelectDialogButtonName);b.push(["k13",encodeURIComponent(u)]);
b.push(["k14",encodeURIComponent(a.messageTitle)]);b.push(["k15",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.useAgentLog)]);b.push(["k16",a.managerLang]);b.push(["k17",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.useScriptEventControl)]);"1"==a.useLogoImage.use&&b.push(["k18",encodeURIComponent(a.useLogoImage.logoPath+"|"+a.useLogoImage.logoVer)]);b.push(["k22",encodeURIComponent(a.defaultDownloadPath)]);b.push(["k23",encodeURIComponent(a.savePathSetting)]);b.push(["k24",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.highSpeed)]);
b.push(["k25",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.resumeDownload)]);b.push(["k26",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.automaticConnection)]);b.push(["k27",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.timeout)]);b.push(["k28",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.agentBandwidth)]);b.push(["k29",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.forceOverwrite)]);b.push(["k31",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.agentMultiDownloadCount)]);b.push(["k32",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.agentCompressBufferSize)]);
b.push(["k33",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.agentIntelligentCompressValue)]);b.push(["k34",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.agentAutoDecompression)]);b.push(["k35",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.skipInternetState)]);b.push(["k36",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.uploadTransferWindow.hideDownloadedPath)]);b.push(["k40",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.security.fileExtensionDetector)]);b.push(["k41",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.security.encryptParam)]);
b.push(["k42",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(""!=KUPLOADTOP.G_CURRKUPLOADER._config.security.fileIntegrityDownload?KUPLOADTOP.G_CURRKUPLOADER._config.security.fileIntegrityDownload:KUPLOADTOP.G_CURRKUPLOADER._config.security.fileIntegrity)]);b.push(["k43",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.security.fileEncrypt)]);b.push(["k44",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.security.deleteOpenFile)]);b.push(["k45",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.useCompressTransfer)]);b.push(["k46",
KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.useHashExtract)]);u=a.customHeaderColor;A=a.customFooterColor;k=a.customProgressBarColor;l=a.customTextColor;""==u&&""==A&&""==k&&""==l&&(l=getManagerColorValue(a.skinName),u=l.c1,A=l.c2,k=l.c3,l=l.c4);b.push(["k47",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.disableChunkDownload)]);n="0";"2018.0.0.34"<=KUPLOADTOP.G_CURRKUPLOADER.dllVersion&&"0"==KUPLOADTOP.G_CURRKUPLOADER._config.transferOpenFile&&(n="1");b.push(["k48",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(n)]);
b.push(["k49",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.useBrowserUseragent)]);b.push(["k50",{cr1:u,cr2:A,cr3:k,cr4:l}]);b.push(["k51",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.managerDownloadWindowMode)]);b.push(["k52",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.silentDownload)]);b.push(["k53",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.uploadTransferWindow.view)]);b.push(["k54",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.managerShowItemCount)]);b.push(["k57",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.useSingleDownloadDialog)]);
b.push(["k58",c]);b.push(["k59",a.uploadTransferWindow.buttonType]);b.push(["k60",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.useKMonitoring)]);u=a.useWorkingImg;A=u.use.slice(0);k=u.useOnce.slice(0);A=parseInt(A.reverse().join(""),2)+parseInt(k.reverse().join("")+"0000",2);b.push(["k61",A]);b.push(["k62",encodeURIComponent(u.caption.join(KUPLOADTOP.RAONKSolution.Agent.formfeed))]);b.push(["k63",encodeURIComponent(u.image.join(KUPLOADTOP.RAONKSolution.Agent.formfeed))]);a.useFormDataInRangeInfo&&b.push(["k66",
KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.useFormDataInRangeInfo)]);k={};"0"!=a.useDownloadCache&&(k.downloadcache=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.useDownloadCache));"0"==a.kMonitorSkipCachedBandwidth&&(k.skipcachedbandwidth=0);"1"==a.enableAdminLog&&(k.enableadminlog=1);""!=a.useWirelessMode&&(k.applywirelessmode=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.useWirelessMode));1==a.agentDownloadMethod&&(k.downbypost=a.agentDownloadMethod);"1"==a.useLocalFileDownload&&("1"==a.showConfirmLocalFileDownload&&
(k.localcopy_noconfirm=0),"1"==a.autoRenameLocalFileDownload&&(k.localcopy_autorenameifexist=8),"0"==a.showProgressLocalFileDownload&&(k.localcopy_hiddenui=4));"0"!=a.downloadSkipCheckWithFileSize&&(k.skipcheckwithfilesize=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.downloadSkipCheckWithFileSize));"0"!=a.preCheckFileExistInDownload&&(k.precheck_fileexist=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.preCheckFileExistInDownload));"0"!=a.uploadTransferWindow.viewFilesInFolder&&(k.listview_onlyfile=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.uploadTransferWindow.viewFilesInFolder));
"0"!=a.reportFailedList&&(k.report_failedlist=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.reportFailedList));"0"!=a.disablePreEndRequest&&(k.disable_preend_request=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.disablePreEndRequest));"0"!=a.disableMultiTransferSync&&(k.disable_preend_request_order=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.disableMultiTransferSync));"0"!=a.openExecuteFileOption&&(k.executefile_option=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.openExecuteFileOption));u=[];n=G_FormData.length;
for(A=0;A<n;A++)l={form:encodeURIComponent(G_FormData[A].form_name+"="+G_FormData[A].form_value)},u.push(l);b.push(["k70",u]);b.push(["k71",getHttpHeaderAgentData(KUPLOADTOP.G_CURRKUPLOADER)]);u=getSessionKeepData(KUPLOADTOP.G_CURRKUPLOADER,"download");0<u.length&&b.push(["k88",u]);(u=getKMonitorData(KUPLOADTOP.G_CURRKUPLOADER))&&b.push(["k89",u]);u={};"1"==a.useZipDownload&&1<f&&(u.UseZipDownload=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.useZipDownload),u.ZipFileName=encodeURIComponent(a.zipFileName));
for(data in u){b.push(["k90",u]);break}(null!=a.cloudInfo&&null!=a.cloudInfo.K256Key||null!=a.cloudInfo&&null!=a.cloudInfo.Use&&"2"==a.cloudInfo.Use)&&b.push(["k200",a.cloudInfo]);b.push(["kevent",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.agentEventMethod)]);b.push(["ka1",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.agentAdmin.chunkSize)]);b.push(["ka2",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.agentAdmin.requestCount)]);b.push(["ka3",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.agentAdmin.multiTransferCount)]);
u=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.agentAdmin.internetOpenType);2==u&&(u=4);b.push(["ka4",u]);u=a.agentAdmin.bufferSize;""!=a.agentAdmin.bufferSizeDownload&&(u=a.agentAdmin.bufferSizeDownload);b.push(["ka5",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(u)]);b.push(["ka6",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.agentAdmin.timeout)]);u="";a.agentAdmin.downloadFileNameSuffix&&""!=a.agentAdmin.downloadFileNameSuffix&&"0"==a.resumeDownload&&(u=a.agentAdmin.downloadFileNameSuffix);b.push(["ka7",u]);
""!=a.agentAdmin.systemCode&&b.push(["ka10",a.agentAdmin.systemCode]);""!=a.agentAdmin.smartRequestSize&&b.push(["ka11",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.agentAdmin.smartRequestSize)]);"0"!=KUPLOADTOP.G_CURRKUPLOADER._config.autoRecoveryTransfer&&(KUPLOADTOP.G_CURRKUPLOADER.autoRecoveryDownloadList.fileListArr=[]);A="";for(u=0;u<f;u++)l=e[u],A+=l.originName+KUPLOADTOP.RAONKSolution.Agent.formfeed+l.webPath+KUPLOADTOP.RAONKSolution.Agent.formfeed+l.fileSize+KUPLOADTOP.RAONKSolution.Agent.formfeed,
n="0","n"==l.isWebFile&&(n="1"),"1"==a.useLocalFileDownload&&(n="1"),A+=n+KUPLOADTOP.RAONKSolution.Agent.formfeed+(1==a.directDownload?"1":"0")+KUPLOADTOP.RAONKSolution.Agent.formfeed,A+=l.customValue+KUPLOADTOP.RAONKSolution.Agent.formfeed,A+=l.bucketName,l.cacheKey&&0<l.cacheKey.length&&(A+=KUPLOADTOP.RAONKSolution.Agent.formfeed,A+=l.cacheKey,1==k.downloadcache&&(k.downloadcache=2)),A+=KUPLOADTOP.RAONKSolution.Agent.vertical,"0"!=KUPLOADTOP.G_CURRKUPLOADER._config.autoRecoveryTransfer&&(l={path:l.webPath,
size:l.fileSize,customValue:l.customValue},KUPLOADTOP.G_CURRKUPLOADER.autoRecoveryDownloadList.fileListArr.push(l));for(data in k){b.push(["k69",k]);break}""!=a.transferProcess&&b.push(["k98",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.transferProcess)]);A=A.substring(0,A.length-1);b.push(["k99",encodeURIComponent(A)]);a.openFolderApp&&""!=a.openFolderApp&&b.push(["ksec",a.openFolderApp]);f={};u=a.uploadTransferWindow.uiSetting;""!=u.width&&(f.WindowWidth=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(u.width));
""!=u.systemTitleDownload&&(f.SystemName=u.systemTitleDownload);""!=u.systemTitleFontFamily&&(f.FontName=u.systemTitleFontFamily);""!=u.systemTitleFontSize&&(f.FontSize=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(u.systemTitleFontSize));""!=u.systemTitleFontBold&&(f.FontBold=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(u.systemTitleFontBold));""!=u.userColor&&(f.UserColor=u.userColor);""!=a.uploadTransferWindow.hideDownloadedPath&&(f.HideDownloadPath=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a.uploadTransferWindow.hideDownloadedPath));
""!=u.fileListView&&(f.UseListView=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(u.fileListView));""!=u.fileListStatusAlign&&(f.ListViewAlign=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(u.fileListStatusAlign));""!=u.useSetting&&(f.UseSetting=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(u.useSetting));""!=u.speedText&&(f.SpeedText=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(u.speedText));""!=u.speedTextDesc&&(f.SpeedTextDesc=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(u.speedTextDesc));""!=u.viewTheme&&(f.ViewTheme=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(u.viewTheme));
b.push(["kui",f]);var H=setManagerParam("{}",b),H=KUPLOADTOP.RAONKSolution.Agent.makeEncryptManagerParam(H),F="";if(-1<KUPLOADTOP.RAONKUPLOAD.UserAgent.os.name.toLowerCase().indexOf("windows")||KUPLOADTOP.G_CURRKUPLOADER.isMultiOsAgentModule)f=[["kcmd","KE21"]],"1"==z&&(f.push(["kp2",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(z)]),(b=a.agentEventWaitTime)&&""!=b&&f.push(["kp3",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(b)])),F=setManagerParam("{}",f),F=KUPLOADTOP.RAONKSolution.Agent.makeEncryptManagerParam(F);
"0"!=a.autoRecoveryTransfer&&KUPLOADTOP.RAONKUPLOAD.util.saveJsonToLocalStorage(getRecoveryKey(KUPLOADTOP.G_CURRKUPLOADER,"download"),KUPLOADTOP.G_CURRKUPLOADER.autoRecoveryDownloadList);var I=KUPLOADTOP.RAONKUPLOAD.GetSelectedListInfo("array",KUPLOADTOP.G_CURRKUPLOADER.ID),J=function(a){a=KUPLOADTOP.RAONKSolution.Agent.parseRtn(a);var b=a.code;a=a.valueArr;var f=function(a,b){for(var c=getSelectedFileCount(),e="",f=a.length-1;0<=f;f--){var g=a[f].split(KUPLOADTOP.RAONKSolution.Agent.formfeed);if(1==
g.length&&0==g[0].indexOf("^")){e=g[0].substring(1);break}}for(f=1;f<=c;f++)if(g=a[f].split(KUPLOADTOP.RAONKSolution.Agent.formfeed),g[2]&&""!=g[2]){for(var k=b.webFile[g[0]].order,l=RESULTFILELIST.length,n=-1,p=0;p<l;p++)if("y"!=RESULTFILELIST[p].isDelete&&n++,n==k){k=p;break}RESULTFILELIST[k].transferId=e;RESULTFILELIST[k].fileId=g[2]}},k=function(a,b){for(var c=getSelectedFileCount(),e=1;e<=c;e++){var f=a[e].split(KUPLOADTOP.RAONKSolution.Agent.formfeed);if(f[2]&&""!=f[2]){for(var f=b.webFile[f[0]].order,
g=RESULTFILELIST.length,k=-1,l=0;l<g;l++)if("y"!=RESULTFILELIST[l].isDelete&&k++,k==f){f=l;break}RESULTFILELIST[f].transferId="";RESULTFILELIST[f].fileId=""}}};if(1E3==b)if("-1"==a[0]){if("0"!=KUPLOADTOP.G_CURRKUPLOADER._config.useCompressTransfer){b=""+("kc"+KUPLOADTOP.RAONKSolution.Agent.formfeed+"c24"+KUPLOADTOP.RAONKSolution.Agent.vertical);b=KUPLOADTOP.RAONKUPLOAD.util.makeEncryptParamFinal(b);B=-1<B.indexOf("?")?B+("&"+b.name+"="+b.value):B+("?"+b.name+"="+b.value);b=KUPLOADTOP.RAONKUPLOAD.ajax.createXMLHttpRequest();
b.open("GET",B,!0);KUPLOADTOP.RAONKUPLOAD.util.setXhrHttpHeader(b,KUPLOADTOP.G_CURRKUPLOADER.tempHttpHeaderObj,!0);try{b.send()}catch(l){}}try{f(a,I);if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useAfterDownloadEvent){var n={strType:"2"==c||"3"==c||"4"==c?"download":"open",nCount:KUPLOADTOP.G_CURRKUPLOADER.downloadedFileCount,strCmd:KUPLOADTOP.G_CURRKUPLOADER.lastCmd,arrFileList:g};KUPLOADTOP.G_CURRKUPLOADER.downloadedFileCount=0;"1"==z&&0==n.nCount&&(n.nCount=downloadFileCount);try{"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.downloadCompleteAllFile?
KUPLOADTOP.G_CURRKUPLOADER._config.event.downloadCompleteAllFile(KUPLOADTOP.G_CURRKUPLOADER.ID,n):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_DownloadCompleteAllFile(KUPLOADTOP.G_CURRKUPLOADER.ID,n)}catch(p){}}k(a,I)}catch(q){}"0"!=KUPLOADTOP.G_CURRKUPLOADER._config.autoRecoveryTransfer&&(KUPLOADTOP.G_CURRKUPLOADER.autoRecoveryDownloadList.fileListArr=[],KUPLOADTOP.localStorage.removeItem(getRecoveryKey(KUPLOADTOP.G_CURRKUPLOADER,"download")));displayCommonReady(!1,KUPLOADTOP.G_CURRKUPLOADER)}else{a=a[0].split(KUPLOADTOP.RAONKSolution.Agent.formfeed);
if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useAfterDownloadEvent){KUPLOADTOP.G_CURRKUPLOADER.downloadedFileCount++;try{var r=I.webFile[a[0]],n={strPath:r.uploadPath,strDownloadedPath:a[1],strType:"0"==a[2]?"download":"open",uniqKey:r.uniqKey,originalName:r.originalName,webPath:r.uploadPath,size:r.size,logicalPath:r.logicalPath,customValue:r.customValue,downloadedPath:a[1],type:"0"==a[2]?"download":"open",strCmd:KUPLOADTOP.G_CURRKUPLOADER.lastCmd};g.push(n);"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.downloadCompleteFile?
KUPLOADTOP.G_CURRKUPLOADER._config.event.downloadCompleteFile(KUPLOADTOP.G_CURRKUPLOADER.ID,n):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_DownloadCompleteFile(KUPLOADTOP.G_CURRKUPLOADER.ID,n)}catch(t){}}if("0"!=KUPLOADTOP.G_CURRKUPLOADER._config.autoRecoveryTransfer){n=KUPLOADTOP.G_CURRKUPLOADER.autoRecoveryDownloadList.fileListArr;f=n.length;for(b=0;b<f;b++)r=I.webFile[a[0]],n[b].path==r.uploadPath&&n[b].size==r.size&&n[b].customValue==r.customValue&&(n.splice(b,1),b--,f--);n=getRecoveryKey(KUPLOADTOP.G_CURRKUPLOADER,
"download");0==KUPLOADTOP.G_CURRKUPLOADER.autoRecoveryDownloadList.fileListArr.length?(KUPLOADTOP.G_CURRKUPLOADER.autoRecoveryDownloadList.fileListArr=[],KUPLOADTOP.localStorage.removeItem(n)):KUPLOADTOP.RAONKUPLOAD.util.saveJsonToLocalStorage(n,KUPLOADTOP.G_CURRKUPLOADER.autoRecoveryDownloadList)}var u=function(a){KUPLOADTOP.G_CURRKUPLOADER._config.sendToManagerType="2";sendMessageToAgent(F,J,null)};setTimeout(function(){sendMessageToAgent(F,J,u)},1)}else if(2E3==b){var w=r="",v=a[0];if("|"==v.substring(3,
4)){for(var v=v.split("|"),r=v[0],x=v.length,b=1;b<x;b++)w+=v[b],b!=x-1&&(w+="|");v=w}else r="111",w=v;x=0;if(a[1])for(var y=a.length,C="",b=1;b<y;b++){var A=a[b].split(KUPLOADTOP.RAONKSolution.Agent.formfeed);A[1]?("1"==A[1]?e[A[0]].status="started":"2"==A[1]&&(e[A[0]].status="complete",x++),A[2]&&(e[A[0]].fileId=A[2])):1==A.length&&(A=A[0],0==A.indexOf("^")&&(C=A.substring(1)))}b=getDownloadedFileListObj({transferId:C});if(v&&0==v.toLowerCase().indexOf("cancel")){a=KUPLOADTOP.G_CURRKUPLOADER._config.autoRecoveryTransfer;
"0"!=a&&"2"!=a&&(KUPLOADTOP.G_CURRKUPLOADER.autoRecoveryDownloadList.fileListArr=[],KUPLOADTOP.localStorage.removeItem(getRecoveryKey(KUPLOADTOP.G_CURRKUPLOADER,"download")));try{n={strType:"2"==c||"3"==c||"4"==c?"download":"open",strCode:"",strMessage:"",arrDownloadedFileList:b},"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.downloadCancel?KUPLOADTOP.G_CURRKUPLOADER._config.event.downloadCancel(KUPLOADTOP.G_CURRKUPLOADER.ID,n):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_DownloadCancel(KUPLOADTOP.G_CURRKUPLOADER.ID,
n)}catch(D){}try{fileListReset()}catch(E){}}else if(v){f(a,I);if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useAfterDownloadEvent){n={strType:"2"==c||"3"==c||"4"==c?"download":"open",nCount:KUPLOADTOP.G_CURRKUPLOADER.downloadedFileCount,strCmd:KUPLOADTOP.G_CURRKUPLOADER.lastCmd,arrFileList:g};KUPLOADTOP.G_CURRKUPLOADER.downloadedFileCount=0;"1"==z&&0==n.nCount&&(n.nCount=x);try{"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.downloadCompleteAllFile?KUPLOADTOP.G_CURRKUPLOADER._config.event.downloadCompleteAllFile(KUPLOADTOP.G_CURRKUPLOADER.ID,
n):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_DownloadCompleteAllFile(KUPLOADTOP.G_CURRKUPLOADER.ID,n)}catch(G){}}k(a,I);try{if(n={strType:"2"==c||"3"==c||"4"==c?"download":"open",strCode:r,strMessage:w,arrDownloadedFileList:b},"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.onError)KUPLOADTOP.G_CURRKUPLOADER._config.event.onError(KUPLOADTOP.G_CURRKUPLOADER.ID,n);else"function"!==typeof KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError?0==KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.reportFailedList)&&
alert("Error Code : "+n.strCode+"\nError Message : "+n.strMessage):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError(KUPLOADTOP.G_CURRKUPLOADER.ID,n)}catch(H){}try{fileListReset()}catch(K){}}displayCommonReady(!1,KUPLOADTOP.G_CURRKUPLOADER)}else 2001==b&&sendMessageToAgent(F,J,L,!0)},L=function(a){KUPLOADTOP.G_CURRKUPLOADER._config.sendToManagerType="2";sendMessageToAgent(F,J,null,!0)};if(0==KUPLOADTOP.G_CURRKUPLOADER.isManagerDataSended){var K=KUPLOADTOP.G_CURRKUPLOADER;K.isManagerDataSended=!0;setTimeout(function(){K.isManagerDataSended=
!1},500);"0"==KUPLOADTOP.G_CURRKUPLOADER._config.managerDownloadWindowMode&&displayCommonReady(!0,KUPLOADTOP.G_CURRKUPLOADER);""!=F?(sendMessageToAgent(F,J,L,!0),setTimeout(function(){K.timeForErrorCheck=(new Date).getTime();sendMessageToAgent(H,null,function(a){a=(new Date).getTime()-K.timeForErrorCheck;a=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a/1E3);30>a&&(KUPLOADTOP.G_CURRKUPLOADER._config.sendToManagerType="2",sendMessageToAgent(H,null,null,!0))},!0)},5)):setTimeout(function(){K.timeForErrorCheck=
(new Date).getTime();sendMessageToAgent(H,J,function(a){a=(new Date).getTime()-K.timeForErrorCheck;a=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(a/1E3);30>a&&(KUPLOADTOP.G_CURRKUPLOADER._config.sendToManagerType="2",sendMessageToAgent(H,J,null,!0))},!0)},5)}}
function setManagerParam(b,e){var c=b;e.push(["kid",KUPLOADTOP.G_CURRKUPLOADER.managerId]);0==KUPLOADTOP.RAONKUPLOAD.browser.postMessageSupported&&(KUPLOADTOP.G_CURRKUPLOADER.agentCallGuid=KUPLOADTOP.RAONKUPLOAD.util.makeGuid("raonk_"),KUPLOADTOP.G_CURRKUPLOADER.agentCallGuidArr.push(KUPLOADTOP.G_CURRKUPLOADER.agentCallGuid),e.push(["k100",KUPLOADTOP.G_CURRKUPLOADER.agentCallGuid]),null!=KUPLOADTOP.G_CURRKUPLOADER._config.cookieWindow?e.push(["k101",encodeURIComponent(KUPLOADTOP.G_CURRKUPLOADER._config.cookieWindow.location)]):
e.push(["k101",encodeURIComponent(___)]));for(var c=JSON.parse(b),a=e.length,f=0;f<a;f++)c[e[f][0]]=e[f][1];return c=JSON.stringify(c)}
function requestManagerInstall(b,e){var c=e.createElement("iframe");c.name="download_frame";c.id="download_frame";c.style.display="none";e.body.appendChild(c);c=e.createElement("form");c.target="download_frame";c.action=b.KUPLOADTOP.G_CURRKUPLOADER._config.agentInstallFileUrl;KUPLOADTOP.RAONKUPLOAD.util.setCSRFHiddenInput(c,b.KUPLOADTOP.G_CURRKUPLOADER._config.addCSRFToken,e);e.body.appendChild(c);c.submit();e.body.removeChild(c)}
function getDialogWindow(){var b=KUPLOADTOP.window;null!=KUPLOADTOP.G_CURRKUPLOADER.dialogWindow&&(b=KUPLOADTOP.G_CURRKUPLOADER.dialogWindow);return b}function getDialogDocument(){var b=KUPLOADTOP.window.document;null!=KUPLOADTOP.G_CURRKUPLOADER.dialogWindow&&(b=KUPLOADTOP.G_CURRKUPLOADER.dialogWindow.document);return b}
function _layer_PasteEventMake(b){try{b&&(KUPLOADTOP.G_CURRKUPLOADER=getUploaderFromEvent(b));var e=getTotalFileCount(),c=KUPLOADTOP.G_CURRKUPLOADER._config.maxTotalFileCount;if(0==c||e<c)if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager){KUPLOADTOP.RAONKUPLOAD.util.cancelEvent(b);var a=setManagerParam("{}",[["kcmd","KC03"]]),a=KUPLOADTOP.RAONKSolution.Agent.makeEncryptManagerParam(a),f=function(b){b=KUPLOADTOP.RAONKSolution.Agent.parseRtn(b);var c=b.code;b=b.valueArr;if(1E3==c){for(var c=[],
e=b.length,k=0;k<e;k++)try{var l=b[k].split(KUPLOADTOP.RAONKSolution.Agent.formfeed),n={name:l[1].substring(l[1].lastIndexOf(KUPLOADTOP.RAONKUPLOAD.UserAgent.osSeparator)+1),type:"",uniqValue:"",isFolder:l[0],localPath:l[1],size:KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(l[2])};"1"==l[0]?(n.subFolderCount=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(l[3]),n.fileCount=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(l[4])):(n.lastModifiedDate=l[6],n.type=l[5]);c.push(n)}catch(p){}displayCommonReady(!1,KUPLOADTOP.G_CURRKUPLOADER);
fileHandler(c,"","")}else 2E3==c?displayCommonReady(!1,KUPLOADTOP.G_CURRKUPLOADER):2001==c&&sendMessageToAgent(a,f,g,!0)},g=function(b){KUPLOADTOP.G_CURRKUPLOADER._config.sendToManagerType="2";sendMessageToAgent(a,f,null,!1)};displayCommonReady(!0,KUPLOADTOP.G_CURRKUPLOADER);sendMessageToAgent(a,f,g,!0)}else{if("upload"==KUPLOADTOP.G_CURRKUPLOADER._config.mode)if(KUPLOADTOP.RAONKUPLOAD.browser.ie&&11<=KUPLOADTOP.RAONKUPLOAD.browser.ieVersion){var k=document.createElement("div");k.id="pasteDiv";k.innerHTML=
unescape("%uFEFF");k.style.position="absolute";k.style.filter="alpha(opacity=0)";k.style.overflow="hidden";k.style.left="-1000px";k.style.top="-1000px";k.style.width="0px";k.style.height="0px";k.contentEditable=!0;document.body.appendChild(k);k.focus()}else if(KUPLOADTOP.RAONKUPLOAD.browser.gecko){var l=document.createElement("iframe");l.id="pasteIframe";l.frameBorder=0;l.style.width="0px";l.style.height="0px";l.style.position="absolute";l.style.left="0px";l.style.top="0px";if(KUPLOADTOP.RAONKUPLOAD.browser.mobile||
KUPLOADTOP.RAONKUPLOAD.browser.iOS)l.style.overflow="hidden",l.style.display="inline-block";var n="document.open();"+(KUPLOADTOP.RAONKUPLOAD.browser.isCustomDomain(document)?'document.domain="'+document.domain+'";':"")+" document.close();",n=KUPLOADTOP.RAONKUPLOAD.browser.ie&&12>KUPLOADTOP.RAONKUPLOAD.browser.ieVersion?"javascript:void(function(){"+encodeURIComponent(n)+"}())":"";l.src=n;document.body.appendChild(l);var q=KUPLOADTOP.RAONKUPLOAD.util.getIframeDocument(l);q.open("text/html","replace");
KUPLOADTOP.RAONKUPLOAD.browser.isCustomDomain(document)&&(q.domain=document.domain);q.write('<body contenteditable="true">'+unescape("%uFEFF")+"</body>");q.close();q.body.contentEditable=!0;q.body.onpaste=_layer_PasteEvent;q.body.focus()}}else if("0"==KUPLOADTOP.G_CURRKUPLOADER._config.disableAlertMessage.fileMaxCountAdd){var p=RAONKUpload_Lang.message_limit_num,p=p.replace("{0}",c);alert(p)}}catch(t){}}
function _layer_PasteEvent(b){try{if("upload"==KUPLOADTOP.G_CURRKUPLOADER._config.mode){var e=document.createElement("canvas"),c=e.getContext("2d"),a=function(a){var b=new Image;b.onload=function(){e.width=b.width;e.height=b.height;c.drawImage(b,0,0);var a=e.toDataURL("image/jpeg",1),a=KUPLOADTOP.RAONKUPLOAD.util.dataURItoBlob(a);b=e=null;fileHandlerCopyPasteImage(a,"jpg")};b.src=a};if(KUPLOADTOP.RAONKUPLOAD.browser.ie||KUPLOADTOP.RAONKUPLOAD.browser.gecko)setTimeout(function(){var b=null,c=null;
if(KUPLOADTOP.RAONKUPLOAD.browser.ie)c=b=document.getElementById("pasteDiv");else if(KUPLOADTOP.RAONKUPLOAD.browser.gecko)try{var e=document.getElementById("pasteIframe");e&&(b=KUPLOADTOP.RAONKUPLOAD.util.getIframeDocument(e).body,c=e)}catch(f){b=null}if(b){b.blur();b=b.getElementsByTagName("img");e=b.length;if(0<e)for(var g=0;g<e;g++)a(b[g].src);c.parentNode.removeChild(c)}},0);else if(KUPLOADTOP.RAONKUPLOAD.browser.chrome||KUPLOADTOP.RAONKUPLOAD.browser.opera){var f=b.clipboardData.items,g=f.length;
for(b=0;b<g;++b){var k=f[b].getAsFile(),l=new FileReader;l.onload=function(b){a(b.target.result);l=void 0};l.readAsDataURL(k)}}}}catch(n){}}
function fileHandlerCopyPasteImage(b,e){if("upload"==KUPLOADTOP.G_CURRKUPLOADER._config.mode){var c=[],a=KUPLOADTOP.G_CURRKUPLOADER._config.maxTotalFileSize,f=KUPLOADTOP.G_CURRKUPLOADER._config.maxTotalFileCount,g=KUPLOADTOP.G_CURRKUPLOADER._config.maxOneFileSize,k=!0;if(null!=b&&0!=b.size){var l=KUPLOADTOP.G_CURRKUPLOADER.frameWin.getTotalFileCount(),n=0,q=[],p=0;calcTotalSize();var t=!1;0!=g&&b.size>g?p++:t=!0;var u=!1,v=KUPLOADTOP.G_CURRKUPLOADER._config.extension,x=v.extArr.length;if(0<x){var w=
v.allowOrLimit;if("1"==w){for(var y=0;y<x;y++)if(("***"==v.extArr[y]?"":v.extArr[y])==e){u=!0;break}u||q.push(""==e?'" "':e)}else for(y=0;y<x;y++)if(("***"==v.extArr[y]?"":v.extArr[y])==e){u=!1;q.push(""==e?'" "':e);break}else u=!0}else u=!0;y=TOTALFILELISTNUM;if(0!=f&&y+1>f)a=RAONKUpload_Lang.message_limit_num,a=a.replace("{0}",f),alert(a);else if(y=TOTALFILELISTSIZE,0!=a&&y+b.size>a)alert(RAONKUpload_Lang.file_maximum+" "+KUPLOADTOP.RAONKUPLOAD.util.bytesToSize(a).toString+RAONKUpload_Lang.message_limit_size);
else{a=!0;f=KUPLOADTOP.G_CURRKUPLOADER._config.largeFiles;if(isLargeFiles(b.size)){for(var x=RESULTFILELIST.length,C=v=0,y=0;y<x;y++)RESULTFILELIST[y].fileSize>=f.markSize&&"y"!=RESULTFILELIST[y].isDelete&&(v+=RESULTFILELIST[y].fileSize,C++);0<f.maxCount&&C+1>f.maxCount&&(a=RAONKUpload_Lang.message_large_files_count,y=""==f.text?RAONKUpload_Lang.large_files:f.text,a=a.replace("{0}",y),a=a.replace("{1}",f.maxCount),alert(a),a=!1);a&&0<f.maxTotalSize&&u&&t&&v+b.size>f.maxTotalSize&&(a=RAONKUpload_Lang.message_large_files_size,
y=""==f.text?RAONKUpload_Lang.large_files:f.text,a=a.replace("{0}",y),a=a.replace("{1}",KUPLOADTOP.RAONKUPLOAD.util.bytesToSize(f.maxTotalSize).toString),alert(a),a=!1)}y="image."+e;v=1;x=!1;C=RESULTFILELIST.length;do{x=!1;for(f=0;f<C;f++)if(RESULTFILELIST[f].originName==y){x=!0;break}x&&(y="image("+v+")."+e,v++)}while(x);f="";if(u&&t&&a){if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useAddEvent)try{var r={strName:y,nSize:b.size,nIndex:l+n,strFilePath:"",objFile:b,isFolder:!1,strPreviewUrl:""},A;A="function"==
typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.beforeAddFile?KUPLOADTOP.G_CURRKUPLOADER._config.event.beforeAddFile(KUPLOADTOP.G_CURRKUPLOADER.ID,r):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_BeforeAddFile(KUPLOADTOP.G_CURRKUPLOADER.ID,r);!1!==A?(k=!0,A&&A.customHeaderValue&&(f=A.customHeaderValue)):k=!1}catch(G){}if(k){k="";try{k=b.type}catch(E){}if(null==k||void 0==k||""==k)k="application/octet-stream";k={file:b,guid:"",fileIdx:"",webPath:"",originName:y,fileSize:b.size,uploadName:"",uploadPath:"",logicalPath:"",
status:"ready",fileExt:"",isDelete:"n",isWebFile:"n",localPath:"",customValue:"",responseCustomValue:"",headerEx:f,completeImgQualityPrc:!1,mimeType:k};RESULTFILELIST.push(k);addFileList(k);if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useAfterAddEvent)try{calcTotalSize(),r={strFileName:y,nFileSize:b.size,nAddItemIndex:l+n,strPath:"",objFile:b,isFolder:!1,strPreviewUrl:""},c.push(r),"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.afterAddFile?KUPLOADTOP.G_CURRKUPLOADER._config.event.afterAddFile(KUPLOADTOP.G_CURRKUPLOADER.ID,
r):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_AfterAddFile(KUPLOADTOP.G_CURRKUPLOADER.ID,r)}catch(D){}n++}}1==p?(l=RAONKUpload_Lang.message_limit_one_size,l=l.replace("{0}",KUPLOADTOP.RAONKUPLOAD.util.bytesToSize(g).toString),alert(l)):1<p&&(l=RAONKUpload_Lang.message_limit_one_sizes,l=l.replace("{0}",KUPLOADTOP.RAONKUPLOAD.util.bytesToSize(g).toString),l=l.replace("{1}",p),alert(l));g=q.length;if(0<g){p=KUPLOADTOP.G_CURRKUPLOADER._config.extension.extArr;l=p.length;for(f=0;f<l;f++)"***"==p[f]&&(p[f]='" "');
"1"==w?1<g?(a=RAONKUpload_Lang.message_not_allow_exts,a=a.replace("{0}",g),a=a.replace("{1}",p)):(a=RAONKUpload_Lang.message_not_allow_ext,a=a.replace("{0}",p),a=a.replace("{1}",q[0])):1<g?(a=RAONKUpload_Lang.message_not_limit_exts,a=a.replace("{0}",g),a=a.replace("{1}",p)):(a=RAONKUpload_Lang.message_not_limit_ext,a=a.replace("{0}",p),a=a.replace("{1}",q[0]));alert(a)}"1"==KUPLOADTOP.G_CURRKUPLOADER._config.use_file_sort&&"1"==KUPLOADTOP.G_CURRKUPLOADER._config.auto_sort&&sortTotalFileList(KUPLOADTOP.G_CURRKUPLOADER._config.sort_field,
KUPLOADTOP.G_CURRKUPLOADER._config.sort_ascdesc);fileListSortIconReset();calcTotalSize();displayTotalSizeAndNum();setFileListBorder();setListvalue();setLargeFileAllList();"thumbs"==KUPLOADTOP.G_CURRKUPLOADER._config.views&&thumbsViewWithCanvas();if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useAfterAddEndTimeEvent&&"0"==KUPLOADTOP.G_CURRKUPLOADER._config.security.fileExtensionDetector&&0<n)try{r={arrFileList:c},"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.afterAddAllFile?KUPLOADTOP.G_CURRKUPLOADER._config.event.afterAddAllFile(KUPLOADTOP.G_CURRKUPLOADER.ID,
r):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_AfterAddAllFile(KUPLOADTOP.G_CURRKUPLOADER.ID,r)}catch(B){}}}}}
function createTransferDivHtml(b,e){var c=b._config,a="",f="";"2"==c.silentUpload&&(f="display:none;");var g="",k="";"2"==c.uploadTransferWindow.view?g="329px":(k="RAON_K_UP_upload_popup_blue_02",g="1"==c.uploadTransferWindow.view?"235px":"126px");var l=!1,n=KUPLOADTOP.RAONKUPLOAD.UserAgent;(0==n.os.name.toLowerCase().indexOf("mac")||0==n.os.name.toLowerCase().indexOf("ios"))&&-1<n.browser.name.toLowerCase().indexOf("safari")&&(l=!0);n="";e&&(n="width:"+(e-2)+"px; ");a+='<div id="RAON_K_UP_ly_content" class="RAON_K_UP_upload_popup_'+
c.skinName+" "+k+'" style="'+n+"height:"+g+' !important">';a=a+'<div class="RAON_K_UP_ly_uploadbox">'+('<div class="popup_header raonk_'+c.lang+'" style="'+G_StrCustomProgressBarColor+"; "+G_StrCustomTextColor+'">');a+='<span id="RAON_K_UP_icon" class="icon_total_upload"></span>';a+='<span id="RAON_K_UP_total_upload_percent" class="total_upload_percent_new"></span><span class="bar_line">-</span>';a+='<span id="RAON_K_UP_current_upload_file_name" class="current_upload_file_name"></span>';a+='<div class="RAON_K_UP_btn_cls raonk_'+
c.lang+'" style="'+f+'"><button id="RAON_K_UP_close_btn" type="button" value="'+RAONKUpload_Lang.upload_close+'" class="raonk_'+c.lang+'">'+RAONKUpload_Lang.upload_close+"</button></div>";a+="</div>";a="0"==c.uploadTransferWindow.view?a+'<div class="RAON_K_UP_ly_statusbox_02 RAON_K_UP_ly_statusbox_02_light">':a+'<div class="RAON_K_UP_ly_statusbox_02">';a+='<p class="RAON_K_UP_progressbar">';f="";"ko-kr"==c.lang&&(f="letter-spacing:0px;");a+='<span class="tit raonk_'+c.lang+'" style="width:50px; '+
f+'">'+RAONKUpload_Lang.total_upload+"</span>";a+='<span class="pbar_02"><span id="RAON_K_UP_total_upload_progress_bar" style="width: 0%;'+G_StrCustomProgressBarColor+'" class="pbar_value"></span></span>';a+='<span class="tit raonk_ko-kr" style="width:50px; '+f;"1"!=c.uploadTransferWindow.view&&(a+='display:none;"');a+='">'+RAONKUpload_Lang.current_file+"</span>";a+='<span class="pbar_03" ';"1"!=c.uploadTransferWindow.view&&(a+='style="display:none;"');a+='><span class="pbar_value" id="RAON_K_UP_current_upload_progress_bar" style="width: 0%;"></span></span>';
a+="</p>";a+="</div>";a+='<span class="line" style="'+G_StrCustomHeaderColor2+'"><em class="blind"></em></span>';a="0"==c.uploadTransferWindow.view?a+'<div id="RAON_K_UP_div_status" class="tbl_status tbl_status_light">':a+'<div id="RAON_K_UP_div_status" class="tbl_status">';a+='<table class="raonk_'+c.lang+'" width="100%" summary="upload transfer window list" style="'+(0==l?"table-layout:fixed;":"")+' word-break:break-all; border:0px solid #000;">';a+="<caption>upload transfer window</caption>";a+=
"<colgroup>";"ko-kr"==c.lang?(a+='<col width="12%" />',a+='<col width="38%" />'):(a+='<col width="16%" />',a+='<col width="34%" />');var a=a+'<col width="16%" />',a=a+'<col width="34%" />',a=a+"</colgroup>",a=a+"<tbody>",a=a+"<tr>",q=n=k=g=f="";e&&(f='style="display:none;"',g='colspan="2" ',k='style="display:none;"',n='colspan="2" ',q="text-align:right;");var p="";KUPLOADTOP.RAONKUPLOAD.browser.ie&&7>=KUPLOADTOP.RAONKUPLOAD.browser.ieVersion&&(p="padding-left:5px;");a+='<th id="RAON_K_UP_upload_count_label" class="raonk_'+
c.lang+'" scope="row" '+f+">"+RAONKUpload_Lang.upload_file+"&nbsp;&nbsp;&nbsp;:</th>";a+="<td "+g+'style="border:0px solid #000; color:#000; '+(1==l?"width:148px;":"")+'" id="RAON_K_UP_upload_count" headers="RAON_K_UP_upload_count_label" class="raonk_'+c.lang+'">0/0</td>';a+='<th id="RAON_K_UP_upload_size_Label" class="raonk_'+c.lang+'" scope="row" '+k+">"+RAONKUpload_Lang.upload_size+"&nbsp;&nbsp;&nbsp;:</th>";a+="<td "+n+'style="'+q+p+"border:0px solid #000; color:#000; "+(1==l?"width:148px;":"")+
'" id="RAON_K_UP_upload_size" headers="RAON_K_UP_upload_size_Label" class="raonk_'+c.lang+'">'+("0"!=c.useKManager||"html4"!=c.userRunTimeMode?"0/0":"-")+"</td>";a+="</tr>";a+='<tr id="RAON_K_UP_upload_speed_tr" '+("0"==c.uploadTransferWindow.view?'style="display:none;"':"")+">";a+='<th id="RAON_K_UP_upload_speed_Lable" class="raonk_'+c.lang+'" scope="row">'+RAONKUpload_Lang.upload_speed+"&nbsp;&nbsp;&nbsp;:</th>";a+='<td style="border:0px solid #000; color:#000;" id="RAON_K_UP_upload_speed" headers="RAON_K_UP_upload_speed_Lable" class="raonk_'+
c.lang+'">-</td>';a+='<th id="RAON_K_UP_upload_remainingtime_Lable" class="raonk_'+c.lang+'" scope="row">'+RAONKUpload_Lang.upload_remainingtime+"&nbsp;&nbsp;&nbsp;:</th>";a+='<td style="border:0px solid #000; color:#000;'+p+'" id="RAON_K_UP_upload_remainingtime" headers="RAON_K_UP_upload_remainingtime_Lable" class="raonk_'+c.lang+'">-</td>';a+="</tr>";a+="</tbody>";a+="</table>";a+="</div>";a+='<div class="ly_uploadfile" ';"2"!=c.uploadTransferWindow.view&&(a+='style="display:none;"');a+=">";a+=
'<div class="uploadfile_h">';a+='<span class="fname">'+RAONKUpload_Lang.uploading.name+"</span>";a+='<span class="transfer_status">'+RAONKUpload_Lang.uploading.size+"</span>";a+='<span class="fprogress">'+RAONKUpload_Lang.uploading.status+"</span>";a+="</div>";a+='<div id="RAON_K_UP_uploadfile_lst" class="uploadfile_lst raonk_'+c.lang+'">';a+='<ul id="RAON_K_UP_uploading_file_list"></ul>';a+="</div>";a+="</div>";a+='<span class="line" ';if("0"==c.uploadTransferWindow.view||"2"==c.uploadTransferWindow.view)a+=
'style="display:none;"';a+='><em class="blind"></em></span>';a+='<ul class="icon_list" '+("0"==c.uploadTransferWindow.view?'style="display:none;"':"")+">";a+='<li><img src="'+c.webPath.image+'06_encryptparam.png" alt="'+RAONKUpload_Lang.security.hpe+'" title="'+RAONKUpload_Lang.security.hpe+'" /></li>';"1"==c.security.fileExtensionDetector&&(a+='<li><img src="'+c.webPath.image+'01_detect.png" alt="'+RAONKUpload_Lang.security.fed+'" title="'+RAONKUpload_Lang.security.fed+'" /></li>');"1"==(""!=c.security.fileIntegrityUpload?
c.security.fileIntegrityUpload:c.security.fileIntegrity)&&(a+='<li><img src="'+c.webPath.image+'02_integrity.png" alt="'+RAONKUpload_Lang.security.fdi+'" title="'+RAONKUpload_Lang.security.fdi+'" /></li>');if("1"==c.security.fileEncrypt||"2"==c.security.fileEncrypt)a+='<li><img src="'+c.webPath.image+'03_security.png" alt="'+RAONKUpload_Lang.security.fde+'" title="'+RAONKUpload_Lang.security.fde+'" /></li>';"https:"==location.protocol&&(a+='<li><img src="'+c.webPath.image+'04_https.png" alt="'+RAONKUpload_Lang.security.https+
'" title="'+RAONKUpload_Lang.security.https+'" /></li>');"0"!=c.useCompressTransfer&&c.workerSupported&&(a+='<li><img src="'+c.webPath.image+'05_zip.png" alt="'+RAONKUpload_Lang.security.fzip+'" title="'+RAONKUpload_Lang.security.fzip+'" /></li>');a+="</ul>";l="";"0"==c.uploadTransferWindow.view&&(l='style="display:none;"');a+='<span class="raonk_ko-kr raon_k_extraTable" '+l+'><span class="raonk_bold">'+RAONKUpload_Lang.upload_time+'&nbsp;&nbsp;&nbsp;:</span><span id="RAON_K_UP_process_time" class="raonk_td"></span></span>';
a+='<span class="line" ';"2"!=c.uploadTransferWindow.view&&(a+='style="display:none;"');a+='><em class="blind"></em></span>';a+='<div class="RAON_K_UP_uploadbox_btn" id="RAON_K_UP_uploadbox_btn">';"1"==c.useLogoImage.use&&(logoVer=c.useLogoImage.logoVer,logoUrl=c.useLogoImage.logoPath+"?version="+logoVer,a+='<span class="logo_area" style="background:url('+logoUrl+') no-repeat;"></span>');a=1==c.uploadTransferWindow.buttonType?a+('<button id="RAON_K_UP_upload_cancel" type="button" value="'+RAONKUpload_Lang.upload_cancel+
'" class="input_image2" style="'+G_StrCustomProgressBarColor+";"+G_StrCustomTextColor+'">'+RAONKUpload_Lang.upload_cancel+"</button>"):a+('<a id="RAON_K_UP_upload_cancel" href="javascript:;" style="float:right; margin:2px;"><img alt="'+RAONKUpload_Lang.upload_cancel+'" title="'+RAONKUpload_Lang.upload_cancel+'" src="'+c.webPath.image+'btn_cancel.png"></a>');a+="</div>";a+="</div>";return a+="</div>"}
function createImgPreviewDivHtml(b){b=b._config;var e=parseInt(b.imgPreViewHeight)-2+"px";b=""+('<div class="RAON_K_UP_upload_popup_'+b.skinName+'" style="height:'+e+'">');b+='<strong class="tit_mode">Image Preview</strong><span class="img_box"><em></em></span>';b+='<span class="btn_cls" id="RAON_K_UP_close_btn2">\ub2eb\uae30</span>';b+="</div>";e=KUPLOADTOP.RAONKUPLOAD.util.getDefaultIframeSrc();return b+='<iframe frameborder="0" scrolling="no" style="position:absolute;left:0;top:0;width:100%;height:100%;z-index:-1" src="'+
e+'" title="Image Preview"></iframe>'}function makeTransferHTML(b){var e=b._config,c="",c="2"==e.uploadTransferWindow.view?"331px":"1"==e.uploadTransferWindow.view?"237px":"128px",e="470px",a;try{if(KUPLOADTOP.RAONKUPLOAD.browser.mobile){var f=KUPLOADTOP.document.body.scrollWidth;470>f&&(a=f-4,e=a+"px")}}catch(g){}b=""+('<div id="RAON_K_UP_ly_wrapper" class="RAON_K_UP_ly_wrapper" style="width:'+e+"; height:"+c+'; display:none;">')+createTransferDivHtml(b,a);return b+="</div>"}
function makeImgPreViewHTML(b){var e="",c=b._config;parseInt(c.imgPreViewHeight);e+='<div id="RAON_K_UP_Popup_Mode" style="width:'+c.imgPreViewWidth+";height:"+c.imgPreViewHeight+';display:none">';e+=createImgPreviewDivHtml(b);return e+"</div>"}
function createResumeUploadConfirmDiv(b,e,c,a,f){var g=getExtension(b),k=getIconImagePath(g),l="",l=""==b?"display:none":"",n=getDialogWindow(),q=getDialogDocument(),p=q.createElement("div");p.setAttribute("id","resume_upload_background");var t="<div z-index:"+(KUPLOADTOP.G_CURRKUPLOADER._config.zIndex+3E3)+'; position:fixed; _position:absolute; left:0px; top:0px;overflow:hidden;width:100%;height:100%;"></div>',u=KUPLOADTOP.RAONKUPLOAD.util.getDefaultIframeSrc();p.innerHTML=t+('<iframe src="'+u+'" frameborder="0" scrolling="no" style="filter:alpha(opacity=0); opacity:0; -moz-opacity:0; -ms-filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=0); -khtml-opacity: 0; left: 0px; top: 0px; width: 100%; height: 100%; display: block; position: absolute; z-index: 2999;" title="Resume Upload Background"></iframe>');
q.body.appendChild(p);p="";t=document.createElement("div");t.id="RAON_K_UP_Popup_ResumeUpload_popup";t.className="RAON_K_UP_ly_wrapper raonk_"+KUPLOADTOP.G_CURRKUPLOADER._config.lang;t.style.width="470px";t.style.height="272px";t.style.zIndex=KUPLOADTOP.G_CURRKUPLOADER._config.zIndex+4E3;p=""+('<div id="RAON_K_UP_ly_content" class="RAON_K_UP_upload_popup_'+KUPLOADTOP.G_CURRKUPLOADER._config.skinName+'" style="height:270px; '+G_StrCustomProgressBarColor2+'">');p=p+'<div class="RAON_K_UP_ly_uploadbox">'+
('<div class="popup_header raonk_'+KUPLOADTOP.G_CURRKUPLOADER._config.lang+'" style="'+G_StrCustomProgressBarColor+" "+G_StrCustomTextColor+'"> ');p+='<span class="bar_line">'+RAONKUpload_Lang.resume_upload.title+"</span> ";p+="</div>";p+='<div class="RAON_K_UP_link_Popup_body"> <span class="text_info"> <b>"'+b+'"</b> '+RAONKUpload_Lang.resume_upload.message1+"<br>";p+=RAONKUpload_Lang.resume_upload.message2+"</span>";p+='<div class="RAON_K_UP_link_Popup_icon"> <img src="'+k+'" alt="'+g+'" style="'+
l+' width:16px;"></div>';p+='<div class="RAON_K_UP_link_Popup_info">';p+='<ul class="RAON_K_UP_link_Popup_info_list" style="padding:0 0 0 35px; margin:10px 0 0 0;">';p+="<li><span><b>"+RAONKUpload_Lang.resume_upload.message3+' <i class="colon">:</i></b></span> <b>'+KUPLOADTOP.RAONKUPLOAD.util.bytesToSize(e).toString+"</b></li>";p+="<li><span>"+RAONKUpload_Lang.resume_upload.message4+'</span> <i class="colon">:</i> '+c+"</li>";p+="<li><span>"+RAONKUpload_Lang.resume_upload.message5+'</span> <i class="colon">:</i> '+
KUPLOADTOP.RAONKUPLOAD.util.bytesToSize(a).toString+"</li>";p+='<li class="last"><span><b>'+RAONKUpload_Lang.resume_upload.message6+'</b></span> <i class="colon">:</i>';p+='<b class="color">'+KUPLOADTOP.RAONKUPLOAD.util.bytesToSize(f).toString+"</b>";p+="</li>";p+="</ul>";p+="</div>";p+="</div>";p+='<div class="line line2"><em class="blind"></em></div>';p+='<div class="RAON_K_UP_uploadbox_btn">';p+='<button id="RAON_K_UP_reUpload_btn" type="button" value="link_send" class="input_image2 input_image4" style="'+
G_StrCustomProgressBarColor+""+G_StrCustomTextColor+'">'+RAONKUpload_Lang.resume_upload.button2+"</button>";p+='<button id="RAON_K_UP_resumeUpload_btn" type="button" value="re_send" class="input_image2" style="'+G_StrCustomProgressBarColor+""+G_StrCustomTextColor+'">'+RAONKUpload_Lang.resume_upload.button1+"</button>";p+="</div>";p+="</div>";p+="</div>";t.innerHTML=p;q.body.appendChild(t);b={};b=getWindowClientSize(n);e={};e=getWindowScrollPos(n);n=q.getElementById("RAON_K_UP_Popup_ResumeUpload_popup");
c=parseInt(n.style.width,10);a=parseInt(n.style.height,10);n.style.left=e[0]+b[0]/2-c/2+"px";n.style.top=e[1]+b[1]/2-a/2+"px";makeDragPopup(n);n=q.getElementById("RAON_K_UP_resumeUpload_btn");KUPLOADTOP.RAONKUPLOAD.util.addEvent(n,"click",function(){KUPLOADTOP.G_CURRKUPLOADER.resumeUploadCheck=!0});n=q.getElementById("RAON_K_UP_reUpload_btn");KUPLOADTOP.RAONKUPLOAD.util.addEvent(n,"click",function(){KUPLOADTOP.G_CURRKUPLOADER.resumeUploadCheck=!1});q.getElementById("RAON_K_UP_ly_wrapper").style.opacity=
"0.3"}function setViewMessagePosition(){if(document.getElementById("file_temp_view")){var b=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(document.getElementById("RAON_K_UP_file_temp").style.height)/2;document.getElementById("file_temp_view").style.top=b-6+"px"}}function displayViewMessage(b){document.getElementById("file_temp_view")&&(b?document.getElementById("file_temp_view").style.display="":document.getElementById("file_temp_view").style.display="none")}
function getManagerColorValue(b){for(var e={c1:0,c2:0,c3:0,c4:0},c=1;3>=c;c++)e["c"+c]=KUPLOADTOP.RAONKUPLOAD.util.rgbToHex(G_ManagerColor[b]["c"+c]);e.c4="#ffffff";return e}
function sendManagerDataWithForm(b){if(document.getElementById(b.frameId))try{document.getElementById(b.frameId).parentNode.removeChild(document.getElementById(b.frameId))}catch(e){}var c=document.createElement("iframe");c.style.display="none";c.id=b.frameId;document.body.appendChild(c);var a=KUPLOADTOP.RAONKUPLOAD.util.getDefaultIframeSrc();c.src=a;var f=c.contentWindow.document,c=KUPLOADTOP.RAONKUPLOAD.util.getDocWindow(f),a='<!doctype html><html lang="ko">',a=a+"<head>";KUPLOADTOP.RAONKUPLOAD.browser.isCustomDomain(document)&&
(a+='<script> document.domain = "'+document.domain+'"; \x3c/script>');a+="</head>";a+="<body>";a+='<form id="send_form" target="response_frame" method="post" action="'+(b.url&&""!=b.url?b.url:KUPLOADTOP.RAONKSolution.managerFinalUrl)+'">';a+="</form>";a+='<iframe id="response_frame" name="response_frame"></iframe>';a+="</body>";a+="</html>";f.open("text/html","replace");f.write(a);f.close();a=f.createElement("input");a.type="hidden";a.name="k01";a.value=b.managerParamStr;f.getElementById("send_form").appendChild(a);
f.getElementById("send_form").submit();if(KUPLOADTOP.RAONKUPLOAD.browser.postMessageSupported){KUPLOADTOP.RAONKUPLOAD.util.addEvent(c,"message",function(a){a=KUPLOADTOP.RAONKUPLOAD.util.trim(a.data);if(""!=a){clearInterval(g);try{document.getElementById(b.frameId).parentNode.removeChild(document.getElementById(b.frameId))}catch(c){clearInterval(g)}b.fn_success&&b.fn_success(a)}});var g=null;if(b.fn_success)g=setInterval(function(){try{f.getElementById("response_frame").contentWindow.postMessage("",
"*")}catch(a){clearInterval(g)}},100);else try{var k=document.getElementById(b.frameId);setTimeout(function(){try{k.parentNode.removeChild(k)}catch(a){}},500)}catch(l){}}else{var c=b.currUpload?b.currUpload:KUPLOADTOP.G_CURRKUPLOADER,n={currUpload:c,currAgentGuid:c.agentCallGuid,fn_callback:b.fn_success,frameId:b.frameId},q=function(){var a=setManagerParam("{}",[["kcmd","KE22"]]),a=KUPLOADTOP.RAONKSolution.Agent.makeEncryptManagerParam(a);sendMessageToAgent(a,n.fn_callback,null,!0,n.currUpload.managerFinalUrl,
n.currUpload)};n.fn_callback&&(c.agentCallInterval[n.currAgentGuid]=function(a){return setInterval(function(){var b="",b=null!=a.currUpload._config.cookieWindow?a.currUpload._config.cookieWindow.document.cookie:KUPLOADTOP.KUPLOADWIN.document.cookie;if(-1<b.indexOf(a.currAgentGuid+"=")){clearInterval(a.currUpload.agentCallInterval[a.currAgentGuid]);var c=KUPLOADTOP.RAONKUPLOAD.util.trim(getCookieData(a.currAgentGuid));document.getElementById(a.frameId)&&document.getElementById(a.frameId).parentNode.removeChild(document.getElementById(a.frameId));
deleteCookieData(a.currAgentGuid);if(a.fn_callback){var b=c.substring(0,4),c=c.substring(5),e=KUPLOADTOP.RAONKSolution.Agent.decryptManagerParam(c);a.currUpload.isCookiePolling?"4001"==b?(a.currUpload.cookieMessage+=c,q()):"3000"==b&&(a.currUpload.cookieMessage+=c,c="1000"+KUPLOADTOP.RAONKSolution.Agent.vertical+a.currUpload.cookieMessage,a.currUpload.isCookiePolling=!1,a.currUpload.cookieMessage="",a.fn_callback(c)):"1000"==b&&"COOKIEFAKE"==e?(a.currUpload.isCookiePolling=!0,a.currUpload.cookieMessage=
"",q()):(c=b+KUPLOADTOP.RAONKSolution.Agent.vertical+c,a.fn_callback(c))}}},10)}(n))}}function getCookieData(b){b+="=";for(var e=(null!=KUPLOADTOP.G_CURRKUPLOADER._config.cookieWindow?KUPLOADTOP.G_CURRKUPLOADER._config.cookieWindow:KUPLOADTOP.KUPLOADWIN).document.cookie.split(";"),c=0;c<e.length;c++){for(var a=e[c];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(b))return a.substring(b.length,a.length)}return""}
function deleteCookieData(b){var e;e=null!=KUPLOADTOP.G_CURRKUPLOADER._config.cookieWindow?KUPLOADTOP.G_CURRKUPLOADER._config.cookieWindow:KUPLOADTOP.KUPLOADWIN;try{e.document.cookie=b+"=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT;"}catch(c){}try{e.document.cookie=b+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT;"}catch(a){}}
function deleteDummyCookie(){if(0==KUPLOADTOP.RAONKUPLOAD.browser.postMessageSupported)try{var b=(null!=KUPLOADTOP.G_CURRKUPLOADER._config.cookieWindow?KUPLOADTOP.G_CURRKUPLOADER._config.cookieWindow:KUPLOADTOP.KUPLOADWIN).document.cookie;if(""!=b)for(var e=b.split(";"),c=e.length,b=0;b<c;b++){var a=e[b].split("=")[0],a=KUPLOADTOP.RAONKUPLOAD.util.trim(a);0==a.indexOf("raonk_")&&deleteCookieData(a)}}catch(f){}}
function getNewListInfoJson(){var b=null,e=KUPLOADTOP.G_CURRKUPLOADER.newOriginalName.length;if(0<e){var c;c='{"originalName": [{0}], "uploadName": [{1}], "size": [{2}], "uploadPath": [{3}], "status": [{4}], "logicalPath":[{5}], "extension":[{6}], "localPath":[{7}], "customValue":[{8}], "responseCustomValue":[{9}],"isLargeFile":[{10}], "order":[{11}], "lastModifiedDate":[{12}], "mimeType":[{13}], "hashValue":[{14}], "extraDataObject": [{15}], "isFolder": [{16}], "transferId": [{17}], "fileId": [{18}]}';
for(var a="",f="",g="",k="",l="",n="",q="",p="",t="",u="",v="",x="",w="",y="",C="",r="",A="",G="",E="",D=0;D<e;D++){0!=D&&(a+=",",f+=",",g+=",",k+=",",l+=",",n+=",",q+=",",p+=",",t+=",",u+=",",v+=",",x+=",",w+=",",y+=",",C+=",",r+=",",A+=",",G+=",",E+=",");a+='"'+KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[D]+'"';f+='"'+KUPLOADTOP.G_CURRKUPLOADER.newUploadName[D]+'"';g+='"'+KUPLOADTOP.G_CURRKUPLOADER.newSize[D]+'"';k+='"'+KUPLOADTOP.G_CURRKUPLOADER.newUploadPath[D].replace(/\\/g,"\\\\")+'"';l+='"'+
KUPLOADTOP.G_CURRKUPLOADER.newStatus[D]+'"';q+='"'+(""==KUPLOADTOP.G_CURRKUPLOADER.newUploadName[D]?getExtensionEx(KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[D]):getExtensionEx(KUPLOADTOP.G_CURRKUPLOADER.newUploadName[D]))+'"';p+='"'+KUPLOADTOP.G_CURRKUPLOADER.newLocalPath[D].replace(/\\/g,"\\\\")+'"';t+='"'+KUPLOADTOP.G_CURRKUPLOADER.newCustomValue[D]+'"';u+='"'+KUPLOADTOP.G_CURRKUPLOADER.newResponseCustomValue[D]+'"';v+='"'+KUPLOADTOP.G_CURRKUPLOADER.newLargeFiles[D]+'"';x+='"'+KUPLOADTOP.G_CURRKUPLOADER.newOrder[D]+
'"';if(""!=KUPLOADTOP.G_CURRKUPLOADER.newLogicalPath[D])var B=KUPLOADTOP.G_CURRKUPLOADER.newLogicalPath[D],B=B.replace(/\\/g,"\\\\"),n=n+('"'+B+'"');else n+='""';w+='"'+KUPLOADTOP.G_CURRKUPLOADER.newLastModifiedDate[D]+'"';y+='"'+KUPLOADTOP.G_CURRKUPLOADER.newMimeType[D]+'"';C+='"'+KUPLOADTOP.G_CURRKUPLOADER.newHashValue[D]+'"';r+=KUPLOADTOP.G_CURRKUPLOADER.newExtraDataObject[D]?JSON.stringify(KUPLOADTOP.G_CURRKUPLOADER.newExtraDataObject[D]):'""';A=KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[D].lastIndexOf("/")+
1==KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[D].length?A+'"1"':A+'"0"';G+='"'+KUPLOADTOP.G_CURRKUPLOADER.newTransferId[D]+'"';E+='"'+KUPLOADTOP.G_CURRKUPLOADER.newFileId[D]+'"'}c=c.replace("{0}",a);c=c.replace("{1}",f);c=c.replace("{2}",g);c=c.replace("{3}",k);c=c.replace("{4}",l);c=c.replace("{5}",n);c=c.replace("{6}",q);c=c.replace("{7}",p);c=c.replace("{8}",t);c=c.replace("{9}",u);c=c.replace("{10}",v);c=c.replace("{11}",x);c=c.replace("{12}",w);c=c.replace("{13}",y);c=c.replace("{14}",C);c=c.replace("{15}",
r);c=c.replace("{16}",A);c=c.replace("{17}",G);c=c.replace("{18}",E);try{b=JSON.parse(c)}catch(z){b=null}}return b}
function getNewListInfoText(){var b=null;try{var e=KUPLOADTOP.G_CURRKUPLOADER.newOriginalName.length;if(0<e)for(var b="",c=0;c<e;c++)0!=c&&(b+=KUPLOADTOP.G_CURRKUPLOADER._config.unitDelimiter),b+=KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[c],b+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newUploadName[c],b+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newSize[c],b+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+
KUPLOADTOP.G_CURRKUPLOADER.newUploadPath[c],b+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newStatus[c],b+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newLogicalPath[c],b+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+(""==KUPLOADTOP.G_CURRKUPLOADER.newUploadName[c]?getExtensionEx(KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[c]):getExtensionEx(KUPLOADTOP.G_CURRKUPLOADER.newUploadName[c])),b+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+
KUPLOADTOP.G_CURRKUPLOADER.newLocalPath[c],b+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newCustomValue[c],b+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newResponseCustomValue[c],b+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newLargeFiles[c],b+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newOrder[c],b+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+
KUPLOADTOP.G_CURRKUPLOADER.newLastModifiedDate[c],b+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newMimeType[c],b+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newHashValue[c],b+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+(KUPLOADTOP.G_CURRKUPLOADER.newExtraDataObject[c]?JSON.stringify(KUPLOADTOP.G_CURRKUPLOADER.newExtraDataObject[c]):""),b+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+(KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[c].lastIndexOf("/")+
1==KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[c].length?"1":"0"),b+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newTransferId[c],b+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newFileId[c]}catch(a){b=null}return b}
function getNewListInfoXml(){var b=null;try{var e=KUPLOADTOP.G_CURRKUPLOADER.newOriginalName.length;if(0<e){for(var c='<?xml version="1.0" encoding="utf-8" ?>',c=c+"<files>{0}</files>",a="",f=0;f<e;f++)a+="<file>",a+="<originalName><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[f]+"]]\x3e</originalName>",a+="<uploadName><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newUploadName[f]+"]]\x3e</uploadName>",a+="<size><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newSize[f]+"]]\x3e</size>",a+="<uploadPath><![CDATA["+
KUPLOADTOP.G_CURRKUPLOADER.newUploadPath[f]+"]]\x3e</uploadPath>",a+="<status><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newStatus[f]+"]]\x3e</status>",a+="<logicalPath><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newLogicalPath[f]+"]]\x3e</logicalPath>",a+="<extension><![CDATA["+(""==KUPLOADTOP.G_CURRKUPLOADER.newUploadName[f]?getExtensionEx(KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[f]):getExtensionEx(KUPLOADTOP.G_CURRKUPLOADER.newUploadName[f]))+"]]\x3e</extension>",a+="<localPath><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newLocalPath[f]+
"]]\x3e</localPath>",a+="<customValue><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newCustomValue[f]+"]]\x3e</customValue>",a+="<responseCustomValue><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newResponseCustomValue[f]+"]]\x3e</responseCustomValue>",a+="<isLargeFile><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newLargeFiles[f]+"]]\x3e</isLargeFile>",a+="<order><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newOrder[f]+"]]\x3e</order>",a+="<lastModifiedDate><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newLastModifiedDate[f]+"]]\x3e</lastModifiedDate>",
a+="<mimeType><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newMimeType[f]+"]]\x3e</mimeType>",a+="<hashValue><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newHashValue[f]+"]]\x3e</hashValue>",a+="<extraDataObject><![CDATA["+(KUPLOADTOP.G_CURRKUPLOADER.newExtraDataObject[f]?JSON.stringify(KUPLOADTOP.G_CURRKUPLOADER.newExtraDataObject[f]):"")+"]]\x3e</extraDataObject>",a=KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[f].lastIndexOf("/")+1==KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[f].length?a+"<isFolder><![CDATA[1]]\x3e</isFolder>":
a+"<isFolder><![CDATA[0]]\x3e</isFolder>",a+="<transferId><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newTransferId[f]+"]]\x3e</transferId>",a+="<fileId><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newFileId[f]+"]]\x3e</fileId>",a+="</file>";c=c.replace("{0}",a);b=KUPLOADTOP.RAONKUPLOAD.util.stringToXML(c)}}catch(g){b=null}return b}
function getNewListInfoArray(){var b=null;try{var e=KUPLOADTOP.G_CURRKUPLOADER.newOriginalName.length;if(0<e)for(var b=[],c=0;c<e;c++){for(var a=[],f=document.getElementById("file_list").getElementsByTagName("input")[parseInt(KUPLOADTOP.G_CURRKUPLOADER.newOrder[c],10)].parentNode.parentNode,g=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItem.length,k=0,l=1;l<=g;l++){var n=l;if(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&
l<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&l<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder)a.push(f.childNodes[n].childNodes[0]);else if(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&l+1>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder&&l+1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder||
KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&l+1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder&&l+1>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder)n+=1,a.push(f.childNodes[n].childNodes[0]);else if(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&l+2>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder||
KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&l+2>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder)KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder?(l+2==KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder+1&&(k=n+2),a.push(f.childNodes[k].childNodes[l+2-(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder+1)])):
KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&(l+2==KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder+1&&(k=n+2),a.push(f.childNodes[k].childNodes[l+2-(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder+1)]))}var q={originalName:KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[c],uploadName:KUPLOADTOP.G_CURRKUPLOADER.newUploadName[c],size:KUPLOADTOP.G_CURRKUPLOADER.newSize[c],uploadPath:KUPLOADTOP.G_CURRKUPLOADER.newUploadPath[c],
status:KUPLOADTOP.G_CURRKUPLOADER.newStatus[c],extension:""==KUPLOADTOP.G_CURRKUPLOADER.newUploadPath[c]?getExtensionEx(KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[c]):getExtensionEx(KUPLOADTOP.G_CURRKUPLOADER.newUploadName[c]),localPath:KUPLOADTOP.G_CURRKUPLOADER.newLocalPath[c],customValue:KUPLOADTOP.G_CURRKUPLOADER.newCustomValue[c],responseCustomValue:KUPLOADTOP.G_CURRKUPLOADER.newResponseCustomValue[c],isLargeFile:KUPLOADTOP.G_CURRKUPLOADER.newLargeFiles[c],order:KUPLOADTOP.G_CURRKUPLOADER.newOrder[c],
logicalPath:""!=KUPLOADTOP.G_CURRKUPLOADER.newLogicalPath[c]?KUPLOADTOP.G_CURRKUPLOADER.newLogicalPath[c]:"",lastModifiedDate:KUPLOADTOP.G_CURRKUPLOADER.newLastModifiedDate[c],mimeType:KUPLOADTOP.G_CURRKUPLOADER.newMimeType[c],hashValue:KUPLOADTOP.G_CURRKUPLOADER.newHashValue[c],fileObject:KUPLOADTOP.G_CURRKUPLOADER.newFileObject[c],extraDataObject:KUPLOADTOP.G_CURRKUPLOADER.newExtraDataObject[c],isFolder:KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[c].lastIndexOf("/")+1==KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[c].length?
"1":"0",transferId:KUPLOADTOP.G_CURRKUPLOADER.newTransferId[c],fileId:KUPLOADTOP.G_CURRKUPLOADER.newFileId[c],customHeaderObject:a};b.push(q)}}catch(p){b=null}return b}
function getDeleteListInfoJson(){var b=null;try{var e=KUPLOADTOP.G_CURRKUPLOADER.delOriginalName.length;if(0<e){for(var c='{"uniqKey": [{0}], "originalName": [{1}], "size": [{2}]',c=c+', "isLargeFile": [{3}], "customValue": [{4}], "uploadPath": [{5}], "logicalPath": [{6}], "isFolder" : [{7}] }',a="",f="",g="",k="",l="",n="",q="",p="",t=0;t<e;t++)if(0!=t&&(a+=",",f+=",",g+=",",k+=",",l+=",",n+=",",q+=",",p+=","),a+='"'+KUPLOADTOP.G_CURRKUPLOADER.delUniqKey[t]+'"',f+='"'+KUPLOADTOP.G_CURRKUPLOADER.delOriginalName[t].replace(/\\/g,
"\\\\")+'"',g+='"'+KUPLOADTOP.G_CURRKUPLOADER.delSize[t]+'"',k+='"'+KUPLOADTOP.G_CURRKUPLOADER.delLargeFiles[t]+'"',l+='"'+KUPLOADTOP.G_CURRKUPLOADER.delCustomValue[t]+'"',n+='"'+KUPLOADTOP.G_CURRKUPLOADER.delUploadPath[t].replace(/\\/g,"\\\\")+'"',p=KUPLOADTOP.G_CURRKUPLOADER.delOriginalName[t].lastIndexOf("/")+1==KUPLOADTOP.G_CURRKUPLOADER.delOriginalName[t].length?p+'"1"':p+'"0"',""!=KUPLOADTOP.G_CURRKUPLOADER.delLogicalPath[t])var u=KUPLOADTOP.G_CURRKUPLOADER.delLogicalPath[t],u=u.replace(/\\/g,
"\\\\"),q=q+('"'+u+'"');else q+='""';c=c.replace("{0}",a);c=c.replace("{1}",f);c=c.replace("{2}",g);c=c.replace("{3}",k);c=c.replace("{4}",l);c=c.replace("{5}",n);c=c.replace("{6}",q);c=c.replace("{7}",p);try{b=JSON.parse(c)}catch(v){b=null}}}catch(x){b=null}return b}
function getDeleteListInfoText(){var b=null;try{var e=KUPLOADTOP.G_CURRKUPLOADER.delOriginalName.length;if(0<e)for(var b="",c=0;c<e;c++)0!=c&&(b+=KUPLOADTOP.G_CURRKUPLOADER._config.unitDelimiter),b+=KUPLOADTOP.G_CURRKUPLOADER.delUniqKey[c],b+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.delOriginalName[c],b+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.delSize[c],b+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+
KUPLOADTOP.G_CURRKUPLOADER.delLargeFiles[c],b+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.delCustomValue[c],b+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.delUploadPath[c],b+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.delLogicalPath[c],b+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+(KUPLOADTOP.G_CURRKUPLOADER.delOriginalName[c].lastIndexOf("/")+1==KUPLOADTOP.G_CURRKUPLOADER.delOriginalName[c].length?
"1":"0")}catch(a){b=null}return b}
function getDeleteListInfoXml(){var b=null;try{var e=KUPLOADTOP.G_CURRKUPLOADER.delOriginalName.length;if(0<e){for(var c='<?xml version="1.0" encoding="utf-8" ?>',c=c+"<files>{0}</files>",a="",f=0;f<e;f++)a+="<file>",a+="<uniqKey><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.delUniqKey[f]+"]]\x3e</uniqKey>",a+="<originalName><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.delOriginalName[f]+"]]\x3e</originalName>",a+="<size><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.delSize[f]+"]]\x3e</size>",a+="<isLargeFile><![CDATA["+
KUPLOADTOP.G_CURRKUPLOADER.delLargeFiles[f]+"]]\x3e</isLargeFile>",a+="<customValue><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.delCustomValue[f]+"]]\x3e</customValue>",a+="<uploadPath><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.delUploadPath[f]+"]]\x3e</uploadPath>",a+="<logicalPath><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.delLogicalPath[f]+"]]\x3e</logicalPath>",a=KUPLOADTOP.G_CURRKUPLOADER.delOriginalName[f].lastIndexOf("/")+1==KUPLOADTOP.G_CURRKUPLOADER.delOriginalName[f].length?a+"<isFolder><![CDATA[1]]\x3e</isFolder>":
a+"<isFolder><![CDATA[0]]\x3e</isFolder>",a+="</file>";c=c.replace("{0}",a);b=KUPLOADTOP.RAONKUPLOAD.util.stringToXML(c)}}catch(g){b=null}return b}
function getDeleteListInfoArray(){var b=null;try{var e=KUPLOADTOP.G_CURRKUPLOADER.delOriginalName.length;if(0<e)for(var b=[],c=0;c<e;c++){var a={uniqKey:KUPLOADTOP.G_CURRKUPLOADER.delUniqKey[c],originalName:KUPLOADTOP.G_CURRKUPLOADER.delOriginalName[c],size:KUPLOADTOP.G_CURRKUPLOADER.delSize[c],isLargeFile:KUPLOADTOP.G_CURRKUPLOADER.delLargeFiles[c],customValue:KUPLOADTOP.G_CURRKUPLOADER.delCustomValue[c],uploadPath:KUPLOADTOP.G_CURRKUPLOADER.delUploadPath[c],logicalPath:KUPLOADTOP.G_CURRKUPLOADER.delLogicalPath[c],
isFolder:KUPLOADTOP.G_CURRKUPLOADER.delOriginalName[c].lastIndexOf("/")+1==KUPLOADTOP.G_CURRKUPLOADER.delOriginalName[c].length?"1":"0"};b.push(a)}}catch(f){b=null}return b}
function getNoneDeleteListInfoJson(){var b=null;try{var e=KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName.length;if(0<e){for(var c='{"uniqKey": [{0}], "originalName": [{1}], "size": [{2}], "customValue": [{3}],',c=c+'"isLargeFile": [{4}], "order": [{5}], "uploadPath": [{6}], "logicalPath": [{7}], "isFolder": [{8}], "transferId": [{9}], "fileId": [{10}] }',a="",f="",g="",k="",l="",n="",q="",p="",t="",u="",v="",x=0;x<e;x++)if(0!=x&&(a+=",",f+=",",g+=",",k+=",",l+=",",n+=",",q+=",",p+=",",t+=",",u+=",",
v+=","),a+='"'+KUPLOADTOP.G_CURRKUPLOADER.nonDelUniqKey[x]+'"',f+='"'+getFileName(KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName[x],!1)+'"',g+='"'+KUPLOADTOP.G_CURRKUPLOADER.nonDelSize[x]+'"',k+='"'+KUPLOADTOP.G_CURRKUPLOADER.nonDelLargeFiles[x]+'"',l+='"'+KUPLOADTOP.G_CURRKUPLOADER.nonDelOrder[x]+'"',n+='"'+KUPLOADTOP.G_CURRKUPLOADER.nonDelUploadPath[x].replace(/\\/g,"\\\\")+'"',q+='"'+KUPLOADTOP.G_CURRKUPLOADER.nonDelCustomValue[x]+'"',t=KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName[x].lastIndexOf("/")+
1==KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName[x].length?t+'"1"':t+'"0"',u+='"'+KUPLOADTOP.G_CURRKUPLOADER.nonDelTransferId[x]+'"',v+='"'+KUPLOADTOP.G_CURRKUPLOADER.nonDelFileId[x]+'"',""!=KUPLOADTOP.G_CURRKUPLOADER.nonDelLogicalPath[x])var w=KUPLOADTOP.G_CURRKUPLOADER.nonDelLogicalPath[x],w=w.replace(/\\/g,"\\\\"),p=p+('"'+w+'"');else p+='""';c=c.replace("{0}",a);c=c.replace("{1}",f);c=c.replace("{2}",g);c=c.replace("{3}",q);c=c.replace("{4}",k);c=c.replace("{5}",l);c=c.replace("{6}",n);c=c.replace("{7}",
p);c=c.replace("{8}",t);c=c.replace("{9}",u);c=c.replace("{10}",v);try{b=JSON.parse(c)}catch(y){b=null,RAONKUPLOAD.util.writeLog("ERROR",y.message,null)}}}catch(C){b=null}return b}
function getNoneDeleteListInfoText(){var b=null;try{var e=KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName.length;if(0<e)for(var b="",c=0;c<e;c++)0!=c&&(b+=KUPLOADTOP.G_CURRKUPLOADER._config.unitDelimiter),b+=KUPLOADTOP.G_CURRKUPLOADER.nonDelUniqKey[c],b+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName[c],b+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.nonDelSize[c],b+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+
KUPLOADTOP.G_CURRKUPLOADER.nonDelLargeFiles[c],b+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.nonDelOrder[c],b+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.nonDelUploadPath[c],b+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.nonDelCustomValue[c],b+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.nonDelLogicalPath[c],b+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+
(KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName[c].lastIndexOf("/")+1==KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName[c].length?"1":"0"),b+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.nonDelTransferId[c],b+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.nonDelFileId[c]}catch(a){b=null}return b}
function getNoneDeleteListInfoXml(){var b=null;try{var e=KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName.length;if(0<e){for(var c='<?xml version="1.0" encoding="utf-8" ?>',c=c+"<files>{0}</files>",a="",f=0;f<e;f++)a+="<file>",a+="<uniqKey><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.nonDelUniqKey[f]+"]]\x3e</uniqKey>",a+="<originalName><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName[f]+"]]\x3e</originalName>",a+="<size><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.nonDelSize[f]+"]]\x3e</size>",a+="<isLargeFile><![CDATA["+
KUPLOADTOP.G_CURRKUPLOADER.nonDelLargeFiles[f]+"]]\x3e</isLargeFile>",a+="<order><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.nonDelOrder[f]+"]]\x3e</order>",a+="<uploadPath><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.nonDelUploadPath[f]+"]]\x3e</uploadPath>",a+="<customValue><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.nonDelCustomValue[f]+"]]\x3e</customValue>",a+="<logicalPath><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.nonDelLogicalPath[f]+"]]\x3e</logicalPath>",a=KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName[f].lastIndexOf("/")+
1==KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName[f].length?a+"<isFolder><![CDATA[1]]\x3e</isFolder>":a+"<isFolder><![CDATA[0]]\x3e</isFolder>",a+="<transferId><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.nonDelTransferId[f]+"]]\x3e</transferId>",a+="<fileId><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.nonDelFileId[f]+"]]\x3e</fileId>",a+="</file>";c=c.replace("{0}",a);b=KUPLOADTOP.RAONKUPLOAD.util.stringToXML(c)}}catch(g){b=null}return b}
function getNoneDeleteListInfoArray(){var b=null;try{var e=KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName.length;if(0<e)for(var b=[],c=0;c<e;c++){for(var a=[],f=document.getElementById("file_list").getElementsByTagName("input")[parseInt(KUPLOADTOP.G_CURRKUPLOADER.nonDelOrder[c],10)].parentNode.parentNode,g=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItem.length,k=0,l=1;l<=g;l++){var n=l;if(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&
l<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&l<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder)a.push(f.childNodes[n].childNodes[0]);else if(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&l+1>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder&&l+1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder||
KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&l+1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder&&l+1>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder)n+=1,a.push(f.childNodes[n].childNodes[0]);else if(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&l+2>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder||
KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&l+2>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder)KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder?(l+2==KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder+1&&(k=n+2),a.push(f.childNodes[k].childNodes[l+2-(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder+1)])):
KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&(l+2==KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder+1&&(k=n+2),a.push(f.childNodes[k].childNodes[l+2-(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder+1)]))}var q={uniqKey:KUPLOADTOP.G_CURRKUPLOADER.nonDelUniqKey[c],originalName:getFileName(KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName[c],!1),size:KUPLOADTOP.G_CURRKUPLOADER.nonDelSize[c],isLargeFile:KUPLOADTOP.G_CURRKUPLOADER.nonDelLargeFiles[c],
order:KUPLOADTOP.G_CURRKUPLOADER.nonDelOrder[c],uploadPath:KUPLOADTOP.G_CURRKUPLOADER.nonDelUploadPath[c],customValue:KUPLOADTOP.G_CURRKUPLOADER.nonDelCustomValue[c],logicalPath:KUPLOADTOP.G_CURRKUPLOADER.nonDelLogicalPath[c],isFolder:KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName[c].lastIndexOf("/")+1==KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName[c].length?"1":"0",transferId:KUPLOADTOP.G_CURRKUPLOADER.nonDelTransferId[c],fileId:KUPLOADTOP.G_CURRKUPLOADER.nonDelFileId[c],customHeaderObject:a};b.push(q)}}catch(p){b=
null}return b}
function getListInfoByIndexJson(b){var e=null,c=[],a=[];try{var f=KUPLOADTOP.G_CURRKUPLOADER.newOriginalName.length,g=KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName.length,k=[];if(0<f||0<g){for(var l=0;l<f;l++){var n="",n=n+"0",n=n+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+""),n=n+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[l]),n=n+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newUploadName[l]),n=
n+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newSize[l]),n=n+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newUploadPath[l]),n=n+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newStatus[l]),n=n+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newLogicalPath[l]),n=n+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+(""==KUPLOADTOP.G_CURRKUPLOADER.newUploadName[l]?
getExtensionEx(KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[l]):getExtensionEx(KUPLOADTOP.G_CURRKUPLOADER.newUploadName[l]))),n=n+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newLocalPath[l]),n=n+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newCustomValue[l]),n=n+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newResponseCustomValue[l]),n=n+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+
KUPLOADTOP.G_CURRKUPLOADER.newLargeFiles[l]),n=n+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newOrder[l]),n=n+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newLastModifiedDate[l]),n=n+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newMimeType[l]),n=n+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newHashValue[l]),n=n+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+
""),n=n+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+(KUPLOADTOP.G_CURRKUPLOADER.newExtraDataObject[l]?JSON.stringify(KUPLOADTOP.G_CURRKUPLOADER.newExtraDataObject[l]):"")),n=n+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+(KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[l].lastIndexOf("/")+1==KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[l].length?"1":"0")),n=n+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newTransferId[l]),n=n+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+
KUPLOADTOP.G_CURRKUPLOADER.newFileId[l]),q=KUPLOADTOP.G_CURRKUPLOADER.newOrder[l];b&&(q=0);""!=KUPLOADTOP.G_CURRKUPLOADER.newLogicalPath[l]?(void 0==c[q]&&(c[q]=[],a.push(q),k[q]={}),c[q].push(n)):k[q]=n}for(var p=a.length,l=p-1;0<=l;l--){var t=c[a[l]];k.splice(a[l],1);var u=t.length;for(j=u-1;0<=j;j--)k.splice(a[l],0,t[j])}c=[];a=[];for(l=0;l<g;l++)f="",f+="1",f+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.nonDelUniqKey[l],f+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+
getFileName(KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName[l],!1),f+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+"",f+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.nonDelSize[l],f+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.nonDelUploadPath[l],f+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+"",f+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.nonDelLogicalPath[l],
f+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+getExtensionEx(KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName[l]),f+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+"",f+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.nonDelCustomValue[l],f+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+"",f+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.nonDelLargeFiles[l],f+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+
KUPLOADTOP.G_CURRKUPLOADER.nonDelOrder[l],f+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+"",f+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+"",f+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+"",f+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+"",f+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+"",f+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName[l].lastIndexOf("/")+1==KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName[l].length?
"1":"0",f+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.nonDelTransferId[l],f+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.nonDelFileId[l],q=KUPLOADTOP.G_CURRKUPLOADER.nonDelOrder[l],b&&(q=0),""!=KUPLOADTOP.G_CURRKUPLOADER.nonDelLogicalPath[l]?(void 0==c[q]&&(c[q]=[],a.push(q),k[q]={}),c[q].push(f)):k[q]=f;p=a.length;for(l=p-1;0<=l;l--)for(t=c[a[l]],k.splice(a[l],1),u=t.length,j=u-1;0<=j;j--)k.splice(a[l],0,t[j]);b='{"isWebFile": [{0}], "uniqKey": [{1}], "originalName": [{2}], "uploadName": [{3}], "size": [{4}], "uploadPath": [{5}], "status": [{6}], "logicalPath": [{7}], "extension": [{8}], "localPath": [{9}], "customValue": [{10}], "responseCustomValue": [{11}]';
b+=', "isLargeFile": [{12}], "order": [{13}], "lastModifiedDate": [{14}], "mimeType": [{15}], "hashValue": [{16}], "extraDataObject": [{17}], "isFolder":[{18}], "transferId":[{19}], "fileId":[{20}] }';for(var v=n=f=u=t=p=q=g=a=c="",x="",w="",y="",C="",r="",A="",G="",E="",D="",B="",z="",H=k.length,l=0;H>l;l++){0!=l&&(c+=",",a+=",",g+=",",q+=",",p+=",",t+=",",u+=",",f+=",",n+=",",v+=",",x+=",",w+=",",y+=",",C+=",",r+=",",A+=",",G+=",",E+=",",D+=",",B+=",",z+=",");var F=k[l].split(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter),
c=c+('"'+F[0]+'"'),a=a+('"'+F[1]+'"'),g=g+('"'+F[2]+'"'),q=q+('"'+F[3]+'"'),p=p+('"'+F[4]+'"'),t=t+('"'+F[5].replace(/\\/g,"\\\\")+'"'),u=u+('"'+F[6]+'"');if(""!=F[7])var I=F[7],I=I.replace(/\\/g,"\\\\"),f=f+('"'+I+'"');else f+='""';n+='"'+F[8]+'"';v+='"'+F[9].replace(/\\/g,"\\\\")+'"';x+='"'+F[10]+'"';w+='"'+F[11]+'"';y+='"'+F[12]+'"';C+='"'+F[13]+'"';r+='"'+F[14]+'"';A+='"'+F[15]+'"';G+='"'+F[16]+'"';E+=F[17]&&""!=F[17]?F[17]:'""';D+='"'+F[18]+'"';B+='"'+F[20]+'"';z+='"'+F[21]+'"'}b=b.replace("{0}",
c);b=b.replace("{1}",a);b=b.replace("{2}",g);b=b.replace("{3}",q);b=b.replace("{4}",p);b=b.replace("{5}",t);b=b.replace("{6}",u);b=b.replace("{7}",f);b=b.replace("{8}",n);b=b.replace("{9}",v);b=b.replace("{10}",x);b=b.replace("{11}",w);b=b.replace("{12}",y);b=b.replace("{13}",C);b=b.replace("{14}",r);b=b.replace("{15}",A);b=b.replace("{16}",G);b=b.replace("{17}",E);b=b.replace("{18}",D);b=b.replace("{19}",B);b=b.replace("{20}",z);try{e=JSON.parse(b)}catch(J){e=null,RAONKUPLOAD.util.writeLog("ERROR",
J.message,null)}}}catch(L){e=null}return e}
function getListInfoByIndexText(b){var e=null,c=[],a=[];try{var f=KUPLOADTOP.G_CURRKUPLOADER.newOriginalName.length,g=KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName.length;if(0<f||0<g){for(var e=[],k=0;k<f;k++){var l="";0!=KUPLOADTOP.G_CURRKUPLOADER.newOrder[k]&&(l+=KUPLOADTOP.G_CURRKUPLOADER._config.unitDelimiter);var l=l+"0",l=l+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+""),l=l+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[k]),
l=l+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newUploadName[k]),l=l+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newSize[k]),l=l+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newUploadPath[k]),l=l+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newStatus[k]),l=l+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newLogicalPath[k]),
l=l+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+(""==KUPLOADTOP.G_CURRKUPLOADER.newUploadName[k]?getExtensionEx(KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[k]):getExtensionEx(KUPLOADTOP.G_CURRKUPLOADER.newUploadName[k]))),l=l+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newLocalPath[k]),l=l+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newCustomValue[k]),l=l+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+
KUPLOADTOP.G_CURRKUPLOADER.newResponseCustomValue[k]),l=l+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newLargeFiles[k]),l=l+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newOrder[k]),l=l+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newLastModifiedDate[k]),l=l+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newMimeType[k]),l=l+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+
KUPLOADTOP.G_CURRKUPLOADER.newHashValue[k]),l=l+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+""),l=l+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+(KUPLOADTOP.G_CURRKUPLOADER.newExtraDataObject[k]?JSON.stringify(KUPLOADTOP.G_CURRKUPLOADER.newExtraDataObject[k]):"")),l=KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[k].lastIndexOf("/")+1==KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[k].length?l+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+1):l+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+
0),l=l+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newTransferId[k]),l=l+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newFileId[k]),n=KUPLOADTOP.G_CURRKUPLOADER.newOrder[k];b&&(n=0);""!=KUPLOADTOP.G_CURRKUPLOADER.newLogicalPath[k]?(void 0==c[n]&&(c[n]=[],a.push(n),e[n]={}),c[n].push(l)):e[n]=l}for(var q=a.length,k=q-1;0<=k;k--){var p=c[a[k]];e.splice(a[k],1);var t=p.length;for(j=t-1;0<=j;j--)e.splice(a[k],0,p[j])}c=
[];a=[];for(k=0;k<g;k++)f="",0!=KUPLOADTOP.G_CURRKUPLOADER.nonDelOrder[k]&&(f+=KUPLOADTOP.G_CURRKUPLOADER._config.unitDelimiter),f+="1",f+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.nonDelUniqKey[k],f+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+getFileName(KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName[k],!1),f+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+"",f+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.nonDelSize[k],
f+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.nonDelUploadPath[k],f+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+"",f+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.nonDelLogicalPath[k],f+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+getExtensionEx(KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName[k]),f+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+"",f+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+
KUPLOADTOP.G_CURRKUPLOADER.nonDelCustomValue[k],f+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+"",f+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.nonDelLargeFiles[k],f+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.nonDelOrder[k],f+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+"",f+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+"",f+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+
"",f+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+"",f+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+"",f=KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName[k].lastIndexOf("/")+1==KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName[k].length?f+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+1):f+(KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+0),f+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.nonDelTransferId[k],f+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+
KUPLOADTOP.G_CURRKUPLOADER.nonDelFileId[k],n=KUPLOADTOP.G_CURRKUPLOADER.nonDelOrder[k],b&&(n=0),e[n]=f,""!=KUPLOADTOP.G_CURRKUPLOADER.nonDelLogicalPath[k]?(void 0==c[n]&&(c[n]=[],a.push(n),e[n]={}),c[n].push(f)):e[n]=f;q=a.length;for(k=q-1;0<=k;k--)for(p=c[a[k]],e.splice(a[k],1),t=p.length,j=t-1;0<=j;j--)e.splice(a[k],0,p[j])}e&&(e=e.join(""))}catch(u){e=null}return e}
function getListInfoByIndexXml(b){var e=null,c=[],a=[];try{var f=[],g=KUPLOADTOP.G_CURRKUPLOADER.newOriginalName.length,k=KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName.length;if(0<g||0<k){for(var l='<?xml version="1.0" encoding="utf-8" ?>',l=l+"<files>{0}</files>",n=0;n<g;n++){var q="",q=q+"<file>",q=q+"<isWebFile><![CDATA[0]]\x3e</isWebFile>",q=q+"<uniqKey></uniqKey>",q=q+("<originalName><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[n]+"]]\x3e</originalName>"),q=q+("<uploadName><![CDATA["+
KUPLOADTOP.G_CURRKUPLOADER.newUploadName[n]+"]]\x3e</uploadName>"),q=q+("<size><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newSize[n]+"]]\x3e</size>"),q=q+("<uploadPath><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newUploadPath[n]+"]]\x3e</uploadPath>"),q=q+("<status><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newStatus[n]+"]]\x3e</status>"),q=q+("<logicalPath><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newLogicalPath[n]+"]]\x3e</logicalPath>"),q=q+("<extension><![CDATA["+getExtensionEx(KUPLOADTOP.G_CURRKUPLOADER.newUploadName[n])+
"]]\x3e</extension>"),q=q+("<localPath><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newLocalPath[n]+"]]\x3e</localPath>"),q=q+("<customValue><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newCustomValue[n]+"]]\x3e</customValue>"),q=q+("<responseCustomValue><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newResponseCustomValue[n]+"]]\x3e</responseCustomValue>"),q=q+("<isLargeFile><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newLargeFiles[n]+"]]\x3e</isLargeFile>"),q=q+("<order><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newOrder[n]+"]]\x3e</order>"),
q=q+("<lastModifiedDate><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newLastModifiedDate[n]+"]]\x3e</lastModifiedDate>"),q=q+("<mimeType><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newMimeType[n]+"]]\x3e</mimeType>"),q=q+("<hashValue><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newHashValue[n]+"]]\x3e</hashValue>"),q=q+("<extraDataObject><![CDATA["+(KUPLOADTOP.G_CURRKUPLOADER.newExtraDataObject[n]?JSON.stringify(KUPLOADTOP.G_CURRKUPLOADER.newExtraDataObject[n]):"")+"]]\x3e</extraDataObject>"),q=KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[n].lastIndexOf("/")+
1==KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[n].length?q+"<isFolder><![CDATA[1]]\x3e</isFolder>":q+"<isFolder><![CDATA[0]]\x3e</isFolder>",q=q+("<transferId><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newTransferId[n]+"]]\x3e</transferId>"),q=q+("<fileId><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newFileId[n]+"]]\x3e</fileId>"),q=q+"</file>",p=KUPLOADTOP.G_CURRKUPLOADER.newOrder[n];b&&(p=0);""!=KUPLOADTOP.G_CURRKUPLOADER.newLogicalPath[n]?(void 0==c[p]&&(c[p]=[],a.push(p),f[p]={}),c[p].push(q)):f[p]=q}for(var t=
a.length,n=t-1;0<=n;n--){var u=c[a[n]];f.splice(a[n],1);var v=u.length;for(j=v-1;0<=j;j--)f.splice(a[n],0,u[j])}c=[];a=[];for(n=0;n<k;n++)g="",g+="<file>",g+="<isWebFile><![CDATA[1]]\x3e</isWebFile>",g+="<uniqKey><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.nonDelUniqKey[n]+"]]\x3e</uniqKey>",g+="<originalName><![CDATA["+getFileName(KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName[n],!1)+"]]\x3e</originalName>",g+="<uploadName></uploadName>",g+="<size><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.nonDelSize[n]+"]]\x3e</size>",
g+="<uploadPath><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.nonDelUploadPath[n]+"]]\x3e</uploadPath>",g+="<status></status>",g+="<logicalPath><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.nonDelLogicalPath[n]+"]]\x3e</logicalPath>",g+="<extension><![CDATA["+getExtensionEx(KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName[n])+"]]\x3e</extension>",g+="<localPath></localPath>",g+="<customValue><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.nonDelCustomValue[n]+"]]\x3e</customValue>",g+="<responseCustomValue></responseCustomValue>",
g+="<isLargeFile><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.nonDelLargeFiles[n]+"]]\x3e</isLargeFile>",g+="<order><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.nonDelOrder[n]+"]]\x3e</order>",g+="<lastModifiedDate></lastModifiedDate>",g+="<mimeType></mimeType>",g+="<hashValue></hashValue>",g=KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName[n].lastIndexOf("/")+1==KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName[n].length?g+"<isFolder><![CDATA[1]]\x3e</isFolder>":g+"<isFolder><![CDATA[0]]\x3e</isFolder>",g+="<transferId><![CDATA["+
KUPLOADTOP.G_CURRKUPLOADER.nonDelTransferId[n]+"]]\x3e</transferId>",g+="<fileId><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.nonDelFileId[n]+"]]\x3e</fileId>",g+="</file>",p=KUPLOADTOP.G_CURRKUPLOADER.nonDelOrder[n],b&&(p=0),""!=KUPLOADTOP.G_CURRKUPLOADER.nonDelLogicalPath[n]?(void 0==c[p]&&(c[p]=[],a.push(p),f[p]={}),c[p].push(g)):f[p]=g;t=a.length;for(n=t-1;0<=n;n--)for(u=c[a[n]],f.splice(a[n],1),v=u.length,j=v-1;0<=j;j--)f.splice(a[n],0,u[j]);l=l.replace("{0}",f.join(""));e=KUPLOADTOP.RAONKUPLOAD.util.stringToXML(l)}}catch(x){e=
null}return e}
function getListInfoByIndexArray(b){var e=null,c=[],a=[];try{var f=KUPLOADTOP.G_CURRKUPLOADER.newOriginalName.length,g=KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName.length;if(0<f||0<g){for(var e=[],k=0;k<f;k++){for(var l=[],n=document.getElementById("file_list"),q=n.getElementsByTagName("input"),p=q[parseInt(KUPLOADTOP.G_CURRKUPLOADER.newOrder[k],10)].parentNode.parentNode,t=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItem.length,u=0,v=1;v<=t;v++){var x=v;if(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&
v<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&v<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder)l.push(p.childNodes[x].childNodes[0]);else if(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&v+1>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder&&v+1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder||
KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&v+1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder&&v+1>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder)x+=1,l.push(p.childNodes[x].childNodes[0]);else if(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&v+2>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder||
KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&v+2>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder)KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder?(v+2==KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder+1&&(u=x+2),l.push(p.childNodes[u].childNodes[v+2-(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder+1)])):
KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&(v+2==KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder+1&&(u=x+2),l.push(p.childNodes[u].childNodes[v+2-(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder+1)]))}var w={isWebFile:"0",uniqKey:"",originalName:KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[k],uploadName:KUPLOADTOP.G_CURRKUPLOADER.newUploadName[k],size:KUPLOADTOP.G_CURRKUPLOADER.newSize[k],uploadPath:KUPLOADTOP.G_CURRKUPLOADER.newUploadPath[k],
status:KUPLOADTOP.G_CURRKUPLOADER.newStatus[k],logicalPath:KUPLOADTOP.G_CURRKUPLOADER.newLogicalPath[k],extension:""==KUPLOADTOP.G_CURRKUPLOADER.newUploadName[k]?getExtensionEx(KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[k]):getExtensionEx(KUPLOADTOP.G_CURRKUPLOADER.newUploadName[k]),localPath:KUPLOADTOP.G_CURRKUPLOADER.newLocalPath[k],customValue:KUPLOADTOP.G_CURRKUPLOADER.newCustomValue[k],responseCustomValue:KUPLOADTOP.G_CURRKUPLOADER.newResponseCustomValue[k],isLargeFile:KUPLOADTOP.G_CURRKUPLOADER.newLargeFiles[k],
order:KUPLOADTOP.G_CURRKUPLOADER.newOrder[k],lastModifiedDate:KUPLOADTOP.G_CURRKUPLOADER.newLastModifiedDate[k],mimeType:KUPLOADTOP.G_CURRKUPLOADER.newMimeType[k],hashValue:KUPLOADTOP.G_CURRKUPLOADER.newHashValue[k],fileObject:KUPLOADTOP.G_CURRKUPLOADER.newFileObject[k],extraDataObject:KUPLOADTOP.G_CURRKUPLOADER.newExtraDataObject[k],isFolder:KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[k].lastIndexOf("/")+1==KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[k].length?1:0,transferId:KUPLOADTOP.G_CURRKUPLOADER.newTransferId[k],
fileId:KUPLOADTOP.G_CURRKUPLOADER.newFileId[k],customHeaderObject:l},y=KUPLOADTOP.G_CURRKUPLOADER.newOrder[k];b&&(y=0);""!=w.logicalPath?(void 0==c[y]&&(c[y]=[],a.push(y),e[y]={}),c[y].push(w)):e[y]=w}for(var C=a.length,k=C-1;0<=k;k--){var r=c[a[k]];e.splice(a[k],1);for(var A=r.length,v=A-1;0<=v;v--)e.splice(a[k],0,r[v])}c=[];a=[];for(k=0;k<g;k++){l=[];n=document.getElementById("file_list");q=n.getElementsByTagName("input");p=q[parseInt(KUPLOADTOP.G_CURRKUPLOADER.nonDelOrder[k],10)].parentNode.parentNode;
t=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItem.length;u=0;for(v=1;v<=t;v++)if(x=v,KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&v<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&v<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder)l.push(p.childNodes[x].childNodes[0]);
else if(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&v+1>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder&&v+1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&v+1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder&&v+1>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder)x+=
1,l.push(p.childNodes[x].childNodes[0]);else if(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&v+2>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&v+2>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder)KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder?
(v+2==KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder+1&&(u=x+2),l.push(p.childNodes[u].childNodes[v+2-(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder+1)])):KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&(v+2==KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder+1&&(u=x+2),l.push(p.childNodes[u].childNodes[v+2-(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder+1)]));w={isWebFile:"1",
uniqKey:KUPLOADTOP.G_CURRKUPLOADER.nonDelUniqKey[k],originalName:getFileName(KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName[k],!1),uploadName:"",size:KUPLOADTOP.G_CURRKUPLOADER.nonDelSize[k],uploadPath:KUPLOADTOP.G_CURRKUPLOADER.nonDelUploadPath[k],status:"",logicalPath:KUPLOADTOP.G_CURRKUPLOADER.nonDelLogicalPath[k],extension:getExtensionEx(KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName[k]),localPath:"",customValue:KUPLOADTOP.G_CURRKUPLOADER.nonDelCustomValue[k],responseCustomValue:"",isLargeFile:KUPLOADTOP.G_CURRKUPLOADER.nonDelLargeFiles[k],
order:KUPLOADTOP.G_CURRKUPLOADER.nonDelOrder[k],lastModifiedDate:"",mimeType:"",hashValue:"",isFolder:KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName[k].lastIndexOf("/")+1==KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName[k].length?1:0,transferId:KUPLOADTOP.G_CURRKUPLOADER.nonDelTransferId[k],fileId:KUPLOADTOP.G_CURRKUPLOADER.nonDelFileId[k],customHeaderObject:l};y=KUPLOADTOP.G_CURRKUPLOADER.nonDelOrder[k];b&&(y=0);""!=w.logicalPath?(void 0==c[y]&&(c[y]=[],a.push(y),e[y]={}),c[y].push(w)):e[y]=w}C=a.length;
for(k=C-1;0<=k;k--)for(r=c[a[k]],e.splice(a[k],1),A=r.length,v=A-1;0<=v;v--)e.splice(a[k],0,r[v])}}catch(G){e=null}return e}
function getSelectedListInfoArray(){var b={newFile:null,webFile:null};try{var e=KUPLOADTOP.G_CURRKUPLOADER.newOriginalName.length,c=KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName.length;if(0<e||0<c){for(var a=[],f=0;f<e;f++)if("1"==KUPLOADTOP.G_CURRKUPLOADER.newSelectFlag[f]){for(var g=[],k=document.getElementById("file_list"),l=k.getElementsByTagName("input"),n=l[parseInt(KUPLOADTOP.G_CURRKUPLOADER.newOrder[f],10)].parentNode.parentNode,q=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItem.length,p=
0,t=1;t<=q;t++){var u=t;if(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&t<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&t<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder)g.push(n.childNodes[u].childNodes[0]);else if(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<
KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&t+1>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder&&t+1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&t+1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder&&t+1>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder)u+=1,g.push(n.childNodes[u].childNodes[0]);else if(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<
KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&t+2>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&t+2>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder)KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder?(t+2==KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder+
1&&(p=u+2),g.push(n.childNodes[p].childNodes[t+2-(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder+1)])):KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&(t+2==KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder+1&&(p=u+2),g.push(n.childNodes[p].childNodes[t+2-(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder+1)]))}var v={isWebFile:"0",uniqKey:"",originalName:KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[f],
uploadName:KUPLOADTOP.G_CURRKUPLOADER.newUploadName[f],size:KUPLOADTOP.G_CURRKUPLOADER.newSize[f],uploadPath:KUPLOADTOP.G_CURRKUPLOADER.newUploadPath[f],status:KUPLOADTOP.G_CURRKUPLOADER.newStatus[f],logicalPath:KUPLOADTOP.G_CURRKUPLOADER.newLogicalPath[f],extension:""==KUPLOADTOP.G_CURRKUPLOADER.newUploadName[f]?getExtensionEx(KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[f]):getExtensionEx(KUPLOADTOP.G_CURRKUPLOADER.newUploadName[f]),localPath:KUPLOADTOP.G_CURRKUPLOADER.newLocalPath[f],customValue:KUPLOADTOP.G_CURRKUPLOADER.newCustomValue[f],
responseCustomValue:KUPLOADTOP.G_CURRKUPLOADER.newResponseCustomValue[f],isLargeFile:KUPLOADTOP.G_CURRKUPLOADER.newLargeFiles[f],order:KUPLOADTOP.G_CURRKUPLOADER.newOrder[f],lastModifiedDate:KUPLOADTOP.G_CURRKUPLOADER.newLastModifiedDate[f],mimeType:KUPLOADTOP.G_CURRKUPLOADER.newMimeType[f],hashValue:KUPLOADTOP.G_CURRKUPLOADER.newHashValue[f],extraDataObject:KUPLOADTOP.G_CURRKUPLOADER.newHashValue[f],isFolder:KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[f].lastIndexOf("/")+1==KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[f].length?
1:0,transferId:KUPLOADTOP.G_CURRKUPLOADER.newTransferId[f],fileId:KUPLOADTOP.G_CURRKUPLOADER.newFileId[f],customHeaderObject:g};a.push(v)}0<a.length&&(b.newFile=a);a=[];for(f=0;f<c;f++)if("1"==KUPLOADTOP.G_CURRKUPLOADER.nonDelSelectFlag[f]){g=[];k=document.getElementById("file_list");l=k.getElementsByTagName("input");n=l[parseInt(KUPLOADTOP.G_CURRKUPLOADER.nonDelOrder[f],10)].parentNode.parentNode;q=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItem.length;p=0;for(t=1;t<=q;t++)if(u=t,KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<
KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&t<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&t<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder)g.push(n.childNodes[u].childNodes[0]);else if(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&t+1>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder&&
t+1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&t+1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder&&t+1>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder)u+=1,g.push(n.childNodes[u].childNodes[0]);else if(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&
t+2>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&t+2>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder)KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder?(t+2==KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder+1&&(p=u+2),g.push(n.childNodes[p].childNodes[t+2-(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder+
1)])):KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&(t+2==KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder+1&&(p=u+2),g.push(n.childNodes[p].childNodes[t+2-(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder+1)]));v={isWebFile:"1",uniqKey:KUPLOADTOP.G_CURRKUPLOADER.nonDelUniqKey[f],originalName:getFileName(KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName[f],!1),uploadName:"",size:KUPLOADTOP.G_CURRKUPLOADER.nonDelSize[f],
uploadPath:KUPLOADTOP.G_CURRKUPLOADER.nonDelUploadPath[f],status:"",logicalPath:KUPLOADTOP.G_CURRKUPLOADER.nonDelLogicalPath[f],extension:getExtensionEx(KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName[f]),localPath:"",customValue:KUPLOADTOP.G_CURRKUPLOADER.nonDelCustomValue[f],responseCustomValue:"",isLargeFile:KUPLOADTOP.G_CURRKUPLOADER.nonDelLargeFiles[f],order:KUPLOADTOP.G_CURRKUPLOADER.nonDelOrder[f],lastModifiedDate:"",mimeType:"",hashValue:"",isFolder:KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName[f].lastIndexOf("/")+
1==KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName[f].length?1:0,transferId:KUPLOADTOP.G_CURRKUPLOADER.nonDelTransferId[f],fileId:KUPLOADTOP.G_CURRKUPLOADER.nonDelFileId[f],customHeaderObject:g};a.push(v)}0<a.length&&(b.webFile=a)}}catch(x){b={newFile:null,webFile:null}}return b}
function getSelectedListInfoJson(){var b={newFile:null,webFile:null};try{var e=KUPLOADTOP.G_CURRKUPLOADER.newOriginalName.length,c=KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName.length;if(0<e||0<c){for(var a='{"isWebFile": [{0}], "uniqKey": [{1}], "originalName": [{2}], "uploadName": [{3}], "size": [{4}], "uploadPath": [{5}], "status": [{6}], "logicalPath": [{7}], "extension": [{8}], "localPath": [{9}], "customValue": [{10}], "responseCustomValue": [{11}]',a=a+', "isLargeFile": [{12}], "order": [{13}], "lastModifiedDate": [{14}], "mimeType": [{15}], "hashValue": [{16}], "isFolder":[{17}], "transferId":[{18}], "fileId":[{19}] }',
f="",g="",k="",l="",n="",q="",p="",t="",u="",v="",x="",w="",y="",C="",r="",A="",G="",E="",D="",B="",z=0;z<e;z++)if("1"==KUPLOADTOP.G_CURRKUPLOADER.newSelectFlag[z]){""!=f&&(f+=",",g+=",",k+=",",l+=",",n+=",",q+=",",p+=",",t+=",",u+=",",v+=",",x+=",",w+=",",y+=",",C+=",",r+=",",A+=",",G+=",",E+=",",D+=",",B+=",");f+='"0"';g+='""';k+='"'+KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[z]+'"';l+='"'+KUPLOADTOP.G_CURRKUPLOADER.newUploadName[z]+'"';n+='"'+KUPLOADTOP.G_CURRKUPLOADER.newSize[z]+'"';q+='"'+KUPLOADTOP.G_CURRKUPLOADER.newUploadPath[z].replace(/\\/g,
"\\\\")+'"';p+='"'+KUPLOADTOP.G_CURRKUPLOADER.newStatus[z]+'"';if(""!=KUPLOADTOP.G_CURRKUPLOADER.newLogicalPath[z])var H=KUPLOADTOP.G_CURRKUPLOADER.newLogicalPath[z],H=H.replace(/\\/g,"\\\\"),t=t+('"'+H+'"');else t+='""';u+='"'+getExtensionEx(KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[z])+'"';v+='"'+KUPLOADTOP.G_CURRKUPLOADER.newLocalPath[z].replace(/\\/g,"\\\\")+'"';x+='"'+KUPLOADTOP.G_CURRKUPLOADER.newCustomValue[z]+'"';w+='"'+KUPLOADTOP.G_CURRKUPLOADER.newResponseCustomValue[z]+'"';y+='"'+KUPLOADTOP.G_CURRKUPLOADER.newLargeFiles[z]+
'"';C+='"'+KUPLOADTOP.G_CURRKUPLOADER.newOrder[z]+'"';r+='"'+KUPLOADTOP.G_CURRKUPLOADER.newLastModifiedDate[z]+'"';A+='"'+KUPLOADTOP.G_CURRKUPLOADER.newMimeType[z]+'"';G+='"'+KUPLOADTOP.G_CURRKUPLOADER.newHashValue[z]+'"';E=KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[z].lastIndexOf("/")+1==KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[z].length?E+'"1"':E+'"0"';D+='"'+KUPLOADTOP.G_CURRKUPLOADER.newTransferId[z]+'"';B+='"'+KUPLOADTOP.G_CURRKUPLOADER.newFileId[z]+'"'}if(""!=f){a=a.replace("{0}",f);a=a.replace("{1}",
g);a=a.replace("{2}",k);a=a.replace("{3}",l);a=a.replace("{4}",n);a=a.replace("{5}",q);a=a.replace("{6}",p);a=a.replace("{7}",t);a=a.replace("{8}",u);a=a.replace("{9}",v);a=a.replace("{10}",x);a=a.replace("{11}",w);a=a.replace("{12}",y);a=a.replace("{13}",C);a=a.replace("{14}",r);a=a.replace("{15}",A);a=a.replace("{16}",G);a=a.replace("{17}",E);a=a.replace("{18}",D);a=a.replace("{19}",B);try{b.newFile=JSON.parse(a)}catch(F){b.newFile=null}}a='{"isWebFile": [{0}], "uniqKey": [{1}], "originalName": [{2}], "uploadName": [{3}], "size": [{4}], "uploadPath": [{5}], "status": [{6}], "logicalPath": [{7}], "extension": [{8}], "localPath": [{9}], "customValue": [{10}], "responseCustomValue": [{11}]';
a+=', "isLargeFile": [{12}], "order": [{13}], "lastModifiedDate": [{14}], "mimeType": [{15}], "hashValue": [{16}], "isFolder": [{17}], "transferId": [{18}], "fileId": [{19}] }';B=D=E=G=A=r=C=y=w=x=v=u=t=p=q=n=l=k=g=f="";for(z=0;z<c;z++)"1"==KUPLOADTOP.G_CURRKUPLOADER.nonDelSelectFlag[z]&&(""!=f&&(f+=",",g+=",",k+=",",l+=",",n+=",",q+=",",p+=",",t+=",",u+=",",v+=",",x+=",",w+=",",y+=",",C+=",",r+=",",A+=",",G+=",",E+=",",D+=",",B+=","),f+='"1"',g+='"'+KUPLOADTOP.G_CURRKUPLOADER.nonDelUniqKey[z]+'"',
k+='"'+getFileName(KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName[z],!1)+'"',l+='""',n+='"'+KUPLOADTOP.G_CURRKUPLOADER.nonDelSize[z]+'"',q+='"'+KUPLOADTOP.G_CURRKUPLOADER.nonDelUploadPath[z].replace(/\\/g,"\\\\")+'"',p+='""',""!=KUPLOADTOP.G_CURRKUPLOADER.nonDelLogicalPath[z]?(H=KUPLOADTOP.G_CURRKUPLOADER.nonDelLogicalPath[z],H=H.replace(/\\/g,"\\\\"),t+='"'+H+'"'):t+='""',u+='"'+getExtensionEx(KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName[z])+'"',v+='""',x+='"'+KUPLOADTOP.G_CURRKUPLOADER.nonDelCustomValue[z]+
'"',w+='""',y+='"'+KUPLOADTOP.G_CURRKUPLOADER.nonDelLargeFiles[z]+'"',C+='"'+KUPLOADTOP.G_CURRKUPLOADER.nonDelOrder[z]+'"',r+='""',A+='""',G+='""',E+=KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName[z].lastIndexOf("/")+1==KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName[z].length?'"1"':'"0"',D+='"'+KUPLOADTOP.G_CURRKUPLOADER.nonDelTransferId[z]+'"',B+='"'+KUPLOADTOP.G_CURRKUPLOADER.nonDelFileId[z]+'"');if(""!=f){a=a.replace("{0}",f);a=a.replace("{1}",g);a=a.replace("{2}",k);a=a.replace("{3}",l);a=a.replace("{4}",
n);a=a.replace("{5}",q);a=a.replace("{6}",p);a=a.replace("{7}",t);a=a.replace("{8}",u);a=a.replace("{9}",v);a=a.replace("{10}",x);a=a.replace("{11}",w);a=a.replace("{12}",y);a=a.replace("{13}",C);a=a.replace("{14}",r);a=a.replace("{15}",A);a=a.replace("{16}",G);a=a.replace("{17}",E);a=a.replace("{18}",D);a=a.replace("{19}",B);try{b.webFile=JSON.parse(a)}catch(I){b.webFile=null}}}}catch(J){b={newFile:null,webFile:null}}return b}
function getSelectedListInfoXml(){var b={newFile:null,webFile:null};try{var e=KUPLOADTOP.G_CURRKUPLOADER.newOriginalName.length,c=KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName.length;if(0<e||0<c){for(var a='<?xml version="1.0" encoding="utf-8" ?>',a=a+"<files>{0}</files>",f="",g=0;g<e;g++)"1"==KUPLOADTOP.G_CURRKUPLOADER.newSelectFlag[g]&&(f+="<file>",f+="<isWebFile><![CDATA[0]]\x3e</isWebFile>",f+="<uniqKey></uniqKey>",f+="<originalName><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[g]+"]]\x3e</originalName>",
f+="<uploadName><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newUploadName[g]+"]]\x3e</uploadName>",f+="<size><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newSize[g]+"]]\x3e</size>",f+="<uploadPath><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newUploadPath[g]+"]]\x3e</uploadPath>",f+="<status><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newStatus[g]+"]]\x3e</status>",f+="<logicalPath><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newLogicalPath[g]+"]]\x3e</logicalPath>",f+="<extension><![CDATA["+getExtensionEx(KUPLOADTOP.G_CURRKUPLOADER.newUploadName[g])+
"]]\x3e</extension>",f+="<localPath><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newLocalPath[g]+"]]\x3e</localPath>",f+="<customValue><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newCustomValue[g]+"]]\x3e</customValue>",f+="<responseCustomValue><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newResponseCustomValue[g]+"]]\x3e</responseCustomValue>",f+="<isLargeFile><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newLargeFiles[g]+"]]\x3e</isLargeFile>",f+="<order><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newOrder[g]+"]]\x3e</order>",f+=
"<lastModifiedDate><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newLastModifiedDate[g]+"]]\x3e</lastModifiedDate>",f+="<mimeType><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newMimeType[g]+"]]\x3e</mimeType>",f+="<hashValue><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newHashValue[g]+"]]\x3e</hashValue>",f=KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[g].lastIndexOf("/")+1==KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[g].length?f+"<isFolder><![CDATA[1]]\x3e</isFolder>":f+"<isFolder><![CDATA[0]]\x3e</isFolder>",f+="<transferId><![CDATA["+
KUPLOADTOP.G_CURRKUPLOADER.newTransferId[g]+"]]\x3e</transferId>",f+="<fileId><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.newFileId[g]+"]]\x3e</fileId>",f+="</file>");if(""!=f){a=a.replace("{0}",f);try{b.newFile=KUPLOADTOP.RAONKUPLOAD.util.stringToXML(a)}catch(k){b.newFile=null}}a='<?xml version="1.0" encoding="utf-8" ?>';a+="<files>{0}</files>";f="";for(g=0;g<c;g++)"1"==KUPLOADTOP.G_CURRKUPLOADER.nonDelSelectFlag[g]&&"1"==KUPLOADTOP.G_CURRKUPLOADER.newSelectFlag[g]&&(f+="<file>",f+="<isWebFile><![CDATA[1]]\x3e</isWebFile>",
f+="<uniqKey><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.nonDelUniqKey[g]+"]]\x3e</uniqKey>",f+="<originalName><![CDATA["+getFileName(KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName[g],!1)+"]]\x3e</originalName>",f+="<uploadName></uploadName>",f+="<size><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.nonDelSize[g]+"]]\x3e</size>",f+="<uploadPath><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.nonDelUploadPath[g]+"]]\x3e</uploadPath>",f+="<status></status>",f+="<logicalPath><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.nonDelLogicalPath[g]+
"]]\x3e</logicalPath>",f+="<extension><![CDATA["+getExtensionEx(KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName[g])+"]]\x3e</extension>",f+="<localPath></localPath>",f+="<customValue><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.nonDelCustomValue[g]+"]]\x3e</customValue>",f+="<responseCustomValue></responseCustomValue>",f+="<isLargeFile><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.nonDelLargeFiles[g]+"]]\x3e</isLargeFile>",f+="<order><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.nonDelOrder[g]+"]]\x3e</order>",f+="<lastModifiedDate></lastModifiedDate>",
f+="<mimeType></mimeType>",f+="<hashValue></hashValue>",f=KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName[g].lastIndexOf("/")+1==KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName[g].length?f+"<isFolder><![CDATA[1]]\x3e</isFolder>":f+"<isFolder><![CDATA[0]]\x3e</isFolder>",f+="<transferId><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.nonDelTransferId[g]+"]]\x3e</transferId>",f+="<fileId><![CDATA["+KUPLOADTOP.G_CURRKUPLOADER.nonDelFileId[g]+"]]\x3e</fileId>",f+="</file>");if(""!=f){a=a.replace("{0}",f);try{b.webFile=
KUPLOADTOP.RAONKUPLOAD.util.stringToXML(a)}catch(l){b.webFile=null}}}}catch(n){b={newFile:null,webFile:null}}return b}
function getSelectedListInfoText(){var b={newFile:null,webFile:null};try{var e=KUPLOADTOP.G_CURRKUPLOADER.newOriginalName.length,c=KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName.length;if(0<e||0<c){for(var a="",f=0;f<e;f++)"1"==KUPLOADTOP.G_CURRKUPLOADER.newSelectFlag[f]&&(""!=a&&(a+=KUPLOADTOP.G_CURRKUPLOADER._config.unitDelimiter),a+="0",a+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+"",a+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[f],
a+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newUploadName[f],a+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newSize[f],a+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newUploadPath[f],a+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newStatus[f],a+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newLogicalPath[f],
a+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+(""==KUPLOADTOP.G_CURRKUPLOADER.newUploadName[f]?getExtensionEx(KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[f]):getExtensionEx(KUPLOADTOP.G_CURRKUPLOADER.newUploadName[f])),a+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newLocalPath[f],a+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newCustomValue[f],a+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+
KUPLOADTOP.G_CURRKUPLOADER.newResponseCustomValue[f],a+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newLargeFiles[f],a+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newOrder[f],a+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newLastModifiedDate[f],a+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newMimeType[f],a+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+
KUPLOADTOP.G_CURRKUPLOADER.newHashValue[f],a+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+(KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[f].lastIndexOf("/")+1==KUPLOADTOP.G_CURRKUPLOADER.newOriginalName[f].length?"1":"0"),a+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newTransferId[f],a+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.newFileId[f]);""!=a&&(b.newFile=a);a="";for(f=0;f<c;f++)"1"==KUPLOADTOP.G_CURRKUPLOADER.nonDelSelectFlag[f]&&
(a+="1",a+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.nonDelUniqKey[f],a+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+getFileName(KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName[f],!1),a+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+"",a+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.nonDelSize[f],a+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.nonDelUploadPath[f],
a+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+"",a+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.nonDelLogicalPath[f],a+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+getExtensionEx(KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName[f]),a+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+"",a+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.nonDelCustomValue[f],a+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+
"",a+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.nonDelLargeFiles[f],a+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.nonDelOrder[f],a+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+"",a+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+"",a+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+"",a+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+(KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName[f].lastIndexOf("/")+
1==KUPLOADTOP.G_CURRKUPLOADER.nonDelOriginalName[f].length?"1":"0"),a+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.nonDelTransferId[f],a+=KUPLOADTOP.G_CURRKUPLOADER._config.unitAttributeDelimiter+KUPLOADTOP.G_CURRKUPLOADER.nonDelFileId[f]);""!=a&&(b.webFile=a)}}catch(g){b={newFile:null,webFile:null}}return b}
function closeInstallPopup(b,e){void 0==b&&(b=KUPLOADTOP.G_CURRKUPLOADER);var c=getDialogDocument(),a=getDialogWindow();try{c.getElementById("kupload_install_div")&&c.getElementById("kupload_install_div").parentNode.removeChild(c.getElementById("kupload_install_div"))}catch(f){}try{c.getElementById("kupload_install_div_back")&&c.getElementById("kupload_install_div_back").parentNode.removeChild(c.getElementById("kupload_install_div_back"))}catch(g){}try{KUPLOADTOP.RAONKUPLOAD.installGuideResizeEvt&&
KUPLOADTOP.RAONKUPLOAD.util.removeEvent(a,"resize",KUPLOADTOP.RAONKUPLOAD.installGuideResizeEvt)}catch(k){}if(!0===e)try{"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.closeInstallPopup?KUPLOADTOP.G_CURRKUPLOADER._config.event.closeInstallPopup(b.ID):"function"===typeof KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_CloseInstallPopup&&KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_CloseInstallPopup(b.ID)}catch(l){}}
function getRealIndexByListIndex(b){var e=null,c=document.getElementById("file_list");-1==b&&(b=c.childNodes.length-1);(b=c.childNodes[b])&&(e=b.getElementsByTagName("input")[0].getAttribute("listvalue"))&&(e=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(e));return e}function getNetworkSpeedType(b){var e=1;0<b&&300>b?e=2:300<b&&700>b?e=1:700<b&&(e=0);return e}function isEmptyFolder(b){var e=!1;b=b.substring(b.length-1);if("\\"==b||"/"==b)e=!0;return e}
function useManagerDropZone(b,e){var c,a;if(e&&e.getAttribute("target_upload")&&""!=e.getAttribute("target_upload")){var f=e.getAttribute("target_upload");c=KUPLOADTOP.RAONKUPLOAD.GetUploadByName(f);KUPLOADTOP.G_CURRKUPLOADER=c}void 0==c&&(c=KUPLOADTOP.G_CURRKUPLOADER);a=c.frameWin;var f=b.clientX,g=b.clientY,k=1;void 0!=window.devicePixelRatio?k=window.devicePixelRatio:void 0!=screen.deviceXDPI&&void 0!=screen.logicalXDPI&&screen.deviceXDPI!=screen.logicalXDPI&&(k=1*screen.deviceXDPI/screen.logicalXDPI);
1!=k&&(f*=k,g*=k);var l=b.screenX-f,n=b.screenY-g;if("1"==c._config.useKManager){var f=function(a){var b;96==c.osDPI?b=100:120==c.osDPI?b=125:144==c.osDPI&&(b=150);var e=1,e=1*k/(1*b/100);a.uploadRectW=q/k;a.uploadRectH=p/k;a.dropZoneX=l/k;a.dropZoneY=n/k;1!=e&&(a.uploadRectW=q*e,a.uploadRectH=p*e,a.dropZoneX=l*e,a.dropZoneY=n*e);return a},q=0,p=0;if("1"==c._config.dragAndDropMode&&void 0!=KUPLOADTOP.screenX&&void 0!=KUPLOADTOP.outerWidth)l=KUPLOADTOP.screenX*k,n=KUPLOADTOP.screenY*k,q=KUPLOADTOP.outerWidth*
k,p=KUPLOADTOP.outerHeight*k,96<c.osDPI&&(f=f({uploadRectW:q,uploadRectH:p,dropZoneX:l,dropZoneY:n}),l=f.dropZoneX,n=f.dropZoneY,q=f.uploadRectW,p=f.uploadRectH);else{if(KUPLOADTOP.RAONKUPLOAD.browser.chrome||KUPLOADTOP.RAONKUPLOAD.browser.opera)n=window.screenY+n;window.screenX>=l?(KUPLOADTOP.RAONKUPLOAD.browser.ie&&1>k||(l+=window.screenX),KUPLOADTOP.RAONKUPLOAD.browser.chrome&&(l+=5)):5>=window.screenX&&(KUPLOADTOP.RAONKUPLOAD.browser.chrome||KUPLOADTOP.RAONKUPLOAD.browser.opera)&&(l=window.screenX+
l,KUPLOADTOP.RAONKUPLOAD.browser.chrome&&(l+=5));g=null;g=null==e||void 0==e?a.document.getElementById("RAON_K_UP_wrapper"):e;g=KUPLOADTOP.RAONKUPLOAD.util.getClientRect(g);q=g.right-g.left;p=g.bottom-g.top;1!=k&&(q*=k,p*=k);e&&(0>e.className.indexOf("raonkdropzone_over")&&(e.className=e.className.replace("raonkdropzone","raonkdropzone_over")),l+=g.left*k,n+=g.top*k);96<c.osDPI&&"Windows"==KUPLOADTOP.RAONKUPLOAD.UserAgent.os.name&&"10"==KUPLOADTOP.RAONKUPLOAD.UserAgent.os.version&&KUPLOADTOP.RAONKUPLOAD.browser.ie&&
(f=f({uploadRectW:q,uploadRectH:p,dropZoneX:l,dropZoneY:n}),l=f.dropZoneX,n=f.dropZoneY,q=f.uploadRectW,p=f.uploadRectH)}f=[["kcmd","KC02"]];f.push(["k05",c._config.security.keyValue]);f.push(["k16",c._config.managerLang]);f.push(["k17",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(c._config.useScriptEventControl)]);f.push(["k40",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(c._config.security.fileExtensionDetector)]);g="*.*";"1"==c._config.extension.allowOrLimit&&""!=c._config.extension.extToString&&(g=c._config.extension.extToString);
f.push(["s01",encodeURIComponent(g)]);f.push(["s02",c._config.maxTotalFileCount+""]);f.push(["s03",c._config.maxTotalFileSize+""]);f.push(["s04",c._config.maxOneFileSize+""]);f.push(["s05",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(c._config.folderTransfer)]);f.push(["s06",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(c._config.extension.allowOrLimit)]);f.push(["s07",encodeURIComponent(c._config.extension.extToString)]);f.push(["s09",KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(c._config.getFolderInFile)]);g=l+
KUPLOADTOP.RAONKSolution.Agent.vertical;g+=n+KUPLOADTOP.RAONKSolution.Agent.vertical;g+=q+KUPLOADTOP.RAONKSolution.Agent.vertical;g+=p+KUPLOADTOP.RAONKSolution.Agent.vertical;g+=c._config.dropZoneTransparency;f.push(["kp1",g]);var t=setManagerParam("{}",f),t=KUPLOADTOP.RAONKSolution.Agent.makeEncryptManagerParam(t),u=function(b){KUPLOADTOP.RAONKUPLOAD.IsCreatedDropZone=!1;e&&(e.className=e.className.replace("raonkdropzone_over","raonkdropzone"));b=KUPLOADTOP.RAONKSolution.Agent.parseRtn(b);var c=
b.code;b=b.valueArr;var f=getTotalFileCount(),g=KUPLOADTOP.G_CURRKUPLOADER._config.maxTotalFileCount;if(1E3==c)if(0==g||f<g){g=[];c=b.length;for(f=0;f<c;f++)try{var k=b[f].split(KUPLOADTOP.RAONKSolution.Agent.formfeed);if("2"==k[0])alert(k[1]);else{var l={name:k[1].substring(k[1].lastIndexOf(KUPLOADTOP.RAONKUPLOAD.UserAgent.osSeparator)+1),type:"",uniqValue:"",isFolder:k[0],localPath:k[1],size:KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(k[2]),subFolderCount:"",fileCount:"",logicalPath:""};if("1"==k[0]){l.localPath+=
KUPLOADTOP.RAONKUPLOAD.UserAgent.osSeparator;l.subFolderCount=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(k[3]);l.fileCount=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(k[4]);l.logicalPath=k[1];var n=k[1].split(KUPLOADTOP.RAONKUPLOAD.UserAgent.osSeparator);l.rootFolderName=n[n.length-1];l.folderIdx=a.FOLDERLISTINFO.length;a.FOLDERLISTINFO[l.folderIdx]=[];if(k[7])for(var p=k[7].split(KUPLOADTOP.RAONKSolution.Agent.backspace),q=p.length,B=0;B<q;B++){var z=k[1];0==p[B].indexOf(k[1])&&(z=l.rootFolderName+"/"+
p[B].substring(k[1].length+1).replace(/\\/g,"/"),z=z.substring(0,z.lastIndexOf("/")));var H={uploadName:"",uploadPath:"",logicalPath:z,originName:getFileName(p[B],!1),fileSize:"",customValue:"",localPath:p[B],lastModifiedDate:"",mimeType:"",hashValue:""};a.FOLDERLISTINFO[l.folderIdx].push(H)}}else l.lastModifiedDate=k[4],l.type=k[3];g.push(l)}}catch(F){}k=e&&""!=e?e.id:"";a.displayCommonReady(!1,KUPLOADTOP.G_CURRKUPLOADER);a.fileHandler(g,"","",k)}else"0"==KUPLOADTOP.G_CURRKUPLOADER._config.disableAlertMessage.fileMaxCountAdd&&
(k=RAONKUpload_Lang.message_limit_num,k=k.replace("{0}",g),alert(k)),a.displayCommonReady(!1,KUPLOADTOP.G_CURRKUPLOADER);else 2E3==c?(0==g||f<g?b[0]&&(k=b[0].split(KUPLOADTOP.RAONKSolution.Agent.formfeed),"2"==k[0]&&k[1]&&alert(k[1])):"0"==KUPLOADTOP.G_CURRKUPLOADER._config.disableAlertMessage.fileMaxCountAdd&&(k=RAONKUpload_Lang.message_limit_num,k=k.replace("{0}",g),alert(k)),a.displayCommonReady(!1,KUPLOADTOP.G_CURRKUPLOADER)):2001==c&&a.sendMessageToAgent(t,u,v,!0)},v=function(b){KUPLOADTOP.G_CURRKUPLOADER._config.sendToManagerType=
"2";a.sendMessageToAgent(t,u,null,!1)};KUPLOADTOP.RAONKUPLOAD.IsCreatedDropZone&&c.lastAgentCmd==t||(KUPLOADTOP.RAONKUPLOAD.IsCreatedDropZone=!0,c.lastAgentCmd=t,a.displayCommonReady(!0,KUPLOADTOP.G_CURRKUPLOADER),a.sendMessageToAgent(t,u,v,!0))}}
function sendMessageToAgent(b,e,c,a,f,g){"1"==KUPLOADTOP.G_CURRKUPLOADER._config.sendToManagerType&&"html4"!=KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode?(b={req:KUPLOADTOP.RAONKUPLOAD._manager.createManagerRequest(),async:a?!0:!1,errorCallBack:c,successCallBack:e,data:b,url:f&&""!=f?f:KUPLOADTOP.RAONKSolution.managerFinalUrl},KUPLOADTOP.RAONKUPLOAD._manager.sendDataWidthAjax(b)):(b={managerParamStr:b,fn_success:e,frameId:KUPLOADTOP.RAONKUPLOAD.util.makeGuid(),currUpload:g},f&&""!=f&&(b.url=
f),null==e&&(b.frameId=KUPLOADTOP.RAONKUPLOAD.util.makeGuid()),sendManagerDataWithForm(b))}
function shiftListClick(b,e,c){if("1"!=KUPLOADTOP.G_CURRKUPLOADER._config.useSingleSelect){for(var a=0;a<e;a++)before_shift_idx>=b?a>=b&&before_shift_idx>=a?(c[a].checked=!0,fileListSelection(c[a])):(c[a].checked=!1,fileListNoneSelection(c[a])):b>=a&&a>=before_shift_idx?(c[a].checked=!0,fileListSelection(c[a])):(c[a].checked=!1,fileListNoneSelection(c[a])),fileListNoneSelectionBorder(c[a]);fileListSelectionBorder(c[b]);c[b].focus();b=document.getElementById("chk_all_box");for(var a=!0,f=0;f<e;f++)if(0==
c[f].checked){a=!1;break}b.checked=a}}
function listControlKeydown(b,e){for(var c=document.getElementById("file_list").getElementsByTagName("input"),a=c.length,f=[],g=0;g<a;g++)"checkbox"==c[g].type&&f.push(c[g]);a=f.length;if(1==b.shiftKey)(39==e||40==e)&&select_file_idx<a?(select_file_idx+1!=a&&(select_file_idx+=1),shiftListClick(select_file_idx,a,f),moveFileScroll(!0)):(37==e||38==e)&&0<=select_file_idx?(0!=select_file_idx&&--select_file_idx,shiftListClick(select_file_idx,a,f),moveFileScroll(!0)):35==e?(select_file_idx=a-1,shiftListClick(select_file_idx,
a,f),moveFileScroll(!0)):36==e&&(select_file_idx=0,shiftListClick(select_file_idx,a,f),moveFileScroll(!0));else if(1==b.ctrlKey)if(32==e&&-1!=select_file_idx){KUPLOADTOP.RAONKUPLOAD.browser.gecko?1==f[select_file_idx].checked?(f[select_file_idx].checked=!0,fileListSelection(f[select_file_idx])):(f[select_file_idx].checked=!1,fileListNoneSelection(f[select_file_idx])):0==f[select_file_idx].checked?(f[select_file_idx].checked=!0,fileListSelection(f[select_file_idx])):(f[select_file_idx].checked=!1,
fileListNoneSelection(f[select_file_idx]));fileListSelectionBorder(f[select_file_idx]);before_shift_idx=select_file_idx;moveFileScroll(!0);for(var c=document.getElementById("chk_all_box"),k=!0,g=0;g<a;g++)if(0==f[g].checked){k=!1;break}c.checked=k}else if((39==e||40==e)&&select_file_idx+1<a)-1!=select_file_idx&&fileListNoneSelectionBorder(f[select_file_idx]),select_file_idx+=1,fileListSelectionBorder(f[select_file_idx]),f[select_file_idx].focus(),moveFileScroll(!0);else if((37==e||38==e)&&0<select_file_idx)-1!=
select_file_idx&&fileListNoneSelectionBorder(f[select_file_idx]),--select_file_idx,fileListSelectionBorder(f[select_file_idx]),f[select_file_idx].focus(),moveFileScroll(!0);else if(35==e)-1!=select_file_idx&&fileListNoneSelectionBorder(f[select_file_idx]),select_file_idx=a-1,fileListSelectionBorder(f[select_file_idx]),f[select_file_idx].focus(),moveFileScroll(!0);else if(36==e)-1!=select_file_idx&&fileListNoneSelectionBorder(f[select_file_idx]),select_file_idx=0,fileListSelectionBorder(f[select_file_idx]),
f[select_file_idx].focus(),moveFileScroll(!0);else{if(65==e&&"1"!=KUPLOADTOP.G_CURRKUPLOADER._config.useSingleSelect){for(g=0;g<a;g++)f[g].checked=!0,fileListSelection(f[g]);c=document.getElementById("chk_all_box");c.checked=!0}}else if(35==e||36==e||37==e||38==e||39==e||40==e){if(0==b.ctrlKey)for(g=0;g<a;g++)g!=select_file_idx&&(f[g].checked=!1,fileListNoneSelection(f[g]),fileListNoneSelectionBorder(f[g]));c=document.getElementById("chk_all_box");c.checked=!1;if((39==e||40==e)&&select_file_idx<a)0<=
select_file_idx&&(f[select_file_idx].checked=!1,fileListNoneSelection(f[select_file_idx]),fileListNoneSelectionBorder(f[select_file_idx])),select_file_idx+1!=a&&(select_file_idx+=1),f[select_file_idx].checked=!0,fileListSelection(f[select_file_idx]),fileListSelectionBorder(f[select_file_idx]),f[select_file_idx].focus();else if((37==e||38==e)&&0<=select_file_idx)select_file_idx<a&&(f[select_file_idx].checked=!1,fileListNoneSelection(f[select_file_idx]),fileListNoneSelectionBorder(f[select_file_idx])),
0!=select_file_idx&&--select_file_idx,f[select_file_idx].checked=!0,fileListSelection(f[select_file_idx]),fileListSelectionBorder(f[select_file_idx]),f[select_file_idx].focus();else if(35==e){for(g=0;g<a-1;g++)f[g].checked=!1,fileListNoneSelection(f[g]),fileListNoneSelectionBorder(f[g]);f[a-1].checked=!0;fileListSelection(f[a-1]);fileListSelectionBorder(f[a-1]);select_file_idx=a-1;f[select_file_idx].focus()}else if(36==e){for(g=a-1;0<g;g--)f[g].checked=!1,fileListNoneSelection(f[g]),fileListNoneSelectionBorder(f[g]);
f[0].checked=!0;fileListSelection(f[0]);fileListSelectionBorder(f[0]);select_file_idx=0;f[select_file_idx].focus()}before_shift_idx=select_file_idx;moveFileScroll(!0)}else 32==e&&-1!=select_file_idx&&(KUPLOADTOP.RAONKUPLOAD.browser.gecko?1==f[select_file_idx].checked?(f[select_file_idx].checked=!0,fileListSelection(f[select_file_idx])):(f[select_file_idx].checked=!1,fileListNoneSelection(f[select_file_idx])):0==f[select_file_idx].checked?(f[select_file_idx].checked=!0,fileListSelection(f[select_file_idx])):
(f[select_file_idx].checked=!1,fileListNoneSelection(f[select_file_idx])),fileListSelectionBorder(f[select_file_idx]),before_shift_idx=select_file_idx);try{b.stopPropagation(),b.preventDefault()}catch(l){KUPLOADTOP.RAONKUPLOAD.util.cancelEvent(b)}}
function thumbsListControlKeydown(b,e){for(var c=document.getElementById("file_list").getElementsByTagName("input"),a=c.length,f=[],g=0;g<a;g++)"checkbox"==c[g].type&&f.push(c[g]);a=f.length;if(1==b.shiftKey){var k,l;0<=select_file_idx&&(k=KUPLOADTOP.RAONKUPLOAD.util.getClientRect(f[select_file_idx]).left,l=KUPLOADTOP.RAONKUPLOAD.util.getClientRect(f[select_file_idx]).top);if(40==e&&select_file_idx<a){if(0<=select_file_idx){if(select_file_idx+1!=a)for(g=0;g<a;g++){var c=KUPLOADTOP.RAONKUPLOAD.util.getClientRect(f[g]).left,
n=KUPLOADTOP.RAONKUPLOAD.util.getClientRect(f[g]).top;if(k==c&&n>l){select_file_idx=g;break}}}else select_file_idx=0;shiftListClick(select_file_idx,a,f);moveFileScroll(!0)}else if(38==e&&0<=select_file_idx){if(0!=select_file_idx)for(g=a-1;0<=g;g--)if(c=KUPLOADTOP.RAONKUPLOAD.util.getClientRect(f[g]).left,n=KUPLOADTOP.RAONKUPLOAD.util.getClientRect(f[g]).top,k==c&&n<l){select_file_idx=g;break}shiftListClick(select_file_idx,a,f);moveFileScroll(!0)}else 39==e&&select_file_idx<a?(select_file_idx+1!=a&&
(select_file_idx+=1),shiftListClick(select_file_idx,a,f),moveFileScroll(!0)):37==e&&0<=select_file_idx?(0!=select_file_idx&&--select_file_idx,shiftListClick(select_file_idx,a,f),moveFileScroll(!0)):35==e?(select_file_idx=a-1,shiftListClick(select_file_idx,a,f),moveFileScroll(!0)):36==e&&(select_file_idx=0,shiftListClick(select_file_idx,a,f),moveFileScroll(!0))}else if(1==b.ctrlKey)if(-1!=select_file_idx&&(k=KUPLOADTOP.RAONKUPLOAD.util.getClientRect(f[select_file_idx]).left,l=KUPLOADTOP.RAONKUPLOAD.util.getClientRect(f[select_file_idx]).top),
32==e&&-1!=select_file_idx){KUPLOADTOP.RAONKUPLOAD.browser.gecko?1==f[select_file_idx].checked?(f[select_file_idx].checked=!0,fileListSelection(f[select_file_idx])):(f[select_file_idx].checked=!1,fileListNoneSelection(f[select_file_idx])):0==f[select_file_idx].checked?(f[select_file_idx].checked=!0,fileListSelection(f[select_file_idx])):(f[select_file_idx].checked=!1,fileListNoneSelection(f[select_file_idx]));fileListSelectionBorder(f[select_file_idx]);before_shift_idx=select_file_idx;moveFileScroll(!0);
c=document.getElementById("chk_all_box");k=!0;for(g=0;g<a;g++)if(0==f[g].checked){k=!1;break}c.checked=k}else if(40==e&&select_file_idx+1<a){if(-1!=select_file_idx)for(fileListNoneSelectionBorder(f[select_file_idx]),g=0;g<a;g++){if(c=KUPLOADTOP.RAONKUPLOAD.util.getClientRect(f[g]).left,n=KUPLOADTOP.RAONKUPLOAD.util.getClientRect(f[g]).top,k==c&&n>l){select_file_idx=g;break}}else select_file_idx=0;fileListSelectionBorder(f[select_file_idx]);f[select_file_idx].focus();moveFileScroll(!0)}else if(38==
e&&0<select_file_idx){if(-1!=select_file_idx)for(fileListNoneSelectionBorder(f[select_file_idx]),g=a-1;0<=g;g--){if(c=KUPLOADTOP.RAONKUPLOAD.util.getClientRect(f[g]).left,n=KUPLOADTOP.RAONKUPLOAD.util.getClientRect(f[g]).top,k==c&&n<l){select_file_idx=g;break}}else select_file_idx=0;fileListSelectionBorder(f[select_file_idx]);f[select_file_idx].focus();moveFileScroll(!0)}else if(39==e&&select_file_idx+1<a)-1!=select_file_idx&&fileListNoneSelectionBorder(f[select_file_idx]),select_file_idx+=1,fileListSelectionBorder(f[select_file_idx]),
f[select_file_idx].focus(),moveFileScroll(!0);else if(37==e&&0<select_file_idx)-1!=select_file_idx&&fileListNoneSelectionBorder(f[select_file_idx]),--select_file_idx,fileListSelectionBorder(f[select_file_idx]),f[select_file_idx].focus(),moveFileScroll(!0);else if(35==e)-1!=select_file_idx&&fileListNoneSelectionBorder(f[select_file_idx]),select_file_idx=a-1,fileListSelectionBorder(f[select_file_idx]),f[select_file_idx].focus(),moveFileScroll(!0);else if(36==e)-1!=select_file_idx&&fileListNoneSelectionBorder(f[select_file_idx]),
select_file_idx=0,fileListSelectionBorder(f[select_file_idx]),f[select_file_idx].focus(),moveFileScroll(!0);else{if(65==e&&"1"!=KUPLOADTOP.G_CURRKUPLOADER._config.useSingleSelect)for(g=0;g<a;g++)f[g].checked=!0,fileListSelection(f[g])}else if(35==e||36==e||37==e||38==e||39==e||40==e){if(0==b.ctrlKey)for(g=0;g<a;g++)g!=select_file_idx&&(f[g].checked=!1,fileListNoneSelection(f[g]),fileListNoneSelectionBorder(f[g]));c=document.getElementById("chk_all_box");c.checked=!1;-1!=select_file_idx&&(k=KUPLOADTOP.RAONKUPLOAD.util.getClientRect(f[select_file_idx]).left,
l=KUPLOADTOP.RAONKUPLOAD.util.getClientRect(f[select_file_idx]).top);if(40==e&&select_file_idx<a){if(0<=select_file_idx){if(f[select_file_idx].checked=!1,fileListNoneSelection(f[select_file_idx]),fileListNoneSelectionBorder(f[select_file_idx]),select_file_idx+1!=a)for(g=0;g<a;g++)if(c=KUPLOADTOP.RAONKUPLOAD.util.getClientRect(f[g]).left,n=KUPLOADTOP.RAONKUPLOAD.util.getClientRect(f[g]).top,k==c&&n>l){select_file_idx=g;break}}else select_file_idx=0;f[select_file_idx].checked=!0;fileListSelection(f[select_file_idx]);
fileListSelectionBorder(f[select_file_idx]);f[select_file_idx].focus()}else if(38==e&&0<=select_file_idx){select_file_idx<a&&(f[select_file_idx].checked=!1,fileListNoneSelection(f[select_file_idx]),fileListNoneSelectionBorder(f[select_file_idx]));if(0!=select_file_idx)for(g=a-1;0<=g;g--)if(c=KUPLOADTOP.RAONKUPLOAD.util.getClientRect(f[g]).left,n=KUPLOADTOP.RAONKUPLOAD.util.getClientRect(f[g]).top,k==c&&n<l){select_file_idx=g;break}f[select_file_idx].checked=!0;fileListSelection(f[select_file_idx]);
fileListSelectionBorder(f[select_file_idx]);f[select_file_idx].focus()}else if(39==e&&select_file_idx<a)0<=select_file_idx&&(f[select_file_idx].checked=!1,fileListNoneSelection(f[select_file_idx]),fileListNoneSelectionBorder(f[select_file_idx])),select_file_idx+1!=a&&(select_file_idx+=1),f[select_file_idx].checked=!0,fileListSelection(f[select_file_idx]),fileListSelectionBorder(f[select_file_idx]),f[select_file_idx].focus();else if(37==e&&0<=select_file_idx)select_file_idx<a&&(f[select_file_idx].checked=
!1,fileListNoneSelection(f[select_file_idx]),fileListNoneSelectionBorder(f[select_file_idx])),0!=select_file_idx&&--select_file_idx,f[select_file_idx].checked=!0,fileListSelection(f[select_file_idx]),fileListSelectionBorder(f[select_file_idx]),f[select_file_idx].focus();else if(35==e){for(g=0;g<a-1;g++)f[g].checked=!1,fileListNoneSelection(f[g]),fileListNoneSelectionBorder(f[g]);f[a-1].checked=!0;fileListSelection(f[a-1]);fileListSelectionBorder(f[a-1]);select_file_idx=a-1;f[select_file_idx].focus()}else if(36==
e){for(g=a-1;0<g;g--)f[g].checked=!1,fileListNoneSelection(f[g]),fileListNoneSelectionBorder(f[g]);f[0].checked=!0;fileListSelection(f[0]);fileListSelectionBorder(f[0]);select_file_idx=0;f[select_file_idx].focus()}before_shift_idx=select_file_idx;moveFileScroll(!0)}else 32==e&&-1!=select_file_idx&&(KUPLOADTOP.RAONKUPLOAD.browser.gecko?1==f[select_file_idx].checked?(f[select_file_idx].checked=!0,fileListSelection(f[select_file_idx])):(f[select_file_idx].checked=!1,fileListNoneSelection(f[select_file_idx])):
0==f[select_file_idx].checked?(f[select_file_idx].checked=!0,fileListSelection(f[select_file_idx])):(f[select_file_idx].checked=!1,fileListNoneSelection(f[select_file_idx])),fileListSelectionBorder(f[select_file_idx]),before_shift_idx=select_file_idx,moveFileScroll(!0));try{b.stopPropagation(),b.preventDefault()}catch(q){KUPLOADTOP.RAONKUPLOAD.util.cancelEvent(b)}}
function keyboardShiftNoneSelection(b,e,c){for(var a=0;a<e;a++)b>=before_shift_idx?before_shift_idx<=a&&a<=b||(c[a].checked=!1,fileListNoneSelection(c[a]),fileListNoneSelectionBorder(c[a])):b<=a&&a<=before_shift_idx||(c[a].checked=!1,fileListNoneSelection(c[a]),fileListNoneSelectionBorder(c[a]))}
function fileListSelectionBorder(b){b=b.parentNode.parentNode;var e,c,a;if("thumbs"==KUPLOADTOP.G_CURRKUPLOADER._config.views)e=b.childNodes[1].childNodes[1],e.className="fileNameSelectionBorderThumbs";else{e=b.childNodes[KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder].childNodes[1];c=b.childNodes[KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder].childNodes[0];a=b.childNodes[KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder];var f=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItem.length;
KUPLOADTOP.RAONKUPLOAD.browser.quirks?(e.className=0>e.className.indexOf("fileNameSelectionBorderQ")?e.className+" fileNameSelectionBorderQ":e.className,1!=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder&&(e.className=0>e.className.indexOf("fileNameSelectionBorderNoneQ")?e.className+" fileNameSelectionBorderNoneQ":e.className,c.className=0>c.className.indexOf("fileNameSelectionBorderQ")?c.className+" fileNameSelectionBorderQ":c.className,KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>
KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&f+1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder&&(e.className=0>e.className.indexOf("fileNameSelectionBorderRightQ")?e.className+" fileNameSelectionBorderRightQ":e.className))):(e.className=0>e.className.indexOf("fileNameSelectionBorder")?e.className+" fileNameSelectionBorder":e.className,1!=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder&&(e.className=0>e.className.indexOf("fileNameSelectionBorderNone")?
e.className+" fileNameSelectionBorderNone":e.className,c.className=0>c.className.indexOf("fileNameSelectionBorder")?c.className+" fileNameSelectionBorder":c.className,KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&f+1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder&&(e.className=0>e.className.indexOf("fileNameSelectionBorderRight")?e.className+" fileNameSelectionBorderRight":e.className)));1==KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&
(a.style.borderLeft="1px dotted black");if(""==KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItem)a.className=2==KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder&&1==KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder?KUPLOADTOP.RAONKUPLOAD.browser.quirks?0>a.className.indexOf("fileSizeSelectionBorderCustomQ")?a.className+" fileSizeSelectionBorderCustomQ":a.className:0>a.className.indexOf("fileSizeSelectionBorderCustom")?a.className+" fileSizeSelectionBorderCustom":a.className:
KUPLOADTOP.RAONKUPLOAD.browser.quirks?0>a.className.indexOf("fileSizeSelectionBorderQ")?a.className+" fileSizeSelectionBorderQ":a.className:0>a.className.indexOf("fileSizeSelectionBorder")?a.className+" fileSizeSelectionBorder":a.className;else if(e=f-2,KUPLOADTOP.RAONKUPLOAD.browser.quirks)for(a.className=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&f+1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder?0>
a.className.indexOf("fileSizeSelectionBorderQ")?a.className+" fileSizeSelectionBorderQ":a.className:0>a.className.indexOf("fileSizeSelectionBorderCustomQ")?a.className+" fileSizeSelectionBorderCustomQ":a.className,a=1;a<=f;a++)if(c=a,KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&a<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&
a<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder)c=b.childNodes[c],c.className=0>c.className.indexOf("customHeaderSelectionBorderQ")?c.className+" customHeaderSelectionBorderQ":c.className,1==a&&(spanFileheadItem.getElementsByTagName("span")[0].style.textIndent=e+"px");else if(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&a+1>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder&&a+1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder||
KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&a+1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder&&a+1>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder)c+=1,c=b.childNodes[c],c.className=0>c.className.indexOf("customHeaderSelectionBorderQ")?c.className+" customHeaderSelectionBorderQ":c.className;else{if(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&
a+2>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&a+2>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder){c+=2;c=b.childNodes[c];c.className=0>c.className.indexOf("customHeaderSelectionBorderQ")?c.className+" customHeaderSelectionBorderQ":c.className;break}}else if(!KUPLOADTOP.RAONKUPLOAD.browser.ie||8!=KUPLOADTOP.RAONKUPLOAD.browser.ieVersion&&7!=
KUPLOADTOP.RAONKUPLOAD.browser.ieVersion)for(a.className=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&f+1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder?0>a.className.indexOf("fileSizeSelectionBorder")?a.className+" fileSizeSelectionBorder":a.className:0>a.className.indexOf("fileSizeSelectionBorderCustom")?a.className+" fileSizeSelectionBorderCustom":a.className,a=1;a<=f;a++)if(c=a,KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<
KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&a<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&a<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder)c=b.childNodes[c],c.className=0>c.className.indexOf("customHeaderSelectionBorder")?c.className+" customHeaderSelectionBorder":c.className,1==a&&(c.getElementsByTagName("span")[0].style.textIndent=
e+"px");else if(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&a+1>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder&&a+1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&a+1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder&&a+1>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder)c+=
1,c=b.childNodes[c],c.className=0>c.className.indexOf("customHeaderSelectionBorder")?c.className+" customHeaderSelectionBorder":c.className;else{if(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&a+2>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&a+2>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder){c+=
2;c=b.childNodes[c];c.className=0>c.className.indexOf("customHeaderSelectionBorder")?c.className+" customHeaderSelectionBorder":c.className;break}}else for(a.className=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&f+1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder?0>a.className.indexOf("fileSizeSelectionBorderQ")?a.className+" fileSizeSelectionBorderQ":a.className:0>a.className.indexOf("fileSizeSelectionBorderCustomQ")?
a.className+" fileSizeSelectionBorderCustomQ":a.className,a=1;a<=f;a++)if(c=a,KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&a<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&a<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder)c=b.childNodes[c],c.className=0>c.className.indexOf("customHeaderSelectionBorderie78")?
c.className+" customHeaderSelectionBorderie78":c.className,1==a&&(spanFileheadItem.getElementsByTagName("span")[0].style.textIndent=e+"px");else if(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&a+1>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder&&a+1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&
a+1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder&&a+1>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder)c+=1,c=b.childNodes[c],c.className=0>c.className.indexOf("customHeaderSelectionBorderie78")?c.className+" customHeaderSelectionBorderie78":c.className;else if(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&a+2>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>
KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&a+2>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder){c+=2;c=b.childNodes[c];c.className=0>c.className.indexOf("customHeaderSelectionBorderie78")?c.className+" customHeaderSelectionBorderie78":c.className;break}}}
function fileListNoneSelectionBorder(b){if(b){var e=b.parentNode.parentNode,c,a,f;if("thumbs"==KUPLOADTOP.G_CURRKUPLOADER._config.views)c=e.childNodes[1].childNodes[1],c.className=c.className.replace(/ ?fileNameSelectionBorderThumbs/gi,"");else{c=e.childNodes[KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder].childNodes[1];a=e.childNodes[KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder].childNodes[0];f=e.childNodes[KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder];
var g=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItem.length;b.checked&&(KUPLOADTOP.RAONKUPLOAD.browser.quirks?1!=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder&&(a.className=0>a.className.indexOf("fileNameSelectionBorderNoneQ")?a.className+" fileNameSelectionBorderNoneQ":a.className):1!=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder&&(a.className=0>a.className.indexOf("fileNameSelectionBorderNone")?a.className+" fileNameSelectionBorderNone":a.className));c.className=
c.className.replace(/ ?fileNameSelectionBorderRightQ/gi,"");c.className=c.className.replace(/ ?fileNameSelectionBorderRight/gi,"");c.className=c.className.replace(/ ?fileNameSelectionBorderNoneQ/gi,"");c.className=c.className.replace(/ ?fileNameSelectionBorderNone/gi,"");c.className=c.className.replace(/ ?fileNameSelectionBorderQ/gi,"");c.className=c.className.replace(/ ?fileNameSelectionBorder/gi,"");b.checked||(a.className=a.className.replace(/ ?fileNameSelectionBorderNoneQ/gi,""),a.className=a.className.replace(/ ?fileNameSelectionBorderNone/gi,
""),a.className=a.className.replace(/ ?fileNameSelectionBorderQ/gi,""),a.className=a.className.replace(/ ?fileNameSelectionBorder/gi,""));f.className=f.className.replace(/ ?fileSizeSelectionBorderCustomQ/gi,"");f.className=f.className.replace(/ ?fileSizeSelectionBorderCustom/gi,"");f.className=f.className.replace(/ ?fileSizeSelectionBorderQ/gi,"");f.className=f.className.replace(/ ?fileSizeSelectionBorder/gi,"");1==KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&(f.style.marginLeft=
"23px;",f.style.borderLeft="");for(b=1;b<=g;b++)if(c=b,KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&b<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&b<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder)c=e.childNodes[c],c.className=c.className.replace(/ ?customHeaderSelectionBorderie78/gi,
""),c.className=c.className.replace(/ ?customHeaderSelectionBorderQ/gi,""),c.className=c.className.replace(/ ?customHeaderSelectionBorder/gi,""),1==b&&(c.getElementsByTagName("span")[0].style.textIndent=g+"px");else if(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&b+1>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder&&b+1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>
KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&b+1<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder&&b+1>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder)c+=1,c=e.childNodes[c],c.className=c.className.replace(/ ?customHeaderSelectionBorderie78/gi,""),c.className=c.className.replace(/ ?customHeaderSelectionBorderQ/gi,""),c.className=c.className.replace(/ ?customHeaderSelectionBorder/gi,"");else if(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<
KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&b+2>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&b+2>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder){c+=2;c=e.childNodes[c];c.className=c.className.replace(/ ?customHeaderSelectionBorderie78/gi,"");c.className=c.className.replace(/ ?customHeaderSelectionBorderQ/gi,"");c.className=
c.className.replace(/ ?customHeaderSelectionBorder/gi,"");break}}}}
function startDragFileList(b){if(0==b.button){b||(b=window.event);null!=document.getElementById("dragFilePlaceHolder")&&(dragFileObj.style.position="",dragFileObj.style.left="",dragFileObj.style.top="",dragFileObj.style.zIndex="",dragFileObj.childNodes[0].style.cursor="",document.getElementById("file_list").removeChild(document.getElementById("dragFilePlaceHolder")),dragFileObj.childNodes[0].childNodes[0].childNodes[0].focus(),null!=scrollMoveInterval&&clearInterval(scrollMoveInterval),moveFileScroll(),
setListvalue(),dragClicked=!1,scrollMoveInterval=null,dragFile=0,KUPLOADTOP.RAONKUPLOAD.util.removeEvent(document,"mousemove",dragFileList),KUPLOADTOP.RAONKUPLOAD.util.removeEvent(document,"mouseup",stopDragFileList),KUPLOADTOP.RAONKUPLOAD.util.removeEvent(KUPLOADTOP.document,"mousemove",cancelDragFileList));startDragX=b.clientX;startDragY=b.clientY;if(b){var e=KUPLOADTOP.G_CURRKUPLOADER.ID,c=getUploaderFromEvent(b);e!=c.ID&&(KUPLOADTOP.G_CURRKUPLOADER=c)}var a=KUPLOADTOP.RAONKUPLOAD.util.getParentbyTagName(b.target?
b.target:b.srcElement,"ul");if(a){for(var f=document.getElementById("file_list").getElementsByTagName("input"),c=f.length,g=[],e=0;e<c;e++)"checkbox"==f[e].type&&g.push(f[e]);c=g.length;a=a.getElementsByTagName("input")[0];for(e=0;e<c;e++)g[e]==a&&(dragFileIdx=e,dragFileObj=g[e].parentNode.parentNode.parentNode);dragFileRect=KUPLOADTOP.RAONKUPLOAD.util.getClientRect(dragFileObj);dragFilePlaceHolder=document.createElement("li");dragFilePlaceHolder.innerHTML=dragFileObj.innerHTML;KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<
KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder?(dragFilePlaceHolder.childNodes[0].removeChild(dragFilePlaceHolder.childNodes[0].childNodes[KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder]),dragFilePlaceHolder.childNodes[0].removeChild(dragFilePlaceHolder.childNodes[0].childNodes[KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder])):(dragFilePlaceHolder.childNodes[0].removeChild(dragFilePlaceHolder.childNodes[0].childNodes[KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder]),
dragFilePlaceHolder.childNodes[0].removeChild(dragFilePlaceHolder.childNodes[0].childNodes[KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder]));dragFilePlaceHolder.childNodes[0].removeChild(dragFilePlaceHolder.childNodes[0].childNodes[0]);c=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItem.length;for(e=0;e<c&&!(dragFilePlaceHolder.childNodes[0].removeChild(dragFilePlaceHolder.childNodes[0].childNodes[0]),KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder<KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&
e+2>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder-1||KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileSizeOrder&&e+2>KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemFileNameOrder-1);e++);dragFilePlaceHolder.id="dragFilePlaceHolder";"thumbs"==KUPLOADTOP.G_CURRKUPLOADER._config.views&&(dragFilePlaceHolder.className="thumblst",""!=KUPLOADTOP.G_CURRKUPLOADER._config.thumbsSize?dragFilePlaceHolder.style.cssText="width:"+(KUPLOADTOP.G_CURRKUPLOADER._config.canvasWidth+
12)+"px !important; height:"+(KUPLOADTOP.G_CURRKUPLOADER._config.canvasHeight+42)+'px !important;"':"0"!=KUPLOADTOP.G_CURRKUPLOADER._config.thumbsViewMode&&(dragFilePlaceHolder.style.cssText="width:"+(KUPLOADTOP.G_CURRKUPLOADER._config.canvasWidth+12)+"px !important; height:"+(KUPLOADTOP.G_CURRKUPLOADER._config.canvasHeight+32)+"px !important;"));dragFile=1;KUPLOADTOP.RAONKUPLOAD.util.addEvent(document,"mousemove",dragFileList);KUPLOADTOP.RAONKUPLOAD.util.addEvent(document,"mouseup",stopDragFileList);
KUPLOADTOP.RAONKUPLOAD.util.addEvent(KUPLOADTOP.document,"mousemove",cancelDragFileList);KUPLOADTOP.RAONKUPLOAD.util.cancelEvent(b)}}}
function dragFileList(b){if(0!=dragFile&&0==b.button&&!(b.ctrlKey||b.shiftKey||startDragX==b.clientX&&startDragY==b.clientY)){if(1==dragFile){dragFile=0;for(var e=document.getElementById("file_list").getElementsByTagName("input"),c=e.length,a=0;a<c;a++)a==dragFileIdx?(e[a].checked=!0,fileListSelection(e[a]),fileListSelectionBorder(e[a]),dragClicked=!0,select_file_idx=before_shift_idx=a):(e[a].checked=!1,fileListNoneSelection(e[a]),fileListNoneSelectionBorder(e[a]));document.getElementById("chk_all_box").checked=
!1;fn_hideContext()}dragFile=2;var f=document.getElementById("RAON_K_UP_file_temp"),e=document.getElementById("dragFilePlaceHolder"),a=KUPLOADTOP.RAONKUPLOAD.util.getClientRect(e);fileListChange(b);var e=b.clientY,c=KUPLOADTOP.RAONKUPLOAD.util.getClientRect(f),g=a.bottom-a.top,a=KUPLOADTOP.RAONKUPLOAD.util.getClientRect(f.parentNode.parentNode);clearInterval(scrollMoveInterval);scrollMoveInterval=null;"thumbs"==KUPLOADTOP.G_CURRKUPLOADER._config.views&&(g/=5);e>=a.top&&e<=c.top+g&&null==scrollMoveInterval&&
(scrollMoveInterval=setInterval(function(){"thumbs"==KUPLOADTOP.G_CURRKUPLOADER._config.views&&(g*=5);f.scrollTop-=g;fileListChange(b)},500));e<=a.bottom&&e>=c.bottom-g&&null==scrollMoveInterval&&(scrollMoveInterval=setInterval(function(){"list"==KUPLOADTOP.G_CURRKUPLOADER._config.views?null!=scrollMoveInterval&&null==dragFileObj.nextSibling?(clearInterval(scrollMoveInterval),scrollMoveInterval=null):(f.scrollTop+=g,fileListChange(b)):"thumbs"==KUPLOADTOP.G_CURRKUPLOADER._config.views&&(null!=scrollMoveInterval&&
0==scrollMoveThumbs?(clearInterval(scrollMoveInterval),scrollMoveInterval=null):(f.scrollTop+=5*g,fileListChange(b)))},500));KUPLOADTOP.RAONKUPLOAD.util.stopEvent(b);KUPLOADTOP.RAONKUPLOAD.util.cancelEvent(b)}}
function fileListChange(b){var e=document.getElementById("file_list");null==document.getElementById("dragFilePlaceHolder")&&e.insertBefore(dragFilePlaceHolder,dragFileObj);dragFileObj.style.position="absolute";dragFileObj.style.zIndex="1000";dragFileObj.childNodes[0].style.cursor="move";var c=document.getElementById("RAON_K_UP_file_temp").scrollTop,a=dragFileRect.left+b.clientX-startDragX,c=dragFileRect.top+b.clientY-startDragY+c;if("0"!=KUPLOADTOP.G_CURRKUPLOADER._config.showHeaderBar)var f=document.getElementById("RAON_K_UP_content").childNodes[0].childNodes[0].offsetHeight,
c=c-f;dragFileObj.style.left=a+"px";dragFileObj.style.top=c+"px";for(var a=document.getElementById("dragFilePlaceHolder"),c=KUPLOADTOP.RAONKUPLOAD.util.getClientRect(a),g=c.top+c.height/2,c=[],k=[],l=RESULTFILELIST.length,n=0,f=0;f<l;f++)"n"==RESULTFILELIST[f].isDelete&&(c.push(f),"n"==RESULTFILELIST[f].isWebFile?(k.push(n),n++):k.push(-1));if("list"==KUPLOADTOP.G_CURRKUPLOADER._config.views)b.clientY<g?(f=a.previousSibling,g=KUPLOADTOP.RAONKUPLOAD.util.getClientRect(f),b.clientY<g.top+g.height/2&&
(e.insertBefore(a,f),e.insertBefore(dragFileObj,f),b=c[dragFileIdx],k=c[dragFileIdx-1],l=RESULTFILELIST[b],RESULTFILELIST[b]=RESULTFILELIST[k],RESULTFILELIST[k]=l,--dragFileIdx,--before_shift_idx,--select_file_idx)):b.clientY>g&&(f=a.nextSibling.nextSibling,g=KUPLOADTOP.RAONKUPLOAD.util.getClientRect(f),b.clientY>g.top+g.height/2&&(e.insertBefore(f,dragFileObj),e.insertBefore(f,a),b=c[dragFileIdx],k=c[dragFileIdx+1],l=RESULTFILELIST[b],RESULTFILELIST[b]=RESULTFILELIST[k],RESULTFILELIST[k]=l,dragFileIdx+=
1,before_shift_idx+=1,select_file_idx+=1));else if("thumbs"==KUPLOADTOP.G_CURRKUPLOADER._config.views){l=g=k=null;for(f=0;f<e.childNodes.length;f++)if(a==e.childNodes[f]){k=f;break}for(f=0;f<e.childNodes.length;f++)if(dragFileObj!=e.childNodes[f])if(l=KUPLOADTOP.RAONKUPLOAD.util.getClientRect(e.childNodes[f]),b.clientX>=l.left&&b.clientX<=l.right&&b.clientY>=l.top&&b.clientY<=l.bottom){g=f;scrollMoveThumbs=!0;break}else scrollMoveThumbs=!1;if(null!=g&&null!=k&&k!=g)if(k>g){for(f=k-1;f>=g;f--)e.insertBefore(a,
e.childNodes[f]),e.insertBefore(dragFileObj,e.childNodes[f+1]),b=c[dragFileIdx],k=c[dragFileIdx-1],l=RESULTFILELIST[b],RESULTFILELIST[b]=RESULTFILELIST[k],RESULTFILELIST[k]=l,--dragFileIdx;select_file_idx=before_shift_idx=g}else{for(f=k+2;f<=g;f++)e.insertBefore(e.childNodes[f],dragFileObj),e.insertBefore(e.childNodes[f-1],a),b=c[dragFileIdx],k=c[dragFileIdx+1],l=RESULTFILELIST[b],RESULTFILELIST[b]=RESULTFILELIST[k],RESULTFILELIST[k]=l,dragFileIdx+=1;before_shift_idx=g-1;select_file_idx=g-1}}}
function cancelDragFileList(b){if(0==b.button&&(2==dragFile&&(dragFileObj.style.position="",dragFileObj.style.left="",dragFileObj.style.top="",dragFileObj.style.zIndex="",dragFileObj.childNodes[0].style.cursor="",document.getElementById("file_list").removeChild(document.getElementById("dragFilePlaceHolder")),dragFileObj.childNodes[0].childNodes[0].childNodes[0].focus(),null!=scrollMoveInterval&&clearInterval(scrollMoveInterval),moveFileScroll(),setListvalue()),dragClicked=!1,scrollMoveInterval=null,
dragFile=0,KUPLOADTOP.RAONKUPLOAD.util.removeEvent(document,"mousemove",dragFileList),KUPLOADTOP.RAONKUPLOAD.util.removeEvent(document,"mouseup",stopDragFileList),KUPLOADTOP.RAONKUPLOAD.util.removeEvent(KUPLOADTOP.document,"mousemove",cancelDragFileList),"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useAfterMoveFileEvent))try{"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.afterMoveFile?KUPLOADTOP.G_CURRKUPLOADER._config.event.afterMoveFile(KUPLOADTOP.G_CURRKUPLOADER.ID):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_AfterMoveFile(KUPLOADTOP.G_CURRKUPLOADER.ID)}catch(e){}}
function stopDragFileList(b){if(0==b.button&&(2==dragFile&&(dragFileObj.style.position="",dragFileObj.style.left="",dragFileObj.style.top="",dragFileObj.style.zIndex="",dragFileObj.childNodes[0].style.cursor="",document.getElementById("file_list").removeChild(document.getElementById("dragFilePlaceHolder")),dragFileObj.childNodes[0].childNodes[0].childNodes[0].focus(),null!=scrollMoveInterval&&clearInterval(scrollMoveInterval),moveFileScroll(),setListvalue()),dragClicked=!1,scrollMoveInterval=null,
dragFile=0,KUPLOADTOP.RAONKUPLOAD.util.removeEvent(document,"mousemove",dragFileList),KUPLOADTOP.RAONKUPLOAD.util.removeEvent(document,"mouseup",stopDragFileList),KUPLOADTOP.RAONKUPLOAD.util.removeEvent(KUPLOADTOP.document,"mousemove",cancelDragFileList),"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useAfterMoveFileEvent))try{"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.afterMoveFile?KUPLOADTOP.G_CURRKUPLOADER._config.event.afterMoveFile(KUPLOADTOP.G_CURRKUPLOADER.ID):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_AfterMoveFile(KUPLOADTOP.G_CURRKUPLOADER.ID)}catch(e){}}
function resizeUploadWin(){try{var b=KUPLOADTOP.KUPLOADDOC.getElementById("raonkuploader_holder_"+KUPLOADTOP.G_CURRKUPLOADER.ID),e=document.getElementById("file_list").childNodes,c=e.length;if(0<c&&"thumbs"!=KUPLOADTOP.G_CURRKUPLOADER._config.views){var a=0;if(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemWidth)for(var f=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemWidth.length,g=0;g<f;g++)a+=parseInt(KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItemWidth[g],10);f=0;if(-1<KUPLOADTOP.G_CURRKUPLOADER._config.width.indexOf("%"))var k=
KUPLOADTOP.RAONKUPLOAD.util.getClientRect(b),f=k.right-k.left;else f=parseInt(KUPLOADTOP.G_CURRKUPLOADER._config.width,10);b="";b="0"==KUPLOADTOP.G_CURRKUPLOADER._config.sizeColumnWidth?f-a-42:f-a-142;for(g=0;g<c;g++)e[g].getElementsByTagName("li")[1].style.width=b+"px"}}catch(l){}}
function fileSort(b,e,c,a){b=null;var f="number"==typeof a&&"number"==typeof c;if(!f){for(var g=c.length,k=a.length,l="",n="",q="",p=0;p<g&&!(p+1>k);p++){var t=c.substring(p,p+1),u=a.substring(p,p+1);if(t==u)l=c.substring(p+1),n=a.substring(p+1),q=isNaN(parseInt(t,10))||isNaN(parseInt(u,10))?"":q+t;else break}""!=l&&(c=q+l);""!=n&&(a=q+n);if(!isNaN(parseInt(c.substring(0,1),10))&&!isNaN(parseInt(a.substring(0,1),10)))if(parseInt(a,10)!=parseInt(c,10))"0"==e?b=parseInt(a,10)<parseInt(c,10):"1"==e&&
(b=parseInt(a,10)>parseInt(c,10));else{k=c.length;for(p=g=0;p<k;p++)if(c.substring(p,p+1),isNaN(parseInt(c.substring(p,p+1),10))){g=p;break}k=a.length;for(p=l=0;p<k;p++)if(a.substring(p,p+1),isNaN(parseInt(a.substring(p,p+1),10))){l=p;break}"0"==e?b=l>g:"1"==e&&(b=l<g)}}null==b&&("0"==e?b=f?a<c:KUPLOADTOP.RAONKUPLOAD.browser.opera||KUPLOADTOP.RAONKUPLOAD.browser.chrome?0<c.localeCompare(a,"en-us"):0<c.localeCompare(a):"1"==e&&(b=f?a>c:KUPLOADTOP.RAONKUPLOAD.browser.opera||KUPLOADTOP.RAONKUPLOAD.browser.chrome?
0>c.localeCompare(a,"en-us"):0>c.localeCompare(a)));return b}function getRecoveryKey(b,e){var c=b.ID;""!=b._config.autoRecoveryId&&(c=b._config.autoRecoveryId);"upload"==e?c+="_recovery_up":"download"==e&&(c+="_recovery_down");return c}
function recoveryUpload(b){var e=getRecoveryKey(b,"upload");if("0"!=b._config.autoRecoveryTransfer&&null!=KUPLOADTOP.localStorage[e]&&void 0!=KUPLOADTOP.localStorage[e])if(showRecoveryConfirmMessage("upload")){var c=KUPLOADTOP.RAONKUPLOAD.util.loadJsonFromLocalStorage(e).listArr,a=c.length,f=0,g={callback:function(e){KUPLOADTOP.RAONKUPLOAD.SetFileCustomValue(f,c[f].customValue,b.ID);f++;f<a?KUPLOADTOP.RAONKUPLOAD.AddLocalFileDirectly(c[f].path,g,b.ID):setTimeout(function(){KUPLOADTOP.RAONKUPLOAD.Transfer(b.ID)},
10)},onerror:function(a){alert(RAONKUpload_Lang.recoveryTransfer.uploadError);KUPLOADTOP.localStorage.removeItem(e)}};0<a&&KUPLOADTOP.RAONKUPLOAD.AddLocalFileDirectly(c[f].path,g)}else{var k="",k=""==KUPLOADTOP.G_CURRKUPLOADER._config.autoRecoveryId?KUPLOADTOP.G_CURRKUPLOADER.ID:KUPLOADTOP.G_CURRKUPLOADER._config.autoRecoveryId,l=[["kcmd","KC11"]];l.push(["kp1",k]);var n=setManagerParam("{}",l),n=KUPLOADTOP.RAONKSolution.Agent.makeEncryptManagerParam(n),q=function(a){var b=KUPLOADTOP.RAONKSolution.Agent.parseRtn(a);
a=b.code;b=b.valueArr;if(1E3==a){var c=b.length;a=[];for(var f=0;f<c;f++){var k=b[f].split(KUPLOADTOP.RAONKSolution.Agent.formfeed);1==c&&void 0!=k[4]&&(k[4]="0");var l=k[2],C="",r=l.indexOf("::");-1<r&&(l.substring(0,r),l=l.substring(r+2,l.length));r=l.indexOf(":");-1<r&&(C=l.substring(0,r),l=l.substring(r+1,l.length));r="";r=l.length;"|"==l.substring(r-1,r)?(l=l.substring(0,r-1),r=getFileName(l,!1),l=l.substring(0,l.lastIndexOf("/"+r))):r=getFileName(l,!1);k={order:k[4],uploadName:r,uploadPath:l,
fileSize:parseInt(k[1],10),originName:C,status:"complete",responseCustomValue:k[3]};a.push(k)}for(var b=KUPLOADTOP.RAONKUPLOAD.util.loadJsonFromLocalStorage(e).listArr,l=b.length,r=[],A=[],f=0;f<l;f++){for(var k={guid:"",originName:b[f].originName,fileSize:parseInt(b[f].fileSize,10),uploadName:"",uploadPath:"",logicalPath:b[f].logicalPath,order:b[f].fileIdx,status:"ready",customValue:b[f].customValue,responseCustomValue:"",localPath:b[f].path},G=0;G<c;G++)k.order==a[G].order&&(C=a[G].originName,""!=
C&&(k.originName=C),k.fileSize=a[G].fileSize,k.uploadName=a[G].uploadName,k.uploadPath=a[G].uploadPath,k.status=a[G].status,k.responseCustomValue=a[G].responseCustomValue,r.push(k));A.push(k)}c={strType:"upload",bAutoTransferFlag:!0,arrAllFileList:A,arrUploadedFileList:r};if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useUploadingCancelEvent)try{"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.uploadingCancel?KUPLOADTOP.G_CURRKUPLOADER._config.event.uploadingCancel(KUPLOADTOP.G_CURRKUPLOADER.ID,
c):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_UploadingCancel(KUPLOADTOP.G_CURRKUPLOADER.ID,c)}catch(E){}KUPLOADTOP.localStorage.removeItem(e);displayCommonReady(!1,KUPLOADTOP.G_CURRKUPLOADER)}else if(2E3==a){try{c={strType:"",strCode:"C100",strMessage:b[0]};if("function"==typeof g.onerror)g.onerror(b[0]);if("function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.onError)KUPLOADTOP.G_CURRKUPLOADER._config.event.onError(KUPLOADTOP.G_CURRKUPLOADER.ID,c);else"function"!==typeof KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError&&
alert("Error Code : "+c.strCode+"\nError Message : "+c.strMessage),KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError(KUPLOADTOP.G_CURRKUPLOADER.ID,c)}catch(D){}displayCommonReady(!1,KUPLOADTOP.G_CURRKUPLOADER)}else 2001==a&&sendMessageToAgent(n,q,p,!1)},p=function(a){KUPLOADTOP.G_CURRKUPLOADER._config.sendToManagerType="2";sendMessageToAgent(n,q,null,!1)};displayCommonReady(!0,KUPLOADTOP.G_CURRKUPLOADER);sendMessageToAgent(n,q,p,!1)}}
function showRecoveryConfirmMessage(b){if("upload"==b)return confirm(RAONKUpload_Lang.recoveryTransfer.uploadMessage);if("download"==b)return confirm(RAONKUpload_Lang.recoveryTransfer.downloadMessage)}
function recoveryDownload(b){var e=getRecoveryKey(b,"download");if("0"!=b._config.autoRecoveryTransfer&&null!=KUPLOADTOP.localStorage[e]&&void 0!=KUPLOADTOP.localStorage[e])if(showRecoveryConfirmMessage("download")){b.autoRecoveryDownloadList=KUPLOADTOP.RAONKUPLOAD.util.loadJsonFromLocalStorage(e);var e=b.autoRecoveryDownloadList.fileListArr,c=KUPLOADTOP.RAONKUPLOAD.GetListInfo("array",b.ID).webFile;if(c){for(var a=c.length,f=0;f<a;f++){for(var g=!1,k=e.length,l=0;l<k;l++)if(c[f].uploadPath==e[l].path&&
c[f].size==e[l].size&&c[f].customValue==e[l].customValue){g=!0;break}1==g&&KUPLOADTOP.RAONKUPLOAD.SetSelectFile(c[f].order,"1",b.ID)}KUPLOADTOP.RAONKUPLOAD.DownloadFile(b.ID)}}else KUPLOADTOP.localStorage.removeItem(e),b.autoRecoveryDownloadList.fileListArr=[]}function getHttpHeaderAgentData(b){var e=[];b=b.tempHttpHeaderObj;for(var c in b){var a={header:encodeURIComponent(c+"="+b[c])};e.push(a)}return e}
function getSessionKeepData(b,e){var c=[],a=KUPLOADTOP.G_CURRKUPLOADER;b&&(a=b);var f=a.sessionKeepUrl,g;for(g in f){var k={url:g,auth:[],pollingTime:f[g].pollingTime},l=f[g].auth,n;for(n in l){var q={header:encodeURIComponent(n+"="+l[n])};k.auth.push(q)}0==k.auth.length&&(q="","upload"==e?q=a._config.handlerUrl:"download"==e&&(q=""!=a._config.downloadHandlerUrl?a._config.downloadHandlerUrl:a._config.handlerUrl),l=KUPLOADTOP.RAONKUPLOAD.util.getDomainInUrl(g),q=KUPLOADTOP.RAONKUPLOAD.util.getDomainInUrl(q),
l.fullDomain==q.fullDomain&&(k.auth=getHttpHeaderAgentData(a)));c.push(k)}return c}
function getKMonitorData(b){var e=null,c=KUPLOADTOP.G_CURRKUPLOADER;b&&(c=b);if("1"==c._config.useKMonitoring){e={MoniUrl:encodeURIComponent(c._config.kMonitorUrl),MoniPartUrl:encodeURIComponent(c._config.kMonitorPartUrl),auth:[]};""!=c._config.kMonitorPollingTime&&(e.MoniTime=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(c._config.kMonitorPollingTime));b=c.tempKMonitorHttpHeaderObj;for(var a in b){var f={header:encodeURIComponent(a+"="+b[a])};e.auth.push(f)}if(0==e.auth.length)for(a in b=c.tempHttpHeaderObj,
b)f={header:encodeURIComponent(a+"="+b[a])},e.auth.push(f)}return e}
function zipInspector(b,e,c){if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useZipInspector){b&&(e=KUPLOADTOP.G_CURRKUPLOADER.ID,b=getUploaderFromEvent(b),e!=b.ID&&(KUPLOADTOP.G_CURRKUPLOADER=b));b=document.getElementById("file_list").getElementsByTagName("input");e=b.length;c=!1;for(var a=-1,f=-1,g=-1,k=0;k<e;k++){var l=b[k].getAttribute("raonk_select");if(l&&"1"==l){c=!0;a=k;break}else b[k].checked&&-1==f&&(f=k)}if(c){for(k=0;k<e;k++)a==k&&(g=b[k].getAttribute("listvalue"),"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&
(null!=g&&void 0!=g&&"n"==RESULTFILELIST[g].isWebFile||"y"==RESULTFILELIST[g].isDelete)&&(g=-1));if(-1!=g&&(c=RESULTFILELIST[g],"y"==c.isWebFile&&"zip"==c.fileExt)){b=[["kcmd","KC12"]];e=KUPLOADTOP.G_CURRKUPLOADER._config;b.push(["k04",encodeURIComponent(e.handlerUrl)]);b.push(["k05",e.security.keyValue]);b.push(["k12",encodeURIComponent(e.fileSaveDialogTitle)]);a=e.folderSelectDialogTitle;""!=e.folderSelectDialogButtonName&&(a+=KUPLOADTOP.RAONKSolution.Agent.formfeed+e.folderSelectDialogButtonName);
b.push(["k13",encodeURIComponent(a)]);b.push(["k16",e.managerLang]);a=e.customHeaderColor;f=e.customFooterColor;g=e.customProgressBarColor;k=e.customTextColor;""==a&&""==f&&""==g&&""==k&&(k=getManagerColorValue(e.skinName),a=k.c1,f=k.c2,g=k.c3,k=k.c4);b.push(["k50",{cr1:a,cr2:f,cr3:g,cr4:k}]);a=c.webPath;null!=e.cloudInfo&&null!=e.cloudInfo.K256Key||0==a.indexOf("http")||(a=location.protocol+"//"+document.domain+(""==location.port?"":":"+location.port)+a);c=c.originName;b.push(["k64",{url:encodeURIComponent(a),
name:encodeURIComponent(c)}]);c=[];a=G_FormData.length;for(f=0;f<a;f++)g={form:encodeURIComponent(G_FormData[f].form_name+"="+G_FormData[f].form_value)},c.push(g);b.push(["k70",c]);b.push(["k71",getHttpHeaderAgentData(KUPLOADTOP.G_CURRKUPLOADER)]);null!=e.cloudInfo&&null!=e.cloudInfo.K256Key&&b.push(["k200",e.cloudInfo]);var n=setManagerParam("{}",b),n=KUPLOADTOP.RAONKSolution.Agent.makeEncryptManagerParam(n),q=function(a){displayCommonReady(!1,KUPLOADTOP.G_CURRKUPLOADER);a=KUPLOADTOP.RAONKSolution.Agent.parseRtn(a);
var b=a.code;a=a.valueArr;1E3!=b&&2E3!=b&&2001==b&&setTimeout(function(){sendMessageToAgent(n,q,p,!0)},500)},p=function(a){KUPLOADTOP.G_CURRKUPLOADER._config.sendToManagerType="2";sendMessageToAgent(n,q,null,!0)};displayCommonReady(!0,KUPLOADTOP.G_CURRKUPLOADER);sendMessageToAgent(n,q,p,!0)}}}}
function startAgentInstallFailCheck(b){if(null!=b.AgentInstallFailCheckTimeout)try{clearTimeout(b.AgentInstallFailCheckTimeout),b.AgentInstallFailCheckTimeout=null}catch(e){}b.AgentInstallFailCheckTimeout=setTimeout(function(){try{if(0==KUPLOADTOP.RAONKSolution.Agent.isLoaded){1==b._config.agentInstallFailCheck.stopInstallCheck&&b.removeAgentInstallCheckImg(b.agentInstallCheckImgArr);var c={strType:"",strCode:"C013",strMessage:RAONKUpload_Lang.error_info.error_code_C013};try{if("function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.onError)KUPLOADTOP.G_CURRKUPLOADER._config.event.onError(KUPLOADTOP.G_CURRKUPLOADER.ID,
c);else"function"!==typeof KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError&&alert("Error Code : "+c.strCode+"\nError Message : "+c.strMessage),KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError(KUPLOADTOP.G_CURRKUPLOADER.ID,c)}catch(a){}}}catch(e){}},1E3*b._config.agentInstallFailCheck.time)}
function selectExcelForImport(b,e){excelImport_loadingAnimation(b,!0);var c=setManagerParam("{}",[["kcmd","KC50"]]),c=KUPLOADTOP.RAONKSolution.Agent.makeEncryptManagerParam(c),a=function(a){a=KUPLOADTOP.RAONKSolution.Agent.parseRtn(a);var c=a.code;a=a.valueArr;var k={resultMsg:"",resultData:null,errorMsg:"",uploadID:e.ID};displayCommonReady(!1,e);if(2001==c){displayCommonReady(!0,e);var l=a[0];setTimeout(function(){excelImport(l,b,e)},100)}else 2E3==c?b.callback&&("Cancel"==a[0]?k.resultMsg="CANCEL":
(k.resultMsg="FAIL",k.errorMsg=a[0]&&""!=a[0]?a[0]:"Error occurred select file"),excelImport_loadingAnimation(b,!1),b.callback(k)):b.callback&&(k.resultMsg="FAIL",k.errorMsg=a[0]&&""!=a[0]?a[0]:"Error occurred select file",excelImport_loadingAnimation(b,!1),b.callback(k))};displayCommonReady(!0,e);sendMessageToAgent(c,a,function(b){e._config.sendToManagerType="2";sendMessageToAgent(c,a,null,!0)},!0)}
function excelImport(b,e,c){var a=[["kcmd","KC50"]];a.push(["kp1",encodeURIComponent(b)]);a.push(["kp2",encodeURIComponent(JSON.stringify(e.options))]);var f=setManagerParam("{}",a),f=KUPLOADTOP.RAONKSolution.Agent.makeEncryptManagerParam(f),g=function(a){var b=a.code;a=a.valueArr;displayCommonReady(!1,c);var f={resultMsg:"",resultData:null,errorMsg:"",uploadID:c.ID};if(1E3==b){if(e.callback){var g;try{g=JSON.parse(a[0])}catch(k){}g?(f.resultMsg="OK",f.resultData=g):(f.resultMsg="FAIL",f.errorMsg=
"JSON parse error");e.callback(f)}}else 2E3==b?e.callback&&("Cancel"==a[0]?f.resultMsg="CANCEL":(f.resultMsg="FAIL",f.errorMsg=a[0]&&""!=a[0]?a[0]:"Error occurred reading data"),e.callback(f)):e.callback&&(f.resultMsg="FAIL",f.errorMsg=a[0]&&""!=a[0]?a[0]:"Error occurred reading data",e.callback(f));excelImport_loadingAnimation(e,!1)},k=function(a){var b=!1;e.options&&"undefined"==typeof e.options.UsingThread?b=!0:e.options&&"undefined"!=typeof e.options.UsingThread&&1==e.options.UsingThread&&(b=
!0);b&&"Worker"in window?KUPLOADTOP.RAONKSolution.Agent.parseRtnInWorker(a,g):(a=KUPLOADTOP.RAONKSolution.Agent.parseRtn(a),g(a))};sendMessageToAgent(f,k,function(a){c._config.sendToManagerType="2";sendMessageToAgent(f,k,null,!0)},!0)}
function excelImport_loadingAnimation(b,e){var c=!0;b.options&&"undefined"==typeof b.options.UsingLoadingAnimation?c=!0:b.options&&"undefined"!=typeof b.options.UsingLoadingAnimation&&1!=b.options.UsingLoadingAnimation&&(c=!1);if(0!=c){if(0==G_ISExcelLoadResourceCheck){G_ISExcelLoadResourceCheck=!0;var a=KUPLOADTOP.RAONKUPLOAD.ReleaseVer;"1"==KUPLOADTOP.G_CURRKUPLOADER._config.cacheProtectMode&&(a=(new Date).getTime());KUPLOADTOP.RAONKUPLOAD.isRelease?(c="raonkupload.excel.animation.min.css",a=KUPLOADTOP.G_CURRKUPLOADER._config.webPath.css+
c+"?ver="+a):(c="raonkupload.excel.animation.css",a=KUPLOADTOP.G_CURRKUPLOADER._config.webPath.cssDev+c+"?ver="+a);isLoadedCss=KUPLOADTOP.RAONKUPLOAD.util.isLoadedResourceWithAppend(KUPLOADTOP.document,c,!0,a)}c=KUPLOADTOP.document.getElementById("raonkExcel_customtoolbar_pop_loading");if(!c){c=KUPLOADTOP.document.createElement("div");c.setAttribute("id","raonkExcel_customtoolbar_pop_loading");KUPLOADTOP.RAONKUPLOAD.browser.ie&&9<=KUPLOADTOP.RAONKUPLOAD.browser.ieVersion||!KUPLOADTOP.RAONKUPLOAD.browser.ie?
c.setAttribute("class","raonkExcel_pop_layer_wrap pop_loading"):c.setAttribute("class","raonkExcel_pop_layer_wrap pop_loading pop_loading2");var a=RAONKUpload_Lang.excelWork.animationText,f;f='<div class="dim"></div><div class="pop_gnbDefault">';f+='    <div class="pop_info_text">';f+='        <span class="__se_loading_text">'+a+"</span>";f+="    </div>";f+='    <div class="se_progress_bar raonkExcel-is-progress"></div>';f+="</div>";c.innerHTML=f;KUPLOADTOP.document.body.appendChild(c)}c.style.display=
e?"block":"none"}}function __0_(b){var e=!1;b=b.split("-");3!=b.length&&4!=b.length||isNaN(b[0])||isNaN(b[1])||isNaN(b[2])||(e=!0);return e}
function startAgentInstall(b,e){if(1==(e&&e.isApi)||"0"!=b._config.useAutoInstall&&!KUPLOADTOP.RAONKSolution.Agent.isUpdating&&!KUPLOADTOP.RAONKSolution.Agent.isStartInstall)if(KUPLOADTOP.RAONKSolution.Agent.isStartInstall=!0,0==!!b.installCnt&&(b.installCnt=0),0==b.installCnt||e&&e.isApi){b.installCnt++;var c=!0;try{if(0==b.agentInstallEvent){b.agentInstallEvent=!0;var a={type:"install"};!1===("function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.agentInstall?KUPLOADTOP.G_CURRKUPLOADER._config.event.agentInstall(b.ID,
a):KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_AgentInstall(b.ID,a))&&(c=!1)}}catch(f){}"1"==b._config.agentInstallFailCheck.use&&startAgentInstallFailCheck(b);if(c)if("1"==b._config.useInstallGuide){var c=getDialogWindow(),g=getDialogDocument(),a={},a=getWindowClientSize(c),k="CSS1Compat"==g.compatMode?g.documentElement.scrollWidth:g.body.scrollWidth,l="CSS1Compat"==g.compatMode?g.documentElement.scrollHeight:g.body.scrollHeight,n={},n=getWindowScrollPos(c);if(null==g.getElementById("kupload_install_div_back")){var q=
g.createElement("div");q.innerHTML='<div id="kupload_install_div_back" style="background-color:white; filter:alpha(opacity=80); opacity:0.8; -moz-opacity:0.8; -ms-filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=80); -khtml-opacity: 0.8; left: 0px; top: 0px; width: '+k+"px; height: "+l+"px; display: block; position: absolute; z-index: "+(b._config.installGuideZIndex+1)+';"></div>';g.body.appendChild(q.firstChild)}null==g.getElementById("kupload_install_div")&&(l="",e&&!0===e.forceInstall&&(l=
"&f=1"),k=g.createElement("div"),q='<div id="kupload_install_div" style="z-index:'+(b._config.installGuideZIndex+5)+'; position:fixed; _position:absolute; overflow:hidden; width:502px; height:250px; background-color:white; box-shadow: 0 0 18px 1px rgba(0,0,0,0.4);">',q+='<iframe scrolling="no" frameborder="0" src="'+b._config.webPath.installGuide+"?t="+KUPLOADTOP.RAONKUPLOAD.util.getTimeStamp()+l+'" style="width:502px; height:260px; border-width:0px;"></iframe>',k.innerHTML=q+"</div>",l=[0,0],KUPLOADTOP.RAONKUPLOAD.browser.quirks&&
(l=n),k.firstChild.style.left=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(l[0]+a[0]/2-251)+"px",k.firstChild.style.top=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(l[1]+a[1]/2-125)+"px",KUPLOADTOP.RAONKUPLOAD.installGuideResizeEvt=function(){try{var a=g.getElementById("kupload_install_div_back");if(a){var b="CSS1Compat"==g.compatMode?g.documentElement.scrollHeight:g.body.scrollHeight;a.style.width=("CSS1Compat"==g.compatMode?g.documentElement.scrollWidth:g.body.scrollWidth)+"px";a.style.height=b+"px"}}catch(c){}},
KUPLOADTOP.RAONKUPLOAD.util.addEvent(c,"resize",KUPLOADTOP.RAONKUPLOAD.installGuideResizeEvt),g.body.appendChild(k))}else requestManagerInstall(window,document)}}
function setOriginalFileName(b,e){if(!(getTotalFileCount()<b+1)){var c=KUPLOADTOP.G_CURRKUPLOADER.frameWin,a=c.document.getElementById("file_list"),f=null;a&&(a=a.childNodes[b])&&(f=parseInt(a.getElementsByTagName("input")[0].getAttribute("listvalue"),10),f=c.RESULTFILELIST[f],c=e+"."+f.fileExt,f.originalName=c,f.originName=c,e=a.getElementsByTagName("li")[1],e.getElementsByTagName("span")[0].title=c,e.getElementsByTagName("span")[0].innerText=c)}}
function multiUserPortCheckAsync(b){var e=!0,c=b.currUpload;null==c.multiUserConfig?e=!1:b.bForce?(e=!0,KUPLOADTOP.RAONKUPLOAD.browser.LocalStorageSupported&&KUPLOADTOP.localStorage.removeItem("kupload_multi_user_check")):KUPLOADTOP.RAONKUPLOAD.browser.LocalStorageSupported&&"1"==KUPLOADTOP.localStorage.kupload_multi_user_check&&(e=!1);var a=function(){"function"==typeof b.callback&&b.callback({multiUserConfig:c.multiUserConfig,selectedPort:c.managerPort,uploadId:c.Id})};if(0==e)a();else{var f=function(a){if(a.port){var b=
"",b=c._config.agentHttps?a.port.https:a.port.http;KUPLOADTOP.RAONKSolution.Agent.connectedPort=b;c.managerPort=KUPLOADTOP.RAONKSolution.Agent.connectedPort;KUPLOADTOP.RAONKSolution.managerFinalUrl=c.managerUrl+c.managerPort;KUPLOADTOP.RAONKUPLOAD.browser.LocalStorageSupported&&(KUPLOADTOP.localStorage.kupload_manager_port=a.port.http,KUPLOADTOP.localStorage.kupload_manager_port2=a.port.https,KUPLOADTOP.localStorage.kupload_multi_user_check="1")}else c.managerPort=KUPLOADTOP.RAONKSolution.Agent.connectedPort},
e=function(b){var c=setInterval(function(){0==KUPLOADTOP.RAONKSolution.Agent.isCheckingMultiUserPort&&(clearInterval(c),b&&f({port:null}),a())},500)};if(1==KUPLOADTOP.RAONKSolution.Agent.isCheckingMultiUserPort)e(!0);else{KUPLOADTOP.RAONKSolution.Agent.isCheckingMultiUserPort=!0;e();var e=getDialogWindow(),g=getDialogDocument(),k={},k=getWindowClientSize(e),l="CSS1Compat"==g.compatMode?g.documentElement.scrollWidth:g.body.scrollWidth,n="CSS1Compat"==g.compatMode?g.documentElement.scrollHeight:g.body.scrollHeight,
q={},q=getWindowScrollPos(e);if(null==g.getElementById("kupload_install_div_back")){var p=g.createElement("div");p.innerHTML='<div id="kupload_install_div_back" style="background-color:white; filter:alpha(opacity=80); opacity:0.8; -moz-opacity:0.8; -ms-filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=80); -khtml-opacity: 0.8; left: 0px; top: 0px; width: '+l+"px; height: "+n+"px; display: block; position: absolute; z-index: "+(c._config.installGuideZIndex+1)+';"></div>';g.body.appendChild(p.firstChild)}(l=
g.getElementById("kupload_install_div"))&&l.parentNode.removeChild(l);var t=g.createElement("div"),l='<div id="kupload_install_div" style="z-index:'+(c._config.installGuideZIndex+5)+'; position:fixed; _position:absolute; overflow:hidden; width:432px; height:350px; background-color:rgba(255,255,255,0);">',l=l+('<iframe scrolling="no" frameborder="0" src="'+c._config.webPath.multiUserCheck+"?t="+KUPLOADTOP.RAONKUPLOAD.util.getTimeStamp()+'" style="width:432px; height:360px; border-width:0px;"></iframe>');
t.innerHTML=l+"</div>";l=[0,0];KUPLOADTOP.RAONKUPLOAD.browser.quirks&&(l=q);t.firstChild.style.left=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(l[0]+k[0]/2-216)+"px";t.firstChild.style.top=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(l[1]+k[1]/2-175)+"px";KUPLOADTOP.RAONKUPLOAD.installGuideResizeEvt=function(){try{var a=g.getElementById("kupload_install_div_back");if(a){var b="CSS1Compat"==g.compatMode?g.documentElement.scrollHeight:g.body.scrollHeight;a.style.width=("CSS1Compat"==g.compatMode?g.documentElement.scrollWidth:
g.body.scrollWidth)+"px";a.style.height=b+"px"}}catch(c){}};KUPLOADTOP.RAONKUPLOAD.util.addEvent(e,"resize",KUPLOADTOP.RAONKUPLOAD.installGuideResizeEvt);g.body.appendChild(t);var u=function(){var a=t.getElementsByTagName("iframe")[0].contentWindow,b=a.document,e=b.getElementById("btn_ok"),g=b.getElementById("select_user"),k=b.getElementById("content1"),l=b.getElementById("btn_ok");b.getElementsByTagName("img")[0].src=c._config.installGuideLogoUrl?c._config.installGuideLogoUrl:"images/BI-raonk.png";
var n;n=""+('<li class="first">'+RAONKUpload_Lang.multi_user_check.desc1+"</li>");n+="<li><i>\u00b7</i>"+RAONKUpload_Lang.multi_user_check.desc2+"</li>";k.innerHTML=n;l.innerHTML=RAONKUpload_Lang.multi_user_check.button1;g.innerHTML="";k=b.createElement("option");g.appendChild(k);for(config in c.multiUserConfig)k=b.createElement("option"),k.innerHTML=c.multiUserConfig[config].displayName,k.value=config,g.appendChild(k);try{KUPLOADTOP.RAONKUPLOAD.browser.ie&&7>=KUPLOADTOP.RAONKUPLOAD.browser.ieVersion?
g.firstChild.innerHTML=RAONKUpload_Lang.multi_user_check.desc1:a.$(".js-example-basic-single").select2({width:"380px",dropdownCssClass:"select2_dropdown",containerCssClass:"select2_container",placeholder:RAONKUpload_Lang.multi_user_check.desc1,allowClear:!0})}catch(p){try{g.firstChild.innerHTML=RAONKUpload_Lang.multi_user_check.desc1}catch(q){}}e.onclick=function(){var a=c.multiUserConfig[g.value];a?(closeInstallPopup(c),f({port:a}),KUPLOADTOP.RAONKSolution.Agent.isCheckingMultiUserPort=!1):alert(RAONKUpload_Lang.multi_user_check.desc1)}},
v=setInterval(function(){var a=!1;try{if(a=t.getElementsByTagName("iframe")[0].contentWindow.document.body.hasChildNodes())clearInterval(v),u()}catch(b){}},100)}}}
function getZipFileInfo(b){var e=b.path,c=[["kcmd","KC09"]];c.push(["kp1",encodeURIComponent(e)]);c.push(["kp2",encodeURIComponent("k_unzipInfo")]);var c=setManagerParam("{}",c),c=KUPLOADTOP.RAONKSolution.Agent.makeEncryptManagerParam(c),a=function(a){"function"==typeof b.callback&&b.callback(a)},f={data:null,success:!1,errorMessage:""};sendMessageToAgent(c,function(b){b=KUPLOADTOP.RAONKSolution.Agent.parseRtn(b);var c=b.code;b=b.valueArr;if(1E3==c)try{var l=JSON.parse(b[0]),n=getFileName(e);f.data=
l[n];f.success=!0;a(f)}catch(q){f.errorMessage="Error occurred during parse data",a(f)}else 2E3==c&&(f.errorMessage=b[0],a(f))},function(){f.errorMessage="Error during processing in Agent";a(f)},!0)}
function loadPluginJs(b,e,c){if(G_KUPlugin[e])c();else{var a=b.webPath.plugin+e+"/js"+(KUPLOADTOP.RAONKUPLOAD.isRelease?"":"_dev")+"/kplugin.js?ver="+KUPLOADTOP.RAONKUPLOAD.ReleaseVer,f=document.getElementsByTagName("head")[0];if(!f||document.readyState&&"complete"!=document.readyState)document.write('<script src="'+a+'" type="text/javascript">\x3c/script>');else{var g=document.createElement("script");g.type="text/javascript";g.src=a;var k=function(){setTimeout(function(){var a=document.createElement("script");
a.type="text/javascript";a.src=b.webPath.plugin+e+"/js"+(KUPLOADTOP.RAONKUPLOAD.isRelease?"":"_dev")+"/lang/"+b.lang+".js";f.appendChild(a)},0)};"undefined"!==typeof g.onreadystatechange?g.onreadystatechange=function(){if("loaded"==g.readyState||"complete"==g.readyState)g.onreadystatechange=null,k(),c()}:g.onload=function(){k();c()};g.onerror=function(){c()};f.appendChild(g)}}}function getTickCount(){return(new Date).getTime()}
function changeBandwidth(b,e){var c=e?e:KUPLOADTOP.G_CURRKUPLOADER;c.kBandwidth.bw!=b&&(c.kBandwidth.bw=b)}
function applyBandwidth(b,e){var c=(e?e:KUPLOADTOP.G_CURRKUPLOADER).kBandwidth;if(c&&0<c.bw)if(c.bitPerSecSentBytes+=b,c.bitPerSecSentBytes>=c.bw){c.transOneSecTime=getTickCount()-c.bwStartTick;var a=1E3-c.transOneSecTime,f=getTickCount();if(0<c.transOneSecTime&&0<a)for(;!(getTickCount()-f>a););c.transOneSecTime=0;c.bitPerSecSentBytes=0;c.bwStartTick=getTickCount()}else 0==c.bwStartTick&&(c.bwStartTick=getTickCount())}
function setUploadExtraData(b){if(void 0==b||null==b||""==b)b=[];for(var e=uploaders.length,c=b.length,a=0;a<c;a++)b[a].fileId=RESULTFILELIST[b[a].order].guid,b[a].transferId="1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring?G_KUPlugin.kmonitoring.transferId:KUPLOADTOP.G_CURRKUPLOADER.transferId;for(a=0;a<e;a++)""!=RESULTFILELIST[uploaders[a]].guid&&"complete"!=RESULTFILELIST[uploaders[a]].status&&RESULTFILELIST[uploaders[upload_complete_count]].guid==RESULTFILELIST[uploaders[a]].guid&&(c={originName:RESULTFILELIST[uploaders[a]].originName,
fileSize:RESULTFILELIST[uploaders[a]].fileSize,uploadName:RESULTFILELIST[uploaders[a]].uploadName,uploadPath:RESULTFILELIST[uploaders[a]].uploadPath,logicalPath:RESULTFILELIST[uploaders[a]].logicalPath,order:uploaders[a],status:"started",customValue:RESULTFILELIST[uploaders[a]].customValue,responseCustomValue:RESULTFILELIST[uploaders[a]].responseCustomValue,localPath:RESULTFILELIST[uploaders[a]].localPath},c.fileId=RESULTFILELIST[uploaders[a]].guid,c.transferId="1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring?
G_KUPlugin.kmonitoring.transferId:KUPLOADTOP.G_CURRKUPLOADER.transferId,b.push(c));return b}function setDownloadExtraData(b){for(var e=b.length,c=0;c<e;c++)b[c].fileId=RESULTFILELIST[b[c].order].guid,b[c].transferId="1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring?G_KUPlugin.kmonitoring.transferId:KUPLOADTOP.G_CURRKUPLOADER.transferId;return b}
function checkFilesInZipFile(b,e,c){var a=function(a,b){var c=document.getElementsByTagName("head")[0],e=document.createElement("script");e.type="text/javascript";e.onload=function(){b(!0)};e.onerror=function(){b(!1)};e.src=a;c.appendChild(e)};if("function"==typeof JSZip)execCheckFilesInZipFile(b,e,c);else{var f=KUPLOADTOP.RAONKUPLOAD.ReleaseVer;"1"==KUPLOADTOP.G_CURRKUPLOADER._config.cacheProtectMode&&(f=KUPLOADTOP.RAONKUPLOAD.util.getTimeStamp());a((KUPLOADTOP.RAONKUPLOAD.isRelease?KUPLOADTOP.G_CURRKUPLOADER._config.webPath.js:
KUPLOADTOP.G_CURRKUPLOADER._config.webPath.jsDev)+"jszip/jszip.js?ver="+f,function(){execCheckFilesInZipFile(b,e,c)})}}
function inspectZipFileEx(b,e,c){var a=function(a,b){var c=document.getElementsByTagName("head")[0],e=document.createElement("script");e.type="text/javascript";e.onload=function(){b(!0)};e.onerror=function(){b(!1)};e.src=a;c.appendChild(e)};if("function"==typeof JSZip)execInspectZipFileEx(b,e,c);else{var f=KUPLOADTOP.RAONKUPLOAD.ReleaseVer;"1"==KUPLOADTOP.G_CURRKUPLOADER._config.cacheProtectMode&&(f=KUPLOADTOP.RAONKUPLOAD.util.getTimeStamp());a((KUPLOADTOP.RAONKUPLOAD.isRelease?KUPLOADTOP.G_CURRKUPLOADER._config.webPath.js:
KUPLOADTOP.G_CURRKUPLOADER._config.webPath.jsDev)+"jszip/jszip.js?ver="+f,function(){execInspectZipFileEx(b,e,c)})}}
function detectFileExtension(b,e){b.detectExtensionOptions.totalTaskCount=b.detectExtensionOptions.fileList.length;b.detectExtensionOptions.callback=e;var c=function(a,b){a.detectExtensionOptions.error={};a.detectExtensionOptions.error.message=b;a.detectExtensionOptions.error.list=a.detectExtensionOptions.fileList[a.detectExtensionOptions.taskIndex];a.detectExtensionOptions.callback()},a=function(b){var e=b.detectExtensionOptions;if(e.taskIndex<e.totalTaskCount)try{var k=e.fileList[e.taskIndex];D5FileDetector(k.fileObject,
k.extension,function(c,k,l){c={list:b.detectExtensionOptions.fileList[b.detectExtensionOptions.taskIndex],detectorResult:l};0!=l?b.detectExtensionOptions.result.normalFileList.push(c):b.detectExtensionOptions.result.errorFileList.push(c);e.taskIndex++;a(b)})}catch(l){c(b,l.message)}else b.detectExtensionOptions.callback()};a(b)}
function execDetectFileExtensionAndInspectZipFile(b,e){var c={deleteErrorList:!0,detectExtensionOptions:{taskIndex:0,totalTaskCount:0,fileList:null,error:null,result:{normalFileList:[],errorFileList:[]},callback:null},inspectZipOptions:{useLog:!1,zipRecursive:!1,findExt:[],filesInZip:[],fileIdx:0,checkedFileCount:0,taskIndex:0,totalTaskCount:0,error:null,tempErrorFilesObj:{},fileList:null,result:{inspectResult:!0,inspectResultArray:[]},callback:null},main:{error:null,result:{isSuccess:!1,errorDetectFileList:[],
errorZipInspect:[]},callback:e},complete:function(){if(null==this.main.error&&1==this.deleteErrorList){var a=this.main.result.errorDetectFileList,b=a.length,c=this.main.result.errorZipInspect,e=c.length;if(0<b+e){setSelectFile(-1,0);for(var n=0;n<b;n++)setSelectFile(a[n].order,1);for(n=0;n<e;n++)setSelectFile(c[n].list.order,1);a=KUPLOADTOP.G_CURRKUPLOADER._config.disableAlertMessage.disableDeleteConfirm;KUPLOADTOP.G_CURRKUPLOADER._config.disableAlertMessage.disableDeleteConfirm="1";deleteSelectedFile(null,
!0);KUPLOADTOP.G_CURRKUPLOADER._config.disableAlertMessage.disableDeleteConfirm=a}}try{this.main.callback(this.main.error,this.main.result)}catch(q){console.log("callback error : "+q.message)}},setError:function(a,b){this.main.error={};this.main.error.message=a;this.main.error.list=b;this.complete()}};KUPLOADTOP.RAONKUPLOAD.util.objectExtend(!0,c,b);var a=KUPLOADTOP.RAONKUPLOAD.GetListInfo("array").newFile;null==a?(c.main.result.isSuccess=!0,c.complete()):(c.detectExtensionOptions.fileList=a,detectFileExtension(c,
function(){var a=c.detectExtensionOptions.error;if(a)c.setError(a.message,a.list);else{var a=c.detectExtensionOptions.result,b=a.errorFileList.length;if(0<b)for(var e=0;e<b;e++)c.main.result.errorDetectFileList.push(a.errorFileList[e].list);for(var b=[],l=a.normalFileList.length,e=0;e<l;e++){var n=a.normalFileList[e].list;"zip"==n.extension.toLowerCase()&&b.push(n)}0<b.length?(c.inspectZipOptions.fileList=b,execInspectZipFileEx(c,function(){var a=c.inspectZipOptions.error;if(a)c.setError(a.message,
a.list);else{if(1==c.inspectZipOptions.result.inspectResult)c.main.result.isSuccess=0==c.main.result.errorDetectFileList.length;else{var a=c.inspectZipOptions.tempErrorFilesObj,b=[],e;for(e in a)b.push({list:c.inspectZipOptions.fileList[e],errorFilesInZip:a[e].data});c.main.result.errorZipInspect=b}c.complete()}})):(c.main.result.isSuccess=0==c.main.result.errorDetectFileList.length,c.complete())}}))}
function detectFileExtensionAndInspectZipFile(b,e){var c=function(a,b){var c=document.getElementsByTagName("head")[0],e=document.createElement("script");e.type="text/javascript";e.onload=function(){b(!0)};e.onerror=function(){b(!1)};e.src=a;c.appendChild(e)};if("function"==typeof JSZip)execDetectFileExtensionAndInspectZipFile(b,e);else{var a=KUPLOADTOP.RAONKUPLOAD.ReleaseVer;"1"==KUPLOADTOP.G_CURRKUPLOADER._config.cacheProtectMode&&(a=KUPLOADTOP.RAONKUPLOAD.util.getTimeStamp());c((KUPLOADTOP.RAONKUPLOAD.isRelease?
KUPLOADTOP.G_CURRKUPLOADER._config.webPath.js:KUPLOADTOP.G_CURRKUPLOADER._config.webPath.jsDev)+"jszip/jszip.js?ver="+a,function(){execDetectFileExtensionAndInspectZipFile(b,e)})}}
function VirtualList(b){var e=b.w?b.w:"100%",c=b.h?b.h:"100%",a=this.itemHeight=b.itemHeight;this.items=b.items;this.generatorFn=b.generatorFn;this.totalRows="number"==typeof b.totalRows?b.totalRows:b.items&&b.items.length;this.scroller=VirtualList.createScroller(a*this.totalRows);this.container=VirtualList.createContainer(e,c);this.container.appendChild(this.scroller);var f=Math.ceil(b.h/a);this.cachedItemsLen=3*f;this._renderChunk(this.container,0);var g=this,k,l=f*a,n=0;this.rmNodeInterval=setInterval(function(){if(100<
Date.now()-n){var a=[];if(g.container.querySelectorAll)a=g.container.querySelectorAll('[data-rm="1"]');else for(var b=g.container.childNodes,c=0,e=b.length;c<e;c++)"1"==b[c].getAttribute("data-rm")&&a.push(b[c]);c=0;for(e=a.length;c<e;c++)g.container.removeChild(a[c])}},300);this.onScroll=function(b,c){var e=g.container.scrollTop;if(c||!k||Math.abs(e-k)>l){var u=parseInt(e/a)-f;g._renderChunk(g.container,0>u?0:u);k=e}n=Date.now();b&&b.preventDefault&&b.preventDefault()};this.container.attachEvent?
this.container.attachEvent("onscroll",this.onScroll):this.container.addEventListener("scroll",this.onScroll)}VirtualList.prototype.createRow=function(b){var e;if(this.generatorFn)e=this.generatorFn(b);else if(this.items)if("string"===typeof this.items[b]){var c=document.createTextNode(this.items[b]);e=document.createElement("div");e.style.height=this.itemHeight+"px";e.appendChild(c)}else e=this.items[b];e.style.position="absolute";e.style.top=b*this.itemHeight+"px";return e};
VirtualList.prototype._renderChunk=function(b,e){var c=e+this.cachedItemsLen;c>this.totalRows&&(c=this.totalRows);for(var a=document.createDocumentFragment(),f=e;f<c;f++)a.appendChild(this.createRow(f));c=1;for(f=b.childNodes.length;c<f;c++)b.childNodes[c].style.display="none",b.childNodes[c].setAttribute("data-rm","1");b.appendChild(a)};VirtualList.createContainer=function(b,e){return document.getElementById("file_list")};
VirtualList.createScroller=function(b){var e=document.createElement("div");e.style.opacity=0;e.style.position="absolute";e.style.top=0;e.style.left=0;e.style.width="1px";e.style.height=b+"px";return e};
VirtualList.prototype.update=function(){this.totalRows=G_KVirtualList.virtualListInfo.length;this.scroller.style.height=this.totalRows*this.itemHeight+"px";this.onScroll(null,!0);if(0<this.totalRows&&parseInt(this.container.style.height,10)>this.itemHeight*this.totalRows){var b=this.container.lastChild,b=b.firstChild,e=getComputedStyle(b,"").borderTop;b.style.borderBottom=e}};
VirtualList.prototype.changeList=function(b){var e;"undefined"==typeof b&&(this.totalRows=0,e=RESULTFILELIST.length);this.totalRows+=e;this.scroller.style.height=this.totalRows*this.itemHeight+"px";this.onScroll(null,!0)};function preUploadRequest(){G_NowUploadEndReqeustXhr=null;KUPLOADTOP.G_CURRKUPLOADER.isCurrResumeUpload=!1;ONEFILEUPLOADEDSIZE=0;var b=getDialogDocument();b.getElementById("RAON_K_UP_current_upload_file_name").innerHTML=RESULTFILELIST[uploaders[upload_complete_count]].originName;b.getElementById("RAON_K_UP_uploadFileProgress_"+uploaders[upload_complete_count]).style.width="0%";b.getElementById("RAON_K_UP_uploadFilePercent_"+uploaders[upload_complete_count]).style.color="#000000";b.getElementById("RAON_K_UP_uploadFilePercent_"+
uploaders[upload_complete_count]).innerHTML="0%";""==b.getElementById("RAON_K_UP_total_upload_percent").innerHTML&&(b.getElementById("RAON_K_UP_total_upload_percent").innerHTML="0%");if(0==RESULTFILELIST[uploaders[upload_complete_count]].fileSize)endUploadRequest();else{if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.resumeUpload&&(KUPLOADTOP.G_CURRKUPLOADER.resumeInfoObj=KUPLOADTOP.RAONKUPLOAD.util.loadJsonFromLocalStorage("RAONK_resume_up_info"),KUPLOADTOP.G_CURRKUPLOADER.resumeInfoObj&&KUPLOADTOP.G_CURRKUPLOADER.resumeInfoObj.originName==
RESULTFILELIST[uploaders[upload_complete_count]].originName&&KUPLOADTOP.G_CURRKUPLOADER.resumeInfoObj.fileSize==RESULTFILELIST[uploaders[upload_complete_count]].fileSize)){KUPLOADTOP.G_CURRKUPLOADER.isCurrResumeUpload=!0;try{var e=KUPLOADTOP.G_CURRKUPLOADER.resumeInfoObj.uploadedTaskId;if(0<e.length){KUPLOADTOP.G_CURRKUPLOADER.uploadedTaskId=e;var c=KUPLOADTOP.G_CURRKUPLOADER.uploadedTaskId.substring(0,KUPLOADTOP.G_CURRKUPLOADER.uploadedTaskId.length-1);KUPLOADTOP.G_CURRKUPLOADER.uploadedTaskIdArr=
c.split(",")}}catch(a){}}e=upload_complete_count.toString();e==(uploaders.length-1).toString()&&(e+="z");""==RESULTFILELIST[uploaders[upload_complete_count]].guid&&(b="",b=KUPLOADTOP.G_CURRKUPLOADER.isCurrResumeUpload?KUPLOADTOP.G_CURRKUPLOADER.resumeInfoObj.guid:KUPLOADTOP.RAONKUPLOAD.util.makeGuid(),RESULTFILELIST[uploaders[upload_complete_count]].guid=b);b="";c=""+("kc"+KUPLOADTOP.RAONKSolution.Agent.formfeed+"c01"+KUPLOADTOP.RAONKSolution.Agent.vertical);c+="k01"+KUPLOADTOP.RAONKSolution.Agent.formfeed+
KUPLOADTOP.G_CURRKUPLOADER._config.security.encryptParam+KUPLOADTOP.RAONKSolution.Agent.vertical;c+="k05"+KUPLOADTOP.RAONKSolution.Agent.formfeed+KUPLOADTOP.G_CURRKUPLOADER._config.resumeUpload+KUPLOADTOP.RAONKSolution.Agent.vertical;KUPLOADTOP.G_CURRKUPLOADER.isCurrResumeUpload&&(c+="k11"+KUPLOADTOP.RAONKSolution.Agent.formfeed+"1"+KUPLOADTOP.RAONKSolution.Agent.vertical);var c=c+("k12"+KUPLOADTOP.RAONKSolution.Agent.formfeed+RESULTFILELIST[uploaders[upload_complete_count]].guid+KUPLOADTOP.RAONKSolution.Agent.vertical),
f=RESULTFILELIST[uploaders[upload_complete_count]].fileSize,g=G_KUPlugin.magicjs;g&&"1"==g.options.encrypt.use&&"0"==g.options.encrypt.decryptInServer&&(f=0);c+="k13"+KUPLOADTOP.RAONKSolution.Agent.formfeed+f+KUPLOADTOP.RAONKSolution.Agent.vertical;c+="k14"+KUPLOADTOP.RAONKSolution.Agent.formfeed+RESULTFILELIST[uploaders[upload_complete_count]].originName+KUPLOADTOP.RAONKSolution.Agent.vertical;c+="k15"+KUPLOADTOP.RAONKSolution.Agent.formfeed+KUPLOADTOP.G_CURRKUPLOADER._config.fileNameRule+KUPLOADTOP.RAONKSolution.Agent.vertical;
c+="k16"+KUPLOADTOP.RAONKSolution.Agent.formfeed+KUPLOADTOP.G_CURRKUPLOADER._config.fileNameRuleEx+KUPLOADTOP.RAONKSolution.Agent.vertical;c+="k17"+KUPLOADTOP.RAONKSolution.Agent.formfeed+KUPLOADTOP.G_CURRKUPLOADER._config.folderNameRule+KUPLOADTOP.RAONKSolution.Agent.vertical;c+="k20"+KUPLOADTOP.RAONKSolution.Agent.formfeed+e+KUPLOADTOP.RAONKSolution.Agent.vertical;c+="k21"+KUPLOADTOP.RAONKSolution.Agent.formfeed+RESULTFILELIST[uploaders[upload_complete_count]].customValue+KUPLOADTOP.RAONKSolution.Agent.vertical;
KUPLOADTOP.G_CURRKUPLOADER._config.cloudInfo.Use&&"2"==KUPLOADTOP.G_CURRKUPLOADER._config.cloudInfo.Use&&(c+="k46"+KUPLOADTOP.RAONKSolution.Agent.formfeed+KUPLOADTOP.G_CURRKUPLOADER._config.cloudInfo.Use+KUPLOADTOP.RAONKSolution.Agent.vertical);e=KUPLOADTOP.RAONKUPLOAD.util.makeEncryptParamFinal(c);b+=e.name+"="+e.value;e=G_FormData.length;for(c=0;c<e;c++)f=G_FormData[c].form_value,f="1"<=KUPLOADTOP.G_CURRKUPLOADER._config.security.encryptParam?KUPLOADTOP.RAONKUPLOAD.util.makeEncryptParamFinal(f).value:
encodeURIComponent(f),b+="&"+G_FormData[c].form_name+"="+f;var k=function(a,b,c){try{var e=getUploadedFileListObj(),f="",g="";c?(g=c.code,f=c.message):(g="C005",a?f=a.message:void 0!=b&&(f="http(s) status is "+b));var k={strType:"upload",strCode:g,strMessage:RAONKUpload_Lang.error_info["error_code_"+g]+"\n"+f,arrUploadedFileList:e};"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring&&G_KUPlugin.kmonitoring.endUploadRequest(k.strCode+"|"+k.strMessage,"3");setUploadExtraData(e);if("function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.onError)KUPLOADTOP.G_CURRKUPLOADER._config.event.onError(KUPLOADTOP.G_CURRKUPLOADER.ID,
k);else"function"!==typeof KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError&&alert("Error Code : "+k.strCode+"\nError Message : "+k.strMessage),KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError(KUPLOADTOP.G_CURRKUPLOADER.ID,k)}catch(l){}try{if(1==G_MultiTranferCheck)G_MultiTranferCheck=4;else try{"0"==KUPLOADTOP.G_CURRKUPLOADER._config.skipSentFile&&fileListReset()}catch(n){}0<getSessionKeepData(KUPLOADTOP.G_CURRKUPLOADER).length&&(KUPLOADTOP.G_CURRKUPLOADER._config.sessionKeep.requestFlag=!1);displayCommonReady(!1,
KUPLOADTOP.G_CURRKUPLOADER);closeSendDialog();KUPLOADTOP.G_CURRKUPLOADER.cancel()}catch(r){}},l=KUPLOADTOP.RAONKUPLOAD.ajax.createXMLHttpRequest();l.onreadystatechange=function(){if(4==l.readyState)if(200==l.status){var a=KUPLOADTOP.RAONKUPLOAD.util.parseDataFromServer(l.responseText);if(0==a.indexOf("[OK]"))if(a=a.replace("[OK]",""),a=KUPLOADTOP.RAONKUPLOAD.util.makeDecryptReponseMessage(a),"C012|response data decrypt error"==a)k(null,null,{code:"C012",message:"response data decrypt error"});else{var a=
a.split(KUPLOADTOP.RAONKSolution.Agent.formfeed),b="";3==a.length&&(b=a[2]);a=a[0];""!=b&&(RESULTFILELIST[uploaders[upload_complete_count]].guid=b);var c=a.split(KUPLOADTOP.RAONKSolution.Agent.vertical);"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring&&G_KUPlugin.kmonitoring.transferPath.push(c[0]);var e=function(){var a=getDialogDocument();a.getElementById("RAON_K_UP_ly_wrapper").style.opacity="1";a.body.removeChild(a.getElementById("resume_upload_background"));a.body.removeChild(a.getElementById("RAON_K_UP_Popup_ResumeUpload_popup"))},
f=function(){KUPLOADTOP.G_CURRKUPLOADER.resumeInfoObj=null;KUPLOADTOP.G_CURRKUPLOADER.isCurrResumeUpload=!1;KUPLOADTOP.window.localStorage.RAONK_resume_up_info=""};if(KUPLOADTOP.G_CURRKUPLOADER.isCurrResumeUpload)if(parseInt(c[1],10)==KUPLOADTOP.G_CURRKUPLOADER.resumeInfoObj.fileSize){KUPLOADTOP.G_CURRKUPLOADER.resumeUploadCheck=null;createResumeUploadConfirmDiv(KUPLOADTOP.G_CURRKUPLOADER.resumeInfoObj.originName,KUPLOADTOP.G_CURRKUPLOADER.resumeInfoObj.fileSize,KUPLOADTOP.G_CURRKUPLOADER.resumeInfoObj.lastTransferDateTime,
KUPLOADTOP.G_CURRKUPLOADER.resumeInfoObj.uploadedSize,KUPLOADTOP.G_CURRKUPLOADER.resumeInfoObj.fileSize-KUPLOADTOP.G_CURRKUPLOADER.resumeInfoObj.uploadedSize);var g=0,n=0,y=setInterval(function(){n++;0==n%10&&g++;KUPLOADTOP.G_CURRKUPLOADER.resumeUploadCheck?(clearInterval(y),e(),PREVIOUSUPLOADEDSIZE+=KUPLOADTOP.G_CURRKUPLOADER.resumeInfoObj.uploadedSize,ONEFILEUPLOADEDSIZE=KUPLOADTOP.G_CURRKUPLOADER.resumeInfoObj.uploadedSize,KUPLOADTOP.G_CURRKUPLOADER.resumeSizeForProgress=KUPLOADTOP.G_CURRKUPLOADER.resumeInfoObj.uploadedSize,
G_ElapsedTime-=g,0>=G_ElapsedTime&&(G_ElapsedTime=0),n=g=0,processUpload(c[0])):!1===KUPLOADTOP.G_CURRKUPLOADER.resumeUploadCheck&&(clearInterval(y),e(),f(),G_ElapsedTime=0==PREVIOUSUPLOADEDSIZE?0:G_ElapsedTime-g,0>=G_ElapsedTime&&(G_ElapsedTime=0),n=g=0,processUpload(c[0]))},100)}else f(),processUpload(c[0]);else KUPLOADTOP.G_CURRKUPLOADER.resumeUploadCheck=null,processUpload(c[0])}else if(0==a.indexOf("[FAIL]")){a=a.replace("[FAIL]","");a=KUPLOADTOP.RAONKUPLOAD.util.makeDecryptReponseMessage(a);
a=KUPLOADTOP.RAONKUPLOAD.util.getCodeAndMessage(a);b=getUploadedFileListObj();try{var C={strType:"upload",strCode:a.code,strMessage:a.message,arrUploadedFileList:b};"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring&&G_KUPlugin.kmonitoring.endUploadRequest(C.strCode+"|"+C.strMessage,"3");b=setUploadExtraData(b);if("function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.onError)KUPLOADTOP.G_CURRKUPLOADER._config.event.onError(KUPLOADTOP.G_CURRKUPLOADER.ID,C);else"function"!==typeof KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError&&
alert("Error Code : "+C.strCode+"\nError Message : "+C.strMessage),KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError(KUPLOADTOP.G_CURRKUPLOADER.ID,C)}catch(r){}if(1==G_MultiTranferCheck)G_MultiTranferCheck=4;else try{"0"==KUPLOADTOP.G_CURRKUPLOADER._config.skipSentFile&&fileListReset()}catch(A){}0<getSessionKeepData(KUPLOADTOP.G_CURRKUPLOADER).length&&(KUPLOADTOP.G_CURRKUPLOADER._config.sessionKeep.requestFlag=!1);displayCommonReady(!1,KUPLOADTOP.G_CURRKUPLOADER);closeSendDialog();KUPLOADTOP.G_CURRKUPLOADER.cancel()}}else(400<=
l.status&&600>l.status||0==l.status)&&k(null,l.status)};l.open("POST",KUPLOADTOP.G_CURRKUPLOADER._config.handlerUrl,!0);KUPLOADTOP.RAONKUPLOAD.util.setXhrHttpHeader(l,KUPLOADTOP.G_CURRKUPLOADER.tempHttpHeaderObj,!0);try{l.send(b)}catch(n){k(n)}}}var G_uploadChunkIdx=0,G_uploadTaskId=0,G_SliceCount=0,G_SliceMaxCount=0,G_uploadedSliceCount=0;
function processUpload(b){getDialogDocument();var e=KUPLOADTOP.G_CURRKUPLOADER._config;complete_worker_count=G_uploadedSliceCount=G_SliceMaxCount=G_uploadChunkIdx=0;if(0!=uploaders.length){var c=RESULTFILELIST[uploaders[upload_complete_count]].fileSize,a=KUPLOADTOP.G_CURRKUPLOADER.kBandwidth.bw;KUPLOADTOP.G_CURRKUPLOADER.currWorkerCount=0==e.workerSupported||KUPLOADTOP.RAONKUPLOAD.browser.ie||0<a?0:5242880<c?2:1;var f;KUPLOADTOP.RAONKUPLOAD.browser.safari?f=1048576:(c=getNetworkSpeedType(KUPLOADTOP.G_CURRKUPLOADER.networkSpeedTime),
f=0==c?1048576:1==c?2097152:5242880);"0"==e.sizeForChunkUpload?0==KUPLOADTOP.G_CURRKUPLOADER.currWorkerCount&&"0"==e.resumeUpload&&KUPLOADTOP.RAONKUPLOAD.browser.ie&&(f=5242880):f=e.sizeForChunkUpload;0<KUPLOADTOP.G_CURRKUPLOADER.currWorkerCount&&"1"==e.security.useMagicJs&&(KUPLOADTOP.G_CURRKUPLOADER.currWorkerCount=1);KUPLOADTOP.G_CURRKUPLOADER._config.cloudInfo.Use&&"2"==KUPLOADTOP.G_CURRKUPLOADER._config.cloudInfo.Use&&(5242880>f?f=5242880:5368709120<f&&(f=5368709120),c=RESULTFILELIST[uploaders[upload_complete_count]].file.size,
1E4<parseInt(c/f,10)&&(lUploadChunkSize=Math.ceil(c/1E4)));e.chunkSize=f;KUPLOADTOP.G_CURRKUPLOADER.isCurrResumeUpload&&(KUPLOADTOP.G_CURRKUPLOADER.currWorkerCount=parseInt(KUPLOADTOP.G_CURRKUPLOADER.resumeInfoObj.workerCount,10),f=parseInt(KUPLOADTOP.G_CURRKUPLOADER.resumeInfoObj.chunkSize,10));c=RESULTFILELIST[uploaders[upload_complete_count]].file.size;e=0;c>=f&&(e=parseInt(c/f,10));var g=c%f;0<g&&e++;G_SliceMaxCount=e;var k=function(){for(var a=0;a<KUPLOADTOP.G_CURRKUPLOADER.currWorkerCount;a++)if(null==
fileworkers[a]||void 0==fileworkers[a]){var c="",c=KUPLOADTOP.RAONKUPLOAD.ReleaseVer;"1"==KUPLOADTOP.G_CURRKUPLOADER._config.cacheProtectMode&&(c=KUPLOADTOP.RAONKUPLOAD.util.getTimeStamp());c=KUPLOADTOP.RAONKUPLOAD.isRelease?KUPLOADTOP.G_CURRKUPLOADER._config.webPath.js+"raonkupload.processuploadfile.min.js?ver="+c:KUPLOADTOP.G_CURRKUPLOADER._config.webPath.jsDev+"raonkupload.processuploadfile.js?ver="+c;c=new Worker(c);c.onmessage=function(a){a=a.data;switch(a.type){case "progress":G_uploadedSliceCount++;
var b=a.paramObj;"1"==KUPLOADTOP.G_CURRKUPLOADER._config.resumeUpload&&(KUPLOADTOP.G_CURRKUPLOADER.uploadedTaskId+=b.uploadIdx+",",KUPLOADTOP.G_CURRKUPLOADER.uploadedSize+=b.uploadedSize);uploadProgress(b.uploadedSize,!1);if(G_uploadedSliceCount<G_SliceMaxCount){a=getNextIdx();var c=fn_sliceFile(a);c&&(a={chunk:c,uploadIdx:a,handlerUrl:KUPLOADTOP.G_CURRKUPLOADER._config.handlerUrl,asyncUpload:KUPLOADTOP.G_CURRKUPLOADER._config.asyncUpload,security:KUPLOADTOP.G_CURRKUPLOADER._config.security,compress:RESULTFILELIST[uploaders[upload_complete_count]].compress?
KUPLOADTOP.G_CURRKUPLOADER._config.useCompressTransfer:"0",guid:RESULTFILELIST[uploaders[upload_complete_count]].guid,resumeUpload:KUPLOADTOP.G_CURRKUPLOADER._config.resumeUpload,cloudInfoUse:KUPLOADTOP.G_CURRKUPLOADER._config.cloudInfo.Use,startPos:fn_getStartPos(a),partNumber:a+1,partSize:a+1==G_SliceMaxCount&&0<g?g:f,path:b.path,workerId:b.workerId,isLast:a+1==G_SliceMaxCount?!0:!1,magicJsData:{},addHttpHeader:KUPLOADTOP.G_CURRKUPLOADER.tempHttpHeaderObj},"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring?
(a.useKMonitoring="1",a.trasnferId=G_KUPlugin.kmonitoring.transferId):a.useKMonitoring="",(c=G_KUPlugin.magicjs)&&c.options&&(a.magicJsData.use=KUPLOADTOP.G_CURRKUPLOADER._config.security.useMagicJs,a.magicJsData.pluginOptions=c.options),fileworkers[b.workerId].postMessage({type:"upload",uploadData:a}))}else b.extraData&&(RESULTFILELIST[uploaders[upload_complete_count]].extraDataObject=b.extraData),endUploadRequest();break;case "chunkProgress":b=a.paramObj;applyBandwidth(a.tickSize);try{uploadProgress(0,
!1,b.chunkLoadedSize)}catch(e){}break;case "error":removeWorker();c=getUploadedFileListObj();try{if(b={strType:"upload",strCode:a.code,strMessage:RAONKUpload_Lang.error_info["error_code_"+a.code]+"\n"+a.message,arrUploadedFileList:c},"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring&&G_KUPlugin.kmonitoring.endUploadRequest(b.strCode+"|"+b.strMessage,"3"),setUploadExtraData(c),"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.onError)KUPLOADTOP.G_CURRKUPLOADER._config.event.onError(KUPLOADTOP.G_CURRKUPLOADER.ID,
b);else"function"!==typeof KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError&&alert("Error Code : "+b.strCode+"\nError Message : "+b.strMessage),KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError(KUPLOADTOP.G_CURRKUPLOADER.ID,b)}catch(k){}try{if(1==G_MultiTranferCheck)G_MultiTranferCheck=4;else try{"0"==KUPLOADTOP.G_CURRKUPLOADER._config.skipSentFile&&fileListReset()}catch(l){}0<getSessionKeepData(KUPLOADTOP.G_CURRKUPLOADER).length&&(KUPLOADTOP.G_CURRKUPLOADER._config.sessionKeep.requestFlag=!1);displayCommonReady(!1,
KUPLOADTOP.G_CURRKUPLOADER);closeSendDialog();KUPLOADTOP.G_CURRKUPLOADER.cancel()}catch(n){}}};c.onerror=function(a){removeWorker();a=getUploadedFileListObj();try{var b={strType:"upload",strCode:"C002",strMessage:RAONKUpload_Lang.error_info["error_code_"+data.code]+"\n"+data.message,arrUploadedFileList:a};"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring&&G_KUPlugin.kmonitoring.endUploadRequest(b.strCode+"|"+b.strMessage,"3");setUploadExtraData(a);if("function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.onError)KUPLOADTOP.G_CURRKUPLOADER._config.event.onError(KUPLOADTOP.G_CURRKUPLOADER.ID,
b);else"function"!==typeof KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError&&alert("Error Code : "+b.strCode+"\nError Message : "+b.strMessage),KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError(KUPLOADTOP.G_CURRKUPLOADER.ID,b)}catch(c){}try{if(1==G_MultiTranferCheck)G_MultiTranferCheck=4;else try{"0"==KUPLOADTOP.G_CURRKUPLOADER._config.skipSentFile&&fileListReset()}catch(e){}0<getSessionKeepData(KUPLOADTOP.G_CURRKUPLOADER).length&&(KUPLOADTOP.G_CURRKUPLOADER._config.sessionKeep.requestFlag=!1);displayCommonReady(!1,
KUPLOADTOP.G_CURRKUPLOADER);closeSendDialog();KUPLOADTOP.G_CURRKUPLOADER.cancel()}catch(f){}};fileworkers.push(c)}0==upload_complete_count&&(G_UploadStartTime=(new Date).getTime()/1E3);"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring&&G_KUPlugin.kmonitoring.setTransferTime("start");c=!0;if(0<KUPLOADTOP.G_CURRKUPLOADER._config.security.fileEncrypt)try{var e=window.crypto||window.msCrypto;e&&e.subtle||(c=!1)}catch(k){}"1"==KUPLOADTOP.G_CURRKUPLOADER._config.security.useMagicJs&&(c=!1);if(0<KUPLOADTOP.G_CURRKUPLOADER.currWorkerCount&&
c)for(a=0;a<KUPLOADTOP.G_CURRKUPLOADER.currWorkerCount;a++){if(e=getNextIdx(),c=fn_sliceFile(e))e={chunk:c,uploadIdx:e,handlerUrl:KUPLOADTOP.G_CURRKUPLOADER._config.handlerUrl,asyncUpload:KUPLOADTOP.G_CURRKUPLOADER._config.asyncUpload,security:KUPLOADTOP.G_CURRKUPLOADER._config.security,compress:RESULTFILELIST[uploaders[upload_complete_count]].compress?KUPLOADTOP.G_CURRKUPLOADER._config.useCompressTransfer:"0",guid:RESULTFILELIST[uploaders[upload_complete_count]].guid,resumeUpload:KUPLOADTOP.G_CURRKUPLOADER._config.resumeUpload,
cloudInfoUse:KUPLOADTOP.G_CURRKUPLOADER._config.cloudInfo.Use,startPos:fn_getStartPos(e),partNumber:e+1,partSize:e+1==G_SliceMaxCount&&0<g?g:f,remainder:g,path:b,workerId:a,uploadChunkSize:f,isLast:e+1==G_SliceMaxCount?!0:!1,magicJsData:{},addHttpHeader:KUPLOADTOP.G_CURRKUPLOADER.tempHttpHeaderObj},"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring?(e.useKMonitoring="1",e.trasnferId=G_KUPlugin.kmonitoring.transferId):e.useKMonitoring="",(c=G_KUPlugin.magicjs)&&c.options&&(e.magicJsData.use=KUPLOADTOP.G_CURRKUPLOADER._config.security.useMagicJs,
e.magicJsData.pluginOptions=c.options),fileworkers[a].postMessage({type:"upload",uploadData:e}),c=void 0}else if(e=getNextIdx(),c=fn_sliceFile(e))e={chunk:c,uploadIdx:e,handlerUrl:KUPLOADTOP.G_CURRKUPLOADER._config.handlerUrl,asyncUpload:KUPLOADTOP.G_CURRKUPLOADER._config.asyncUpload,security:KUPLOADTOP.G_CURRKUPLOADER._config.security,guid:RESULTFILELIST[uploaders[upload_complete_count]].guid,resumeUpload:KUPLOADTOP.G_CURRKUPLOADER._config.resumeUpload,startPos:fn_getStartPos(e),partNumber:e+1,partSize:e+
1==G_SliceMaxCount&&0<g?g:f,remainder:g,path:b,workerId:a,uploadChunkSize:f,isLast:e+1==G_SliceMaxCount?!0:!1},uploadWithoutWorker(e)};if("0"!=KUPLOADTOP.G_CURRKUPLOADER._config.useCompressTransfer&&KUPLOADTOP.G_CURRKUPLOADER._config.workerSupported){var e=!1,c=".ZIP .EGG .GZ .JAR .RAR .TAR .TGZ .Z7Z .BZ2 .ISO".split(" "),l=null,n=null;try{n=RESULTFILELIST[uploaders[upload_complete_count]].file}catch(q){}if(n){for(var a=n.name,a=a.substring(a.lastIndexOf(".")).toUpperCase(),p=0;p<c.length;p++)if(c[p]==
a){e=!0;break}a=Math.round(n.size/2);p=Math.round(524288);c=a-p;a+=p;0>c&&(c=0);a>n.size&&(a=n.size);if(!e&&0<c){var l=n.mozSlice?n.mozSlice(c,a):n.webkitSlice?n.webkitSlice(c,a):n.slice(c,a),t=new FileReader;t.onload=function(){var a=new JSZip;a.file("testZip",this.result);a.generateAsync({type:"blob",compression:"deflate",compressionOptions:{level:9},comment:"RAONWIZ"},function(a){}).then(function(b){b=100-b.size/1048576*100;var c=KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(KUPLOADTOP.G_CURRKUPLOADER._config.agentIntelligentCompressValue);
b>=c&&(RESULTFILELIST[uploaders[upload_complete_count]].compress=!0);n=a=t=l=void 0;k()})};t.onerror=function(){t=void 0;removeWorker();var a=getUploadedFileListObj();try{var b={strType:"upload",strCode:"C009",strMessage:RAONKUpload_Lang.error_info.error_code_C009+"\nHttp Status Code: 0",arrUploadedFileList:a};"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring&&G_KUPlugin.kmonitoring.endUploadRequest(b.strCode+"|"+b.strMessage,"3");setUploadExtraData(a);if("function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.onError)KUPLOADTOP.G_CURRKUPLOADER._config.event.onError(KUPLOADTOP.G_CURRKUPLOADER.ID,
b);else"function"!==typeof KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError&&alert("Error Code : "+b.strCode+"\nError Message : "+b.strMessage),KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError(KUPLOADTOP.G_CURRKUPLOADER.ID,b)}catch(c){}try{if(1==G_MultiTranferCheck)G_MultiTranferCheck=4;else try{"0"==KUPLOADTOP.G_CURRKUPLOADER._config.skipSentFile&&fileListReset()}catch(e){}0<getSessionKeepData(KUPLOADTOP.G_CURRKUPLOADER).length&&(KUPLOADTOP.G_CURRKUPLOADER._config.sessionKeep.requestFlag=!1);displayCommonReady(!1,
KUPLOADTOP.G_CURRKUPLOADER);closeSendDialog();KUPLOADTOP.G_CURRKUPLOADER.cancel()}catch(f){}};t.readAsArrayBuffer(l)}else k()}else k()}else k()}}function fn_sliceFile(b){var e=null,c=null;try{c=RESULTFILELIST[uploaders[upload_complete_count]].file}catch(a){}c&&(b=fn_getStartPos(b),b<c.size&&(G_SliceCount++,e=b+KUPLOADTOP.G_CURRKUPLOADER._config.chunkSize,e>c.size&&(e=c.size),e=c.mozSlice?c.mozSlice(b,e):c.webkitSlice?c.webkitSlice(b,e):c.slice(b,e)));return e}
function fn_getStartPos(b){return b*KUPLOADTOP.G_CURRKUPLOADER._config.chunkSize}function getNextIdx(){var b=0;if(KUPLOADTOP.G_CURRKUPLOADER.isCurrResumeUpload)for(;;)if(-1<KUPLOADTOP.G_CURRKUPLOADER.uploadedTaskIdArr.indexOf(G_uploadChunkIdx+""))G_uploadChunkIdx++,G_uploadedSliceCount++;else{b=G_uploadChunkIdx;G_uploadChunkIdx++;break}else b=G_uploadChunkIdx,G_uploadChunkIdx++;return b}
function uploadWithoutWorker(b){var e=XHRFactory.getInstance(),c=b.handlerUrl,c=-1<c.indexOf("?")?c+("&raonk="+KUPLOADTOP.RAONKUPLOAD.util.makeGuidTagName("urk_")):c+("?raonk="+KUPLOADTOP.RAONKUPLOAD.util.makeGuidTagName("urk_"));try{e.open("POST",c,!0),KUPLOADTOP.RAONKUPLOAD.util.setXhrHttpHeader(e,KUPLOADTOP.G_CURRKUPLOADER.tempHttpHeaderObj)}catch(a){}try{e.upload.onprogress=function(a){var c=parseInt(a.loaded/a.total*b.chunk.size*1,10),e=KUPLOADTOP.G_CURRKUPLOADER.kBandwidth,f=e.beforeSize;e.beforeSize=
a.loaded;f=a.loaded-f;a.loaded==a.total&&(e.beforeSize=0);applyBandwidth(f);try{uploadProgress(0,!1,c)}catch(g){}}}catch(f){}var g=function(a,b){var c=getUploadedFileListObj();try{var e={strType:"upload",strCode:"C009",strMessage:RAONKUpload_Lang.error_info.error_code_C009+"\nHttp Status Code: "+a.status,arrUploadedFileList:c};b&&(e.strCode="C100",e.strMessage=b.message);"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring&&G_KUPlugin.kmonitoring.endUploadRequest(e.strCode+"|"+e.strMessage,"3");
setUploadExtraData(c);if("function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.onError)KUPLOADTOP.G_CURRKUPLOADER._config.event.onError(KUPLOADTOP.G_CURRKUPLOADER.ID,e);else"function"!==typeof KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError&&alert("Error Code : "+e.strCode+"\nError Message : "+e.strMessage),KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError(KUPLOADTOP.G_CURRKUPLOADER.ID,e)}catch(f){}try{if(1==G_MultiTranferCheck)G_MultiTranferCheck=4;else try{"0"==KUPLOADTOP.G_CURRKUPLOADER._config.skipSentFile&&
fileListReset()}catch(g){}0<getSessionKeepData(KUPLOADTOP.G_CURRKUPLOADER).length&&(KUPLOADTOP.G_CURRKUPLOADER._config.sessionKeep.requestFlag=!1);displayCommonReady(!1,KUPLOADTOP.G_CURRKUPLOADER);closeSendDialog();KUPLOADTOP.G_CURRKUPLOADER.cancel();XHRFactory.release(a)}catch(k){}};e.onreadystatechange=function(){if(4==e.readyState)if(200==e.status){var a=KUPLOADTOP.RAONKUPLOAD.util.parseDataFromServer(e.responseText);XHRFactory.release(e);if("[OK]"==a)if(G_uploadedSliceCount++,"1"==KUPLOADTOP.G_CURRKUPLOADER._config.resumeUpload&&
(KUPLOADTOP.G_CURRKUPLOADER.uploadedTaskId+=b.uploadIdx+",",KUPLOADTOP.G_CURRKUPLOADER.uploadedSize+=b.chunk.size),uploadProgress(b.chunk.size,!1),b.chunk=void 0,G_uploadedSliceCount<G_SliceMaxCount){var a=getNextIdx(),c=fn_sliceFile(a);c&&(a={chunk:c,uploadIdx:a,handlerUrl:KUPLOADTOP.G_CURRKUPLOADER._config.handlerUrl,asyncUpload:KUPLOADTOP.G_CURRKUPLOADER._config.asyncUpload,security:KUPLOADTOP.G_CURRKUPLOADER._config.security,guid:RESULTFILELIST[uploaders[upload_complete_count]].guid,resumeUpload:KUPLOADTOP.G_CURRKUPLOADER._config.resumeUpload,
startPos:fn_getStartPos(a),partNumber:a+1,partSize:a+1==G_SliceMaxCount&&0<b.remainder?b.remainder:b.uploadChunkSize,remainder:b.remainder,path:b.path,workerId:b.workerId,uploadChunkSize:b.uploadChunkSize,isLast:a+1==G_SliceMaxCount?!0:!1},uploadWithoutWorker(a))}else endUploadRequest();else if(0==a.indexOf("[FAIL]")){a=a.replace("[FAIL]","");a=KUPLOADTOP.RAONKUPLOAD.util.makeDecryptReponseMessage(a);a=KUPLOADTOP.RAONKUPLOAD.util.getCodeAndMessage(a);c=getUploadedFileListObj();try{var f={strType:"upload",
strCode:a.code,strMessage:a.message,arrUploadedFileList:c};"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring&&G_KUPlugin.kmonitoring.endUploadRequest(f.strCode+"|"+f.strMessage,"3");setUploadExtraData(c);if("function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.onError)KUPLOADTOP.G_CURRKUPLOADER._config.event.onError(KUPLOADTOP.G_CURRKUPLOADER.ID,f);else"function"!==typeof KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError&&alert("Error Code : "+f.strCode+"\nError Message : "+f.strMessage),KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError(KUPLOADTOP.G_CURRKUPLOADER.ID,
f)}catch(k){}try{if(1==G_MultiTranferCheck)G_MultiTranferCheck=4;else try{"0"==KUPLOADTOP.G_CURRKUPLOADER._config.skipSentFile&&fileListReset()}catch(l){}0<getSessionKeepData(KUPLOADTOP.G_CURRKUPLOADER).length&&(KUPLOADTOP.G_CURRKUPLOADER._config.sessionKeep.requestFlag=!1);displayCommonReady(!1,KUPLOADTOP.G_CURRKUPLOADER);closeSendDialog();KUPLOADTOP.G_CURRKUPLOADER.cancel();XHRFactory.release(e)}catch(n){}}}else(400<=e.status&&600>e.status||0==e.status)&&g(e)};try{var k="",l=function(){var a;a=
""+("kc"+KUPLOADTOP.RAONKSolution.Agent.formfeed+"c02"+KUPLOADTOP.RAONKSolution.Agent.vertical);a+="k01"+KUPLOADTOP.RAONKSolution.Agent.formfeed+b.security.encryptParam+KUPLOADTOP.RAONKSolution.Agent.vertical;var c=!0,f=!1,l=!1,n=G_KUPlugin.magicjs;n&&"1"==n.options.encrypt.use&&(f=!0,"0"==n.options.encrypt.decryptInServer&&(c=!1,l=!0));var q=b.security.fileEncrypt;n&&"1"==n.options.encrypt.use&&(q="1");"0"!=q&&(a+="k02"+KUPLOADTOP.RAONKSolution.Agent.formfeed+q+KUPLOADTOP.RAONKSolution.Agent.vertical);
a+="k03"+KUPLOADTOP.RAONKSolution.Agent.formfeed+(""!=b.security.fileIntegrityUpload?b.security.fileIntegrityUpload:b.security.fileIntegrity)+KUPLOADTOP.RAONKSolution.Agent.vertical;a+="k05"+KUPLOADTOP.RAONKSolution.Agent.formfeed+b.resumeUpload+KUPLOADTOP.RAONKSolution.Agent.vertical;a+="k12"+KUPLOADTOP.RAONKSolution.Agent.formfeed+b.guid+KUPLOADTOP.RAONKSolution.Agent.vertical;c&&(a+="k19"+KUPLOADTOP.RAONKSolution.Agent.formfeed+b.startPos+KUPLOADTOP.RAONKSolution.Agent.vertical);a+="k26"+KUPLOADTOP.RAONKSolution.Agent.formfeed+
b.path;KUPLOADTOP.G_CURRKUPLOADER._config.cloudInfo.Use&&"2"==KUPLOADTOP.G_CURRKUPLOADER._config.cloudInfo.Use&&(a+=KUPLOADTOP.RAONKSolution.Agent.vertical+"k46"+KUPLOADTOP.RAONKSolution.Agent.formfeed+KUPLOADTOP.G_CURRKUPLOADER._config.cloudInfo.Use,a+=KUPLOADTOP.RAONKSolution.Agent.vertical+"k27"+KUPLOADTOP.RAONKSolution.Agent.formfeed+b.partNumber,a+=KUPLOADTOP.RAONKSolution.Agent.vertical+"k48"+KUPLOADTOP.RAONKSolution.Agent.formfeed+b.partSize);f&&(a+=KUPLOADTOP.RAONKSolution.Agent.vertical+
"k49"+KUPLOADTOP.RAONKSolution.Agent.formfeed+"1");l&&(a+=KUPLOADTOP.RAONKSolution.Agent.vertical+"k50"+KUPLOADTOP.RAONKSolution.Agent.formfeed+"1");n&&"1"==n.options.encrypt.use&&(0==b.uploadIdx&&setMagicJsCipherKey(n.options),a+=KUPLOADTOP.RAONKSolution.Agent.vertical+"k54"+KUPLOADTOP.RAONKSolution.Agent.formfeed+getMagicJsCipherKey());"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring&&(a+=KUPLOADTOP.RAONKSolution.Agent.vertical+"km00"+KUPLOADTOP.RAONKSolution.Agent.formfeed+G_KUPlugin.kmonitoring.transferId);
a=KUPLOADTOP.RAONKUPLOAD.util.makeEncryptParamFinal(a);var t=new FormData;t.append(a.name,a.value);"1"==(""!=b.security.fileIntegrityUpload?b.security.fileIntegrityUpload:b.security.fileIntegrity)&&t.append("k25",k);var u=function(a){var b=[];b.push(a);return new Blob(b,{type:"application/octet-stream"})},v=function(a,b,c){var e=b.security.keyValue.substring(0,11);b=16*b.security.fileEncrypt;var f=function(a){for(var b,c,e=[],f=0;f<a.length;f++){b=a.charCodeAt(f);c=[];do c.push(b&255),b>>=8;while(b);
e=e.concat(c.reverse())}return e},g=window.crypto||window.msCrypto;if(g&&g.subtle){e=e.substring(0,11);e=f(e);b=new Uint8Array(b);b.set(e);var k=new Uint8Array(16);k.set(e);var l=g.subtle.importKey("raw",b,{name:"AES-CBC"},!1,["encrypt","decrypt"]);l.then?l.then(function(b){g.subtle.encrypt({name:"AES-CBC",iv:k},b,a).then(function(a){a=u(a);c(a)})["catch"]=function(a){a={strType:"upload",strCode:"C011",strMessage:RAONKUpload_Lang.error_info.error_code_C011+"\n"+(a.message||a),arrUploadedFileList:p};
"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring&&G_KUPlugin.kmonitoring.endUploadRequest(a.strCode+"|"+a.strMessage,"3");p=setUploadExtraData(p);if("function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.onError)KUPLOADTOP.G_CURRKUPLOADER._config.event.onError(KUPLOADTOP.G_CURRKUPLOADER.ID,a);else"function"!==typeof KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError&&alert("Error Code : "+a.strCode+"\nError Message : "+a.strMessage),KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError(KUPLOADTOP.G_CURRKUPLOADER.ID,
a);try{if(1==G_MultiTranferCheck)G_MultiTranferCheck=4;else try{"0"==KUPLOADTOP.G_CURRKUPLOADER._config.skipSentFile&&fileListReset()}catch(b){}0<getSessionKeepData(KUPLOADTOP.G_CURRKUPLOADER).length&&(KUPLOADTOP.G_CURRKUPLOADER._config.sessionKeep.requestFlag=!1);displayCommonReady(!1,KUPLOADTOP.G_CURRKUPLOADER);closeSendDialog();KUPLOADTOP.G_CURRKUPLOADER.cancel()}catch(c){}}})["catch"]=function(a){a={strType:"upload",strCode:"C011",strMessage:RAONKUpload_Lang.error_info.error_code_C011+"\n"+(a.message||
a),arrUploadedFileList:p};"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring&&G_KUPlugin.kmonitoring.endUploadRequest(a.strCode+"|"+a.strMessage,"3");p=setUploadExtraData(p);if("function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.onError)KUPLOADTOP.G_CURRKUPLOADER._config.event.onError(KUPLOADTOP.G_CURRKUPLOADER.ID,a);else"function"!==typeof KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError&&alert("Error Code : "+a.strCode+"\nError Message : "+a.strMessage),KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError(KUPLOADTOP.G_CURRKUPLOADER.ID,
a);try{if(1==G_MultiTranferCheck)G_MultiTranferCheck=4;else try{"0"==KUPLOADTOP.G_CURRKUPLOADER._config.skipSentFile&&fileListReset()}catch(b){}0<getSessionKeepData(KUPLOADTOP.G_CURRKUPLOADER).length&&(KUPLOADTOP.G_CURRKUPLOADER._config.sessionKeep.requestFlag=!1);displayCommonReady(!1,KUPLOADTOP.G_CURRKUPLOADER);closeSendDialog();KUPLOADTOP.G_CURRKUPLOADER.cancel()}catch(c){}}:(l.oncomplete=function(){var b=g.subtle.encrypt({name:"AES-CBC",iv:k},l.result,a);b.oncomplete=function(){var a=u(b.result);
c(a)};b.onerror=function(a){a={strType:"upload",strCode:"C011",strMessage:RAONKUpload_Lang.error_info.error_code_C011+"\n"+(a.message||a),arrUploadedFileList:p};"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring&&G_KUPlugin.kmonitoring.endUploadRequest(a.strCode+"|"+a.strMessage,"3");p=setUploadExtraData(p);if("function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.onError)KUPLOADTOP.G_CURRKUPLOADER._config.event.onError(KUPLOADTOP.G_CURRKUPLOADER.ID,a);else"function"!==typeof KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError&&
alert("Error Code : "+a.strCode+"\nError Message : "+a.strMessage),KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError(KUPLOADTOP.G_CURRKUPLOADER.ID,a);try{if(1==G_MultiTranferCheck)G_MultiTranferCheck=4;else try{"0"==KUPLOADTOP.G_CURRKUPLOADER._config.skipSentFile&&fileListReset()}catch(b){}0<getSessionKeepData(KUPLOADTOP.G_CURRKUPLOADER).length&&(KUPLOADTOP.G_CURRKUPLOADER._config.sessionKeep.requestFlag=!1);displayCommonReady(!1,KUPLOADTOP.G_CURRKUPLOADER);closeSendDialog();KUPLOADTOP.G_CURRKUPLOADER.cancel()}catch(c){}}},
l.onerror=function(a){a={strType:"upload",strCode:"C011",strMessage:RAONKUpload_Lang.error_info.error_code_C011+"\n"+(a.message||a),arrUploadedFileList:p};"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring&&G_KUPlugin.kmonitoring.endUploadRequest(a.strCode+"|"+a.strMessage,"3");p=setUploadExtraData(p);if("function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.onError)KUPLOADTOP.G_CURRKUPLOADER._config.event.onError(KUPLOADTOP.G_CURRKUPLOADER.ID,a);else"function"!==typeof KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError&&
alert("Error Code : "+a.strCode+"\nError Message : "+a.strMessage),KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError(KUPLOADTOP.G_CURRKUPLOADER.ID,a);try{if(1==G_MultiTranferCheck)G_MultiTranferCheck=4;else try{"0"==KUPLOADTOP.G_CURRKUPLOADER._config.skipSentFile&&fileListReset()}catch(b){}0<getSessionKeepData(KUPLOADTOP.G_CURRKUPLOADER).length&&(KUPLOADTOP.G_CURRKUPLOADER._config.sessionKeep.requestFlag=!1);displayCommonReady(!1,KUPLOADTOP.G_CURRKUPLOADER);closeSendDialog();KUPLOADTOP.G_CURRKUPLOADER.cancel()}catch(c){}})}else l=
CryptoJS.enc.Utf8.parse(e),l.sigBytes=b,wordArrayData=arrayBufferToWordArray(a),e=CryptoJS.AES.encrypt(wordArrayData,l,{iv:CryptoJS.enc.Utf8.parse(e)}),wordArrayData=void 0,e=u(convertWordArrayToUint8Array(e.ciphertext)),c(e)},x=function(){try{0==KUPLOADTOP.G_CURRKUPLOADER._config.uploadCancel&&e.send(t)}catch(a){XHRFactory.release(e)}},H=function(a){t.append("blob",a);x()};if(0<b.security.fileEncrypt){var F=new FileReader;F.onload=function(){v(this.result,b,H);F=void 0};F.onerror=function(){g(e);
F=void 0};F.readAsArrayBuffer(b.chunk)}else n?(F=new FileReader,F.onload=function(){var a={fileArrayBuffer:this.result,chunkIdx:b.uploadIdx,isLast:b.isLast,magicJsOptions:n.options,updateExtraData:function(a){var b=RESULTFILELIST[uploaders[upload_complete_count]];if(null==b.extraDataObject||null==a)b.extraDataObject={};for(data in a)b.extraDataObject[data]=a[data]},callback:function(a,b){if(b)g(e,b);else{var c=u(a);t.append("blob",c);x()}}};try{uploadUsingMagicJs(a)}catch(c){a.callback(null,{message:c.message})}F=
void 0},F.onerror=function(){g(e);F=void 0},F.readAsArrayBuffer(b.chunk)):(t.append("blob",b.chunk),x())};if("1"==(""!=b.security.fileIntegrityUpload?b.security.fileIntegrityUpload:b.security.fileIntegrity)){var n=new FileReader;n.onload=function(a){k=D5FileDataIntegrity(a.target.result,KUPLOADTOP.G_CURRKUPLOADER._config.security.keyValue.substring(0,11),!0).toString();l();n=void 0};n.onerror=function(){g(e);n=void 0};n.readAsArrayBuffer(b.chunk)}else l()}catch(q){var p=getUploadedFileListObj();try{var t=
{strType:"upload",strCode:"C010",strMessage:RAONKUpload_Lang.error_info.error_code_C010+"\n"+q.message,arrUploadedFileList:p};"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring&&G_KUPlugin.kmonitoring.endUploadRequest(t.strCode+"|"+t.strMessage,"3");p=setUploadExtraData(p);if("function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.onError)KUPLOADTOP.G_CURRKUPLOADER._config.event.onError(KUPLOADTOP.G_CURRKUPLOADER.ID,t);else"function"!==typeof KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError&&alert("Error Code : "+
t.strCode+"\nError Message : "+t.strMessage),KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError(KUPLOADTOP.G_CURRKUPLOADER.ID,t)}catch(u){}try{if(1==G_MultiTranferCheck)G_MultiTranferCheck=4;else try{"0"==KUPLOADTOP.G_CURRKUPLOADER._config.skipSentFile&&fileListReset()}catch(v){}0<getSessionKeepData(KUPLOADTOP.G_CURRKUPLOADER).length&&(KUPLOADTOP.G_CURRKUPLOADER._config.sessionKeep.requestFlag=!1);displayCommonReady(!1,KUPLOADTOP.G_CURRKUPLOADER);closeSendDialog();KUPLOADTOP.G_CURRKUPLOADER.cancel();XHRFactory.release(e)}catch(x){}}}
function endUploadRequest(){getDialogDocument();if(void 0!=RESULTFILELIST[uploaders[upload_complete_count]]){var b=upload_complete_count.toString();b==(uploaders.length-1).toString()&&(b+="z");var e="c03";0==RESULTFILELIST[uploaders[upload_complete_count]].fileSize&&(e="c05",""==RESULTFILELIST[uploaders[upload_complete_count]].guid&&(RESULTFILELIST[uploaders[upload_complete_count]].guid=KUPLOADTOP.RAONKUPLOAD.util.makeGuid()),0==upload_complete_count&&(G_UploadStartTime=(new Date).getTime()/1E3));
var c="",a;a=""+("kc"+KUPLOADTOP.RAONKSolution.Agent.formfeed+e+KUPLOADTOP.RAONKSolution.Agent.vertical);a+="k01"+KUPLOADTOP.RAONKSolution.Agent.formfeed+KUPLOADTOP.G_CURRKUPLOADER._config.security.encryptParam+KUPLOADTOP.RAONKSolution.Agent.vertical;RESULTFILELIST[uploaders[upload_complete_count]].compress&&(a+="k04"+KUPLOADTOP.RAONKSolution.Agent.formfeed+3+KUPLOADTOP.RAONKSolution.Agent.vertical);"0"!=KUPLOADTOP.G_CURRKUPLOADER._config.useHashExtract&&(a+="k06"+KUPLOADTOP.RAONKSolution.Agent.formfeed+
KUPLOADTOP.G_CURRKUPLOADER._config.useHashExtract+KUPLOADTOP.RAONKSolution.Agent.vertical);a+="k12"+KUPLOADTOP.RAONKSolution.Agent.formfeed+RESULTFILELIST[uploaders[upload_complete_count]].guid+KUPLOADTOP.RAONKSolution.Agent.vertical;a+="k14"+KUPLOADTOP.RAONKSolution.Agent.formfeed+RESULTFILELIST[uploaders[upload_complete_count]].originName+KUPLOADTOP.RAONKSolution.Agent.vertical;a+="k15"+KUPLOADTOP.RAONKSolution.Agent.formfeed+KUPLOADTOP.G_CURRKUPLOADER._config.fileNameRule+KUPLOADTOP.RAONKSolution.Agent.vertical;
a+="k16"+KUPLOADTOP.RAONKSolution.Agent.formfeed+KUPLOADTOP.G_CURRKUPLOADER._config.fileNameRuleEx+KUPLOADTOP.RAONKSolution.Agent.vertical;a+="k17"+KUPLOADTOP.RAONKSolution.Agent.formfeed+KUPLOADTOP.G_CURRKUPLOADER._config.folderNameRule+KUPLOADTOP.RAONKSolution.Agent.vertical;a+="k20"+KUPLOADTOP.RAONKSolution.Agent.formfeed+b+KUPLOADTOP.RAONKSolution.Agent.vertical;a+="k21"+KUPLOADTOP.RAONKSolution.Agent.formfeed+RESULTFILELIST[uploaders[upload_complete_count]].customValue;"1"==KUPLOADTOP.G_CURRKUPLOADER._config.security.useMagicJs&&
(a+=KUPLOADTOP.RAONKSolution.Agent.vertical+"k49"+KUPLOADTOP.RAONKSolution.Agent.formfeed+"1",a+=KUPLOADTOP.RAONKSolution.Agent.vertical+"k51"+KUPLOADTOP.RAONKSolution.Agent.formfeed+RESULTFILELIST[uploaders[upload_complete_count]].extraDataObject.originalFileHash,a+=KUPLOADTOP.RAONKSolution.Agent.vertical+"k52"+KUPLOADTOP.RAONKSolution.Agent.formfeed+RESULTFILELIST[uploaders[upload_complete_count]].extraDataObject.encryptedFileHash,a+=KUPLOADTOP.RAONKSolution.Agent.vertical+"k53"+KUPLOADTOP.RAONKSolution.Agent.formfeed+
RESULTFILELIST[uploaders[upload_complete_count]].extraDataObject.signedData,a+=KUPLOADTOP.RAONKSolution.Agent.vertical+"k54"+KUPLOADTOP.RAONKSolution.Agent.formfeed+RESULTFILELIST[uploaders[upload_complete_count]].extraDataObject.cipherKey);KUPLOADTOP.G_CURRKUPLOADER._config.cloudInfo.Use&&"2"==KUPLOADTOP.G_CURRKUPLOADER._config.cloudInfo.Use&&(a+=KUPLOADTOP.RAONKSolution.Agent.vertical+"k46"+KUPLOADTOP.RAONKSolution.Agent.formfeed+KUPLOADTOP.G_CURRKUPLOADER._config.cloudInfo.Use);b=KUPLOADTOP.RAONKUPLOAD.util.makeEncryptParamFinal(a);
c+=b.name+"="+b.value;b=G_FormData.length;for(a=0;a<b;a++)var f=G_FormData[a].form_value,f="1"<=KUPLOADTOP.G_CURRKUPLOADER._config.security.encryptParam?KUPLOADTOP.RAONKUPLOAD.util.makeEncryptParamFinal(f).value:encodeURIComponent(f),c=c+("&"+G_FormData[a].form_name+"="+f);var g=function(a,b,c){try{var e=getUploadedFileListObj(),f="",g="";c?(g=c.code,f=c.message):(g="C006",a?f=a.message:void 0!=b&&(f="http(s) status is "+b));var k={strType:"upload",strCode:g,strMessage:RAONKUpload_Lang.error_info["error_code_"+
g]+"\n"+f,arrUploadedFileList:e};"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring&&G_KUPlugin.kmonitoring.endUploadRequest(k.strCode+"|"+k.strMessage,"3");setUploadExtraData(e);if("function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.onError)KUPLOADTOP.G_CURRKUPLOADER._config.event.onError(KUPLOADTOP.G_CURRKUPLOADER.ID,k);else"function"!==typeof KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError&&alert("Error Code : "+k.strCode+"\nError Message : "+k.strMessage),KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError(KUPLOADTOP.G_CURRKUPLOADER.ID,
k)}catch(l){}try{if(1==G_MultiTranferCheck)G_MultiTranferCheck=4;else try{"0"==KUPLOADTOP.G_CURRKUPLOADER._config.skipSentFile&&fileListReset()}catch(y){}displayCommonReady(!1,KUPLOADTOP.G_CURRKUPLOADER);closeSendDialog();KUPLOADTOP.G_CURRKUPLOADER.cancel()}catch(C){}},k=KUPLOADTOP.RAONKUPLOAD.ajax.createXMLHttpRequest();k.onreadystatechange=function(){if(4==k.readyState)if(200==k.status){for(var a=!1,b=G_UploadEndRequestCancelXhr.length,c=0;c<b;c++)if(k==G_UploadEndRequestCancelXhr[c]){a=!0;G_UploadEndRequestCancelXhr.splice(c,
1);break}if(!a)if(c=KUPLOADTOP.RAONKUPLOAD.util.parseDataFromServer(k.responseText),0==c.indexOf("[OK]")){c=c.replace("[OK]","");"c05"==e&&uploadProgress(null,!0);c=KUPLOADTOP.RAONKUPLOAD.util.makeDecryptReponseMessage(c);if("C012|response data decrypt error"==c){g(null,null,{code:"C012",message:"response data decrypt error"});return}var f=c.split(KUPLOADTOP.RAONKSolution.Agent.formfeed),c=f[0],b=a="",l=c.indexOf("::");-1<l&&(a=c.substring(0,l),c=c.substring(l+2,c.length));l=c.indexOf(":");-1<l&&
(b=c.substring(0,l),c=c.substring(l+1,c.length));l="";l=c.length;"|"==c.substring(l-1,l)?(c=c.substring(0,l-1),l=getFileName(c,!1),c=c.substring(0,c.lastIndexOf("/"+l))):l=getFileName(c,!1);RESULTFILELIST[uploaders[upload_complete_count]].uploadName=l;RESULTFILELIST[uploaders[upload_complete_count]].uploadPath=c;RESULTFILELIST[uploaders[upload_complete_count]].status="complete";RESULTFILELIST[uploaders[upload_complete_count]].logicalPath="";RESULTFILELIST[uploaders[upload_complete_count]].responseCustomValue=
f[1];""!=b&&(RESULTFILELIST[uploaders[upload_complete_count]].originName=b);RESULTFILELIST[uploaders[upload_complete_count]].hashValue=a;KUPLOADTOP.G_CURRKUPLOADER.uploadedTaskId="";KUPLOADTOP.G_CURRKUPLOADER.uploadedSize=0;KUPLOADTOP.G_CURRKUPLOADER.isCurrResumeUpload&&(KUPLOADTOP.window.localStorage.RAONK_resume_up_info="");"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring&&("c05"==e&&(G_KUPlugin.kmonitoring.setTransferTime("start"),G_KUPlugin.kmonitoring.transferPath.push(c)),G_KUPlugin.kmonitoring.setTransferTime("end"));
RESULTFILELIST[uploaders[upload_complete_count]].guid&&(RESULTFILELIST[uploaders[upload_complete_count]].fileId=RESULTFILELIST[uploaders[upload_complete_count]].guid);RESULTFILELIST[uploaders[upload_complete_count]].transferId="1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring?G_KUPlugin.kmonitoring.transferId:KUPLOADTOP.G_CURRKUPLOADER.transferId;upload_complete_count++;upload_complete_count==TOTALUPLOADNUM?("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring&&G_KUPlugin.kmonitoring.endUploadRequest("",
"1"),totalUploadComplete(),0<getSessionKeepData(KUPLOADTOP.G_CURRKUPLOADER).length&&(KUPLOADTOP.G_CURRKUPLOADER._config.sessionKeep.requestFlag=!1)):(f=uploaders.indexOf(uploaders[upload_complete_count]),adjustUploadFileListScroll(f,upload_complete_count,TOTALUPLOADNUM),preUploadRequest())}else if(0==c.indexOf("[FAIL]")){c=c.replace("[FAIL]","");c=KUPLOADTOP.RAONKUPLOAD.util.makeDecryptReponseMessage(c);c=KUPLOADTOP.RAONKUPLOAD.util.getCodeAndMessage(c);KUPLOADTOP.G_CURRKUPLOADER.isCurrResumeUpload&&
(KUPLOADTOP.window.localStorage.RAONK_resume_up_info="");a=getUploadedFileListObj();try{if(f={strType:"upload",strCode:c.code,strMessage:c.message,arrUploadedFileList:a},"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKMonitoring&&G_KUPlugin.kmonitoring.endUploadRequest(f.strCode+"|"+f.strMessage,"3"),setUploadExtraData(a),"function"==typeof KUPLOADTOP.G_CURRKUPLOADER._config.event.onError)KUPLOADTOP.G_CURRKUPLOADER._config.event.onError(KUPLOADTOP.G_CURRKUPLOADER.ID,f);else"function"!==typeof KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError&&
alert("Error Code : "+f.strCode+"\nError Message : "+f.strMessage),KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_OnError(KUPLOADTOP.G_CURRKUPLOADER.ID,f)}catch(v){}if(1==G_MultiTranferCheck)G_MultiTranferCheck=4;else try{"0"==KUPLOADTOP.G_CURRKUPLOADER._config.skipSentFile&&fileListReset()}catch(x){}0<getSessionKeepData(KUPLOADTOP.G_CURRKUPLOADER).length&&(KUPLOADTOP.G_CURRKUPLOADER._config.sessionKeep.requestFlag=!1);displayCommonReady(!1,KUPLOADTOP.G_CURRKUPLOADER);closeSendDialog();KUPLOADTOP.G_CURRKUPLOADER.cancel()}f=
G_UploadEndRequestXhr.length;for(c=0;c<f;c++)if(k==G_UploadEndRequestXhr[c]){G_UploadEndRequestXhr.splice(c,1);break}}else if(400<=k.status&&600>k.status||0==k.status){a=!1;b=G_UploadEndRequestCancelXhr.length;for(c=0;c<b;c++)if(k==G_UploadEndRequestCancelXhr[c]){a=!0;G_UploadEndRequestCancelXhr.splice(c,1);break}a||KUPLOADTOP.G_CURRKUPLOADER.isCurrResumeUpload&&(KUPLOADTOP.window.localStorage.RAONK_resume_up_info="");f=G_UploadEndRequestXhr.length;for(c=0;c<f;c++)if(k==G_UploadEndRequestXhr[c]){G_UploadEndRequestXhr.splice(c,
1);break}g(null,k.status)}};G_UploadEndRequestXhr.push(k);G_NowUploadEndReqeustXhr=k;k.open("POST",KUPLOADTOP.G_CURRKUPLOADER._config.handlerUrl,!0);KUPLOADTOP.RAONKUPLOAD.util.setXhrHttpHeader(k,KUPLOADTOP.G_CURRKUPLOADER.tempHttpHeaderObj,!0);try{k.send(c)}catch(l){g(l)}}};function _addUploadedFile(b){var e=b.uniqueKey,c=b.originName,a=b.webPath,f=b.size,g=b.customValue,k=b.bHugeCount,l=b.bucketName;if(void 0==e||null==e)e="";b=null;void 0==c||null==c?c="":"object"===typeof c&&(b=c,c=c.FileName,b.FileNameFormat="",1==b.Bold&&(b.FileNameFormat="B"),1==b.Italic&&(b.FileNameFormat+="I"),1==b.Strike&&(b.FileNameFormat+="S"),1==b.UnderLine&&(b.FileNameFormat+="U"),b.FileNameColor||(b.FileNameColor=""));if(void 0==a||null==a)a="";if(void 0==f||null==f)f="";if(void 0==g||
null==g)g="";if(void 0==l||null==l)l="";var f=f.toString(),f=f.replace(/,/g,""),n=KUPLOADTOP.G_CURRKUPLOADER.frameWin;if(n&&0!=n.isExecuteApi()){if("0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager)var c=c.replace(/\\/,"/"),q=c.split("/"),c=q[q.length-1];f=isNaN(Number(f))||0>Number(f)||""==f?"":parseInt(f,10);l={file:null,guid:"",fileIdx:e,originName:c,originNameColor:"",originNameFormat:"",webPath:a,fileSize:f,uploadName:"",fileExt:"",isDelete:"n",isWebFile:"y",customValue:g,localPath:"",logicalPath:"",
status:"ready",bucketName:l};q=null;if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager){var p="",c=c.replace(/\\/,"/");-1<c.lastIndexOf("/")&&(p=c.substring(0,c.lastIndexOf("/")+1));if(""!=p){for(var t=RESULTFILELIST.length,u,v=p.split("/")[0],x=0;x<t;x++)if("n"==n.RESULTFILELIST[x].isDelete&&"y"==n.RESULTFILELIST[x].isWebFile&&n.RESULTFILELIST[x].rootFolderName==v){q=n.RESULTFILELIST[x];u=x;break}q?(t=n.FOLDERLISTINFO[q.folderIdx],e={webPath:a,logicalPath:p,originName:c,fileSize:f,uniqueKey:e,
customValue:g},t.push(e),q.fileCount=t.length,q.fileSize+=f,f=n.document.getElementById("file_list").getElementsByTagName("ul")[u].getElementsByTagName("li")[2].firstChild,u=KUPLOADTOP.RAONKUPLOAD.util.bytesToSize(q.fileSize),f.title=u.toString,f.innerHTML=u.toString):(l.isFolder="1",l.logicalPath="",l.originName=v,l.webPath="",l.fileSize=f,l.fileIdx=e,l.customValue=g,l.rootFolderName=v,l.folderIdx=FOLDERLISTINFO.length,n.isEmptyFolder(c)?(l.fileCount=0,n.FOLDERLISTINFO[l.folderIdx]=[]):(l.fileCount=
1,e={webPath:a,logicalPath:p,originName:c,fileSize:f,uniqueKey:e,customValue:g},n.FOLDERLISTINFO[l.folderIdx]=[e]))}else l.isFolder="0"}else l.isFolder="0";b&&(l.originNameColor=b.FileNameColor,l.originNameFormat=b.FileNameFormat);null==q&&(n.RESULTFILELIST.push(l),n.addFileList(l,!0),G_KVirtualList.module&&G_KVirtualList.virtualListInfo.push({realIndex:RESULTFILELIST.length-1,isAddfile:!0,listValue:void 0}));"1"==KUPLOADTOP.G_CURRKUPLOADER._config.use_file_sort&&"1"==KUPLOADTOP.G_CURRKUPLOADER._config.auto_sort&&
(0==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"html4"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode&&"1"==KUPLOADTOP.G_CURRKUPLOADER._config.sort_field||sortTotalFileList(KUPLOADTOP.G_CURRKUPLOADER._config.sort_field,KUPLOADTOP.G_CURRKUPLOADER._config.sort_ascdesc));1!=k&&(n.calcTotalSize(),n.displayTotalSizeAndNum(),n.setFileListBorder(),n.setListvalue(),n.setLargeFileAllList(),n.fileListSortIconReset(),G_KVirtualList.module&&G_KVirtualList.module.update());KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_AfterAddWebFile&&
KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_AfterAddWebFile(KUPLOADTOP.G_CURRKUPLOADER.ID)}}
function _addUploadedFileEx(b,e,c,a,f,g,k){if(void 0==b||null==b)b="";k=null;void 0==e||null==e?e="":"object"===typeof e&&(k=e,e=e.FileName,k.FileNameFormat="",1==k.Bold&&(k.FileNameFormat="B"),1==k.Italic&&(k.FileNameFormat+="I"),1==k.Strike&&(k.FileNameFormat+="S"),1==k.UnderLine&&(k.FileNameFormat+="U"),k.FileNameColor||(k.FileNameColor=""));if(void 0==c||null==c)c="";if(void 0==a||null==a)a="";if(void 0==f||null==f)f="";if(void 0==g||null==g)g="";var l=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItem.length;
if(""==g)for(var n=1;n<l;n++)g+="|";else{var q=g.split("|"),p=q.length;if(p<l)for(n=0;n<l-p;n++)g+="|";else if(p>l)for(g="",n=0;n<l;n++)0!=n&&(g+="|"),g+=q[n]}if(""!=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItem)for(l=KUPLOADTOP.G_CURRKUPLOADER._config.headerBarItem.length,n=0;n<l;n++)document.getElementById("user_header_bar_"+n).getElementsByTagName("span")[0].style.display="none";a=a.toString();a=a.replace(/,/g,"");if((l=KUPLOADTOP.G_CURRKUPLOADER.frameWin)&&0!=l.isExecuteApi()){"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&
(e=e.replace(/\\/,"/"),e=e.split("/"),e=e[e.length-1]);a=isNaN(Number(a))||0>Number(a)||""==a?"":parseInt(a,10);g={file:null,guid:"",fileIdx:b,originName:e,originNameColor:"",originNameFormat:"",webPath:c,fileSize:a,uploadName:"",fileExt:"",isDelete:"n",isWebFile:"y",customValue:f,localPath:"",isFolder:"0",logicalPath:"",headerEx:g};q=null;if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager)if(p="",e=e.replace(/\\/,"/"),-1<e.lastIndexOf("/")&&(p=e.substring(0,e.lastIndexOf("/")+1)),""!=p){for(var t=
RESULTFILELIST.length,u,v=p.split("/")[0],n=0;n<t;n++)if("n"==l.RESULTFILELIST[n].isDelete&&"y"==l.RESULTFILELIST[n].isWebFile&&l.RESULTFILELIST[n].rootFolderName==v){q=l.RESULTFILELIST[n];u=n;break}q?(n=l.FOLDERLISTINFO[q.folderIdx],b={webPath:c,logicalPath:p,originName:e,fileSize:a,uniqueKey:b,customValue:f},n.push(b),q.fileCount=n.length,q.fileSize+=a,a=l.document.getElementById("file_list").getElementsByTagName("ul")[u].getElementsByTagName("li")[2].firstChild,u=KUPLOADTOP.RAONKUPLOAD.util.bytesToSize(q.fileSize),
a.title=u.toString,a.innerHTML=u.toString):(g.isFolder="1",g.logicalPath="",g.originName=v,g.webPath="",g.fileSize=a,g.fileIdx=b,g.customValue=f,g.rootFolderName=v,g.folderIdx=FOLDERLISTINFO.length,l.isEmptyFolder(e)?(g.fileCount=0,l.FOLDERLISTINFO[g.folderIdx]=[]):(g.fileCount=1,b={webPath:c,logicalPath:p,originName:e,fileSize:a,uniqueKey:b,customValue:f},l.FOLDERLISTINFO[g.folderIdx]=[b]))}else g.isFolder="0";else g.isFolder="0";k&&(g.originNameColor=k.FileNameColor,g.originNameFormat=k.FileNameFormat);
null==q&&(l.RESULTFILELIST.push(g),l.addFileList(g,!0));"1"==KUPLOADTOP.G_CURRKUPLOADER._config.use_file_sort&&"1"==KUPLOADTOP.G_CURRKUPLOADER._config.auto_sort&&(0==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"html4"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode&&"1"==KUPLOADTOP.G_CURRKUPLOADER._config.sort_field||sortTotalFileList(KUPLOADTOP.G_CURRKUPLOADER._config.sort_field,KUPLOADTOP.G_CURRKUPLOADER._config.sort_ascdesc));l.calcTotalSize();l.displayTotalSizeAndNum();l.setFileListBorder();
l.setListvalue();l.fileListSortIconReset();KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_AfterAddWebFile&&KUPLOADTOP.KUPLOADWIN.RAONKUPLOAD_AfterAddWebFile(KUPLOADTOP.G_CURRKUPLOADER.ID)}}
function _setUploadedFile(b,e,c,a,f,g,k){if(void 0==e||null==e)e="";k=null;void 0==c||null==c?c="":"object"===typeof c&&(k=c,c=c.FileName,k.FileNameFormat="",1==k.Bold&&(k.FileNameFormat="B"),1==k.Italic&&(k.FileNameFormat+="I"),1==k.Strike&&(k.FileNameFormat+="S"),1==k.UnderLine&&(k.FileNameFormat+="U"),k.FileNameColor||(k.FileNameColor=""));if(void 0==a||null==a)a="";if(void 0==f||null==f)f="";if(void 0==g||null==g)g="";f=f.toString();f=f.replace(/,/g,"");var l=KUPLOADTOP.G_CURRKUPLOADER.frameWin;
if(l&&0!=l.isExecuteApi()){c=c.split(KUPLOADTOP.RAONKUPLOAD.UserAgent.osSeparator);c=c[c.length-1];f=isNaN(Number(f))||0>Number(f)||""==f?"":parseInt(f,10);for(var n=l.RESULTFILELIST.length,q=0,p=0,t=0,u=0;u<n;u++)if("n"==l.RESULTFILELIST[u].isDelete)if(q==b){p=u;break}else q++;else t++;if(q+t!=n){l.RESULTFILELIST[p].fileIdx=e;l.RESULTFILELIST[p].originName=c;l.RESULTFILELIST[p].webPath=a;l.RESULTFILELIST[p].fileSize=f;l.RESULTFILELIST[p].customValue=g;"n"!=l.RESULTFILELIST[p].isWebFile||""==a&&""==
g||(l.RESULTFILELIST[p].isWebFile="y",l.RESULTFILELIST[p].file=null);k&&(fileObj.originNameColor=k.FileNameColor,fileObj.originNameFormat=k.FileNameFormat);try{l.document.getElementById("file_list").innerHTML=""}catch(v){}for(u=0;u<n;u++)"n"==l.RESULTFILELIST[u].isDelete&&l.addFileList(l.RESULTFILELIST[u],!0);l.calcTotalSize();l.displayTotalSizeAndNum();l.setFileListBorder();l.setListvalue();l.setLargeFileAllList();l.fileListSortIconReset()}}}
function _setCustomHeaderByIndex(b,e){var c=null,a=document.getElementById("file_list");if(a.getElementsByTagName("ul")&&"undefined"!=typeof a.getElementsByTagName("ul")[b])for(var a=a.getElementsByTagName("ul")[b].lastChild,f=e.split("|"),g=0,k=f.length,l;g<k;g++)if(l=a.getElementsByTagName("span")[g])l.innerHTML=f[g],l.title=f[g],c=l;return c};function setContextMenu(b){KUPLOADTOP.RAONKUPLOAD.util.cancelEvent(b);RAONKUPLOAD_CONTEXT.show(b)}
var RAONKUPLOAD_CONTEXT={_reverse:!1,_context_id:"",_context_iframe:null,_context_zIndex:0,_context_bg_zIndex:0,_context_document:null,_context_main:null,_context_bg:null,_context_bg_id:"",_width:"180",_height:"200",_currFileLiIdx:null,_selectFileLiIdxArr:[],_create:function(b){b&&""!=b&&(b=KUPLOADTOP.RAONKUPLOAD.util._setRaonKUploader(b))&&(KUPLOADTOP.G_CURRKUPLOADER=b);var e=getDialogDocument();this._context_id="raonkupload_context_menu";this._context_bg_id="raonkupload_context_back";this._context_zIndex=
KUPLOADTOP.G_CURRKUPLOADER._config.zIndex+4E3;this._context_bg_zIndex=KUPLOADTOP.G_CURRKUPLOADER._config.zIndex+3E3;if(b=e.getElementById(this._context_id))_context_document=b.contentWindow.document,this._context_iframe=b,this._context_document=_context_document,this._context_main=_context_document.getElementById("ul_context_main");else{try{b=e.createElement("iframe")}catch(c){b=e.createElement("<iframe>")}e.body.appendChild(b);b.id=this._context_id;b.title="RAONKUpload Context";b.style.margin="0px";
b.style.padding="0px";b.style.zIndex=this._context_zIndex;b.style.position="absolute";b.scrolling="no";b.style.overflow="auto";b.style.overflowX="hidden";b.style.overflowY="hidden";b.style.display="none";b.allowTransparency="true";b.frameBorder="0";e=KUPLOADTOP.RAONKUPLOAD.util.getDefaultIframeSrc();b.src=e;var e='<html lang="ko"><head><title>RAONKUpload Context</title>',a="",a=KUPLOADTOP.RAONKUPLOAD.ReleaseVer;"1"==KUPLOADTOP.G_CURRKUPLOADER._config.cacheProtectMode&&(a=KUPLOADTOP.RAONKUPLOAD.util.getTimeStamp());
a=KUPLOADTOP.RAONKUPLOAD.isRelease?KUPLOADTOP.G_CURRKUPLOADER._config.webPath.css+"raonkupload.context.min.css?ver="+a:KUPLOADTOP.G_CURRKUPLOADER._config.webPath.cssDev+"raonkupload.context.css?ver="+a;e+='<link rel="stylesheet" type="text/css" href="'+a+'" charset="utf-8">';e+="</head>";e+='<body scroll="no" style="margin:0px; padding:0px; background-color:transparent; overflow-x:hidden; overflow-y:hidden;" oncontextmenu="return false">';e+='<div onselectstart="return false;" style="width:100%; height:100%" id="context_iframe_bg">';
e+='<div class="RAON_K_ED_popup">';e+='<div id="div_main_context" class="RAON_K_EDP">';e+='<div class="Dfe_popup RAON_K_'+KUPLOADTOP.G_CURRKUPLOADER._config.skinName+'" id="raonkupload_context_skin">';e+='<dl class="raonk_'+KUPLOADTOP.G_CURRKUPLOADER._config.lang+'" id="ul_context_main"></dl>';e+="</div>";e+="</div>";e+="</div>";e+="</div>";a=KUPLOADTOP.RAONKUPLOAD.util.getDefaultIframeSrc();e+='<iframe src="'+a+'" style="HEIGHT: 100%; WIDTH: 100%; POSITION: absolute; LEFT: 0px; FILTER: alpha(opacity = 0); Z-INDEX: -1; DISPLAY: block; TOP: 0px" frameBorder="0" scrolling="no" tabkey="-1" title="RAONKUpload context"></iframe>';
e+="</body></html>";_context_document=b.contentWindow.document;KUPLOADTOP.RAONKUPLOAD.util.getDocWindow(_context_document);_context_document.open("text/html","replace");_context_document.write(e);_context_document.close();this._context_iframe=b;this._context_document=_context_document;this._context_main=_context_document.getElementById("ul_context_main");var f=this;b=function(){return function(a){f.hide()}}();KUPLOADTOP.RAONKUPLOAD.util.addEvent(this._context_document.getElementById("context_iframe_bg"),
"click",b);KUPLOADTOP.RAONKUPLOAD.util.addEvent(this._context_document.getElementById("context_iframe_bg"),"contextmenu",b)}this._context_main.innerHTML=""},show:function(b){var e=getDialogWindow();null==getDialogDocument().getElementById("raonkupload_context_menu")&&this._create();this._context_document.getElementById("raonkupload_context_skin").className="Dfe_popup RAON_K_"+KUPLOADTOP.G_CURRKUPLOADER._config.skinName;this._context_main.className="raonk_"+KUPLOADTOP.G_CURRKUPLOADER._config.lang;
this._context_main.innerHTML="";this._currFileLiIdx=null;this._selectFileLiIdxArr=[];var c=b.target?b.target:b.srcElement,a=KUPLOADTOP.RAONKUPLOAD.util.getParentbyTagName(c,"ol");if(a&&"1"!=KUPLOADTOP.G_CURRKUPLOADER._config.massFileMode){var f=KUPLOADTOP.RAONKUPLOAD.util.getParentbyTagName(c,"ul");if(f&&(c=f.parentNode)){f.className=""==f.className?"r_click":f.className+" r_click";for(var f=f.getElementsByTagName("input")[0].getAttribute("raonk_select"),g=a.childNodes,k=g.length,a=0;a<k;a++){var l=
g[a].getElementsByTagName("input")[0];(g[a]==c||l.checked)&&f&&"1"==f||g[a]==c&&(!f||"1"!=f)?(this._currFileLiIdx=a,this._selectFileLiIdxArr.push(a),fileListSelection(l),l.checked=!0,g[a]==c?fileListSelectionBorder(l):fileListNoneSelectionBorder(l),select_file_idx=before_shift_idx=a):(fileListNoneSelection(l),l.checked=!1,fileListNoneSelectionBorder(l))}}}else{a=document.getElementById("file_list");c=a.getElementsByTagName("input");f=a.getElementsByTagName("input").length;for(a=0;a<f;a++)c[a].getAttribute("raonk_select")&&
"1"==c[a].getAttribute("raonk_select")&&(fileListNoneSelection(c[a]),c[a].checked=!1);c=document.getElementById("chk_all_box");1==c.checked&&(c.checked=!1)}this._setMenu();if(3<KUPLOADTOP.RAONKUPLOAD.util.parseIntOr0(this._height)){this._context_iframe.style.width=this._width+"px";this._context_iframe.style.height=this._height;c=Math.round(b.clientX);a=Math.round(b.clientY);b={};b=getWindowScrollPos(e);KUPLOADTOP.RAONKUPLOAD.util.getClientRect(window.frameElement);f=KUPLOADTOP.RAONKUPLOAD.util.getClientRect(window.frameElement);
k=g=0;if(null!=KUPLOADTOP.G_CURRKUPLOADER.dialogWindow)for(l=window.parent;l!=e;)var n=KUPLOADTOP.RAONKUPLOAD.util.getClientRect(l.frameElement),g=g+n.left,k=k+n.top,l=l.parent;this._context_iframe.style.left=c+b[0]+f.left+g+"px";this._context_iframe.style.top=a+b[1]+f.top+k+"px";c=parseInt(this._context_iframe.style.left,10)+parseInt(this._width,10);a=parseInt(this._context_iframe.style.top,10)+parseInt(this._height,10);g=getWindowClientSize(e);f=b[0]+g[0]-20;b=b[1]+g[1]-10;c>=f&&(g=c-f,g=parseInt(this._context_iframe.style.left,
10)-g,c-f<parseInt(this._width,10)/2&&(g-=parseInt(this._width,10)/2),this._context_iframe.style.left=g+"px");a>=b&&(b=a-b,b=parseInt(this._context_iframe.style.top,10)-b,this._context_iframe.style.top=b+"px");this._context_iframe.style.display="";if(null!=KUPLOADTOP.G_CURRKUPLOADER.dialogWindow)for(b=window;b=b.parent,KUPLOADTOP.RAONKUPLOAD.util.addEvent(b.document.documentElement,"click",fn_hideContext),KUPLOADTOP.RAONKUPLOAD.util.addEvent(b.document.documentElement,"contextmenu",fn_hideContext),
b!=e;);else KUPLOADTOP.RAONKUPLOAD.util.addEvent(KUPLOADTOP.KUPLOADDOC.documentElement,"click",fn_hideContext),KUPLOADTOP.RAONKUPLOAD.util.addEvent(KUPLOADTOP.KUPLOADDOC.documentElement,"contextmenu",fn_hideContext);e=KUPLOADTOP.KUPLOADWIN.document.getElementById("raonkuploader_frame_"+KUPLOADTOP.G_CURRKUPLOADER.ID);KUPLOADTOP.RAONKUPLOAD.util.addEvent(e.contentWindow.document.documentElement,"click",fn_hideContext);b=document.getElementById("RAON_K_UP_content");e=KUPLOADTOP.RAONKUPLOAD.util.getElementsByClass("RAON_K_UP_uploadbox_tit",
b,"div")[0];b=KUPLOADTOP.RAONKUPLOAD.util.getElementsByClass("RAON_K_UP_info_area",b,"div")[0];c=document.getElementById("RAON_K_UP_uploadbox_btm");KUPLOADTOP.RAONKUPLOAD.util.addEvent(e,"contextmenu",fn_hideContext);KUPLOADTOP.RAONKUPLOAD.util.addEvent(b,"contextmenu",fn_hideContext);KUPLOADTOP.RAONKUPLOAD.util.addEvent(c,"contextmenu",fn_hideContext)}},_setMenu:function(){var b=[],e=[];switch(KUPLOADTOP.G_CURRKUPLOADER._config.mode){case "upload":b=["add_file","remove_current_file","remove_all_file"];
"1"==KUPLOADTOP.G_CURRKUPLOADER._config.massFileMode&&b.splice(1,1);"0"!=KUPLOADTOP.G_CURRKUPLOADER._config.folderTransfer&&b.splice(1,0,"add_folder");("2"==KUPLOADTOP.G_CURRKUPLOADER._config.folderTransfer||"0"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&"html4"==KUPLOADTOP.G_CURRKUPLOADER._config.userRunTimeMode)&&b.splice(0,1);"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useZipInspector&&1==this._selectFileLiIdxArr.length&&null!=this._currFileLiIdx&&"y"==RESULTFILELIST[this._currFileLiIdx].isWebFile&&
"zip"==RESULTFILELIST[this._currFileLiIdx].fileExt&&b.push("zip_inspector");"1"==KUPLOADTOP.G_CURRKUPLOADER._config.fileMoveContextMenu&&(b.push(""),b.push("move_first"),b.push("move_forward"),b.push("move_backward"),b.push("move_end"));null==this._currFileLiIdx&&e.push("remove_current_file");var c=document.getElementById("file_list"),c=c.getElementsByTagName("input"),c=c.length;0==c&&e.push("remove_all_file");break;case "view":b=["open_current_file","download_current_file","download_all_file"];"1"==
KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&(b.push("print"),b.splice(1,0,"download_and_folder_open"),b.splice(1,0,"download_and_open"));if(null==this._currFileLiIdx||"y"!=RESULTFILELIST[this._currFileLiIdx].isWebFile)e.push("open_current_file"),e.push("download_current_file"),"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&(e.push("download_and_open"),e.push("download_and_folder_open"),e.push("print"));else{var a=!1;if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager)a=!0;else{var f=
getExtension(RESULTFILELIST[this._currFileLiIdx].originName),c=KUPLOADTOP.G_CURRKUPLOADER._config.allowOpenExtension;if(""!=c)for(var g=c.split(","),k=g.length,c=0;c<k;c++){if(f.toLowerCase()==g[c].toLowerCase()){a=!0;break}}else a=!0}(!a||2<=this._selectFileLiIdxArr.length)&&e.push("open_current_file")}c=document.getElementById("file_list");c=c.getElementsByTagName("input");c=c.length;0==c&&e.push("download_all_file");"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useZipInspector&&1==this._selectFileLiIdxArr.length&&
null!=this._currFileLiIdx&&"y"==RESULTFILELIST[this._currFileLiIdx].isWebFile&&"zip"==RESULTFILELIST[this._currFileLiIdx].fileExt&&b.push("zip_inspector");"1"==KUPLOADTOP.G_CURRKUPLOADER._config.massFileMode&&(b=["download_all_file"]);break;case "open":b=["open_current_file"];"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&b.push("print");if(null==this._currFileLiIdx||"y"!=RESULTFILELIST[this._currFileLiIdx].isWebFile)e.push("open_current_file"),"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&
e.push("print");else{f=getExtension(RESULTFILELIST[this._currFileLiIdx].originName);a=!1;c=KUPLOADTOP.G_CURRKUPLOADER._config.allowOpenExtension;if(""!=c)for(g=c.split(","),k=g.length,c=0;c<k;c++){if(f.toLowerCase()==g[c].toLowerCase()){a=!0;break}}else a=!0;a||e.push("open_current_file")}"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useZipInspector&&1==this._selectFileLiIdxArr.length&&null!=this._currFileLiIdx&&"y"==RESULTFILELIST[this._currFileLiIdx].isWebFile&&"zip"==RESULTFILELIST[this._currFileLiIdx].fileExt&&
b.push("zip_inspector");break;case "download":b=["download_current_file","download_all_file"];"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useKManager&&(b.push("print"),b.splice(1,0,"download_and_folder_open"),b.splice(1,0,"download_and_open"));null!=this._currFileLiIdx&&"y"==RESULTFILELIST[this._currFileLiIdx].isWebFile||e.push("download_current_file");c=document.getElementById("file_list");c=c.getElementsByTagName("input");c=c.length;0==c&&e.push("download_all_file");"1"==KUPLOADTOP.G_CURRKUPLOADER._config.useZipInspector&&
1==this._selectFileLiIdxArr.length&&null!=this._currFileLiIdx&&"y"==RESULTFILELIST[this._currFileLiIdx].isWebFile&&"zip"==RESULTFILELIST[this._currFileLiIdx].fileExt&&b.push("zip_inspector");break;default:b=["add_file"],e=[]}a=KUPLOADTOP.G_CURRKUPLOADER._config.removeContextItem.split(",");f=a.length;this._height="0px";g=b.length;for(c=0;c<g;c++){0==c&&(k=this._context_document.createElement("dt"),k.innerHTML="context_main_menu",this._context_main.appendChild(k));for(var k=!1,l=0;l<f;l++)if(""!=b[c]&&
b[c]==a[l]){k=!0;break}k||this._addItem(b[c])}this._height=parseInt(this._height,10)+2+"px";this._disableItem(e);if("1"==KUPLOADTOP.G_CURRKUPLOADER._config.useZipDownload&&0>a.toString().indexOf("download_zipfile"))try{this._context_main.style.width="190px";this._context_main.parentNode.parentNode.style.width="190px";this._width="190";for(var n=this._context_main.childNodes.length,c=0;c<n;c++)try{this._context_main.childNodes[c].style.width="190px",this._context_main.childNodes[c].childNodes[1].style.width=
"160px"}catch(q){}}catch(p){}},_addItem:function(b){var e=this._context_document.createElement("dd"),c=this,a=this._getText(b);if(""==a)e.className="b_border",this._height=parseInt(this._height,10)+1+"px";else{this._height=parseInt(this._height,10)+24+"px";var f=this._context_document.createElement("div");this._context_document.createElement("div");var g=this._context_document.createElement("div");"textContent"in f?f.textContent=a:f.innerText=a;g.className="s_left";""!=KUPLOADTOP.G_CURRKUPLOADER._config.customFooterColor&&
(g.style.backgroundColor=KUPLOADTOP.G_CURRKUPLOADER._config.customFooterColor);f.className="s_right";e.appendChild(g);e.appendChild(f);a=function(a,b){return function(b){"item_disabled"!=a.className&&(a.className="on_mouseover",""!=KUPLOADTOP.G_CURRKUPLOADER._config.customFooterColor&&(a.style.backgroundColor=KUPLOADTOP.G_CURRKUPLOADER._config.customFooterColor),KUPLOADTOP.RAONKUPLOAD.util.stopEvent(b))}}(e,g);g=function(a,b){return function(b){"on_mouseover"==a.className&&(a.className="",""!=KUPLOADTOP.G_CURRKUPLOADER._config.customFooterColor&&
(a.style.backgroundColor=""),KUPLOADTOP.RAONKUPLOAD.util.stopEvent(b))}}(e,g);f=function(a){return function(e){if("on_mouseover"==a.className){c.hide();e=c._currFileLiIdx;var f=b;0<c._selectFileLiIdxArr.length&&(e=c._selectFileLiIdxArr,"download_current_file"==f?f="download_seleceted_file":"remove_current_file"==f&&(f="remove_selected_file"));KUPLOADTOP.G_CURRKUPLOADER._raonkCommands(KUPLOADTOP.G_CURRKUPLOADER.ID,f,c,e)}}}(e);KUPLOADTOP.RAONKUPLOAD.util.addEvent(e,"mouseover",a);KUPLOADTOP.RAONKUPLOAD.util.addEvent(e,
"mouseout",g);KUPLOADTOP.RAONKUPLOAD.util.addEvent(e,"click",f)}0<b.length&&(e.id="context_"+b);e.unselectable="on";this._context_main.appendChild(e)},_getText:function(b){var e="";""!=b&&(e=RAONKUpload_Lang.context[b]);return e},_disableItem:function(b){for(var e=b.length,c=0;c<e;c++){var a=this._context_document.getElementById("context_"+b[c]);a&&(a.className="item_disabled")}},hide:function(){this._context_document&&this._context_document.getElementById("div_sub_context")&&(this._context_document.getElementById("div_sub_context").style.display=
"none");this._context_iframe&&(this._context_iframe.style.display="none");this._context_bg&&(this._context_bg.style.display="none");for(var b=document.getElementById("file_list").getElementsByTagName("ul"),e=b.length,c=0;c<e;c++)for(var a=b[c].className.split(" "),f=a.length,g=0;g<f;g++)"r_click"==a[g]&&(b[c].className=0<g?b[c].className.replace(" r_click",""):b[c].className.replace("r_click",""));b=getDialogWindow();if(null!=KUPLOADTOP.G_CURRKUPLOADER.dialogWindow)for(e=window;e=e.parent,KUPLOADTOP.RAONKUPLOAD.util.removeEvent(e.document.documentElement,
"click",fn_hideContext),KUPLOADTOP.RAONKUPLOAD.util.removeEvent(e.document.documentElement,"contextmenu",fn_hideContext),e!=b;);else KUPLOADTOP.RAONKUPLOAD.util.removeEvent(KUPLOADTOP.KUPLOADDOC.documentElement,"click",fn_hideContext),KUPLOADTOP.RAONKUPLOAD.util.removeEvent(KUPLOADTOP.KUPLOADDOC.documentElement,"contextmenu",fn_hideContext);b=KUPLOADTOP.KUPLOADDOC.getElementById("raonkuploader_frame_"+KUPLOADTOP.G_CURRKUPLOADER.ID);KUPLOADTOP.RAONKUPLOAD.util.removeEvent(b.contentWindow.document.documentElement,
"click",fn_hideContext);e=document.getElementById("RAON_K_UP_content");b=KUPLOADTOP.RAONKUPLOAD.util.getElementsByClass("RAON_K_UP_uploadbox_tit",e,"div")[0];e=KUPLOADTOP.RAONKUPLOAD.util.getElementsByClass("RAON_K_UP_info_area",e,"div")[0];c=document.getElementById("RAON_K_UP_uploadbox_btm");KUPLOADTOP.RAONKUPLOAD.util.removeEvent(b,"contextmenu",fn_hideContext);KUPLOADTOP.RAONKUPLOAD.util.removeEvent(e,"contextmenu",fn_hideContext);KUPLOADTOP.RAONKUPLOAD.util.removeEvent(c,"contextmenu",fn_hideContext)},
_makeBackground:function(){var b=this,e=getDialogWindow(),c=getDialogDocument();if(this._context_bg=c.getElementById(b._context_bg_id))this._context_bg.style.display="";if(!this._context_bg){this._context_bg=c.createElement("div");this._context_bg.id=this._context_bg_id;this._context_bg.innerHTML='<div oncontextmenu="return false" style="filter:alpha(opacity=0); opacity:0.0; -moz-opacity:0.0;  -khtml-opacity: 0.0; background-color:#ffffff; z-index:'+this._context_bg_zIndex+'; position:absolute; left:0px; top:0px;overflow:hidden; width:1px; height:1px; "></div>';
c.body.appendChild(this._context_bg);var a=function(){return function(a){b.hide()}}(),f=function(){return function(a){b.hide()}}(),g=function(){return function(a){a="CSS1Compat"==c.compatMode?c.documentElement.scrollHeight:c.body.scrollHeight;b._context_bg.firstChild.style.width=("CSS1Compat"==c.compatMode?c.documentElement.scrollWidth:c.body.scrollWidth)+"px";b._context_bg.firstChild.style.height=a+"px"}}();KUPLOADTOP.RAONKUPLOAD.util.addEvent(this._context_bg,"click",a);KUPLOADTOP.RAONKUPLOAD.util.addEvent(this._context_bg,
"contextmenu",f);KUPLOADTOP.RAONKUPLOAD.util.addEvent(e,"resize",g);e="CSS1Compat"==c.compatMode?c.documentElement.scrollHeight:c.body.scrollHeight;this._context_bg.firstChild.style.width=("CSS1Compat"==c.compatMode?c.documentElement.scrollWidth:c.body.scrollWidth)-10+"px";this._context_bg.firstChild.style.height=e-10+"px"}}},fn_hideContext=function(){void 0!=RAONKUPLOAD_CONTEXT&&RAONKUPLOAD_CONTEXT.hide()};var RaonKBase64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_trans_unitDelimiter:"\x0B",_trans_unitAttributeDelimiter:"\f",encode:function(b){var e="",c,a,f,g,k,l,n=0;for(b=RaonKBase64._utf8_encode(b);n<b.length;)c=b.charCodeAt(n++),a=b.charCodeAt(n++),f=b.charCodeAt(n++),g=c>>2,c=(c&3)<<4|a>>4,k=(a&15)<<2|f>>6,l=f&63,isNaN(a)?k=l=64:isNaN(f)&&(l=64),e=e+this._keyStr.charAt(g)+this._keyStr.charAt(c)+this._keyStr.charAt(k)+this._keyStr.charAt(l);return e},decode:function(b){var e=
"",c,a,f,g,k,l=0;for(b=b.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<b.length;)c=this._keyStr.indexOf(b.charAt(l++)),a=this._keyStr.indexOf(b.charAt(l++)),g=this._keyStr.indexOf(b.charAt(l++)),k=this._keyStr.indexOf(b.charAt(l++)),c=c<<2|a>>4,a=(a&15)<<4|g>>2,f=(g&3)<<6|k,e+=String.fromCharCode(c),64!=g&&(e+=String.fromCharCode(a)),64!=k&&(e+=String.fromCharCode(f));return e=RaonKBase64._utf8_decode(e)},_utf8_encode:function(b){b=b.replace(/\r\n/g,"\n");for(var e="",c=0;c<b.length;c++){var a=b.charCodeAt(c);
128>a?e+=String.fromCharCode(a):(127<a&&2048>a?e+=String.fromCharCode(a>>6|192):(e+=String.fromCharCode(a>>12|224),e+=String.fromCharCode(a>>6&63|128)),e+=String.fromCharCode(a&63|128))}return e},_utf8_decode:function(b){for(var e="",c=0,a=c1=c2=0;c<b.length;)a=b.charCodeAt(c),128>a?(e+=String.fromCharCode(a),c++):191<a&&224>a?(c2=b.charCodeAt(c+1),e+=String.fromCharCode((a&31)<<6|c2&63),c+=2):(c2=b.charCodeAt(c+1),c3=b.charCodeAt(c+2),e+=String.fromCharCode((a&15)<<12|(c2&63)<<6|c3&63),c+=3);return e},
makeEncryptParam:function(b){b=RaonKBase64.encode(b);b=RaonKBase64.insertAt(b,8,"r");b=RaonKBase64.insertAt(b,6,"a");b=RaonKBase64.insertAt(b,9,"o");b=RaonKBase64.insertAt(b,7,"n");b=RaonKBase64.insertAt(b,8,"w");b=RaonKBase64.insertAt(b,6,"i");b=RaonKBase64.insertAt(b,9,"z");return b=b.replace(/[+]/g,"%2B")},makeEncryptParam2:function(b,e){var c=e,a=b.keyValue,a=a.substring(0,15),a=CryptoJS.enc.Utf8.parse(a);a.sigBytes=16;c=CryptoJS.enc.Utf8.parse(c);c=CryptoJS.AES.encrypt(c,a,{iv:a});a=CryptoJS.enc.Base64._map;
CryptoJS.enc.Base64._map="hituvabcdejklmnopqrxyzsfgwBCDEANOPQRSFGHIJKLYZMTUVWX5890167234+/=";c=CryptoJS.enc.Base64.stringify(c.ciphertext);CryptoJS.enc.Base64._map=a;return c=c.replace(/[+]/g,"%2B")},makeDecryptReponseMessage:function(b,e){var c,a=function(a,b){var c=a.split("");c.splice(b,1);return c=c.join("")};c=b.replace(/ /g,"");c=c.replace(/\r/g,"");c=c.replace(/\n/g,"");c=c.replace(/%2B/g,"+");if(0==c.indexOf("_"))try{c=c.substring(1);var f=e.keyValue,f=f.substring(0,14),f=CryptoJS.enc.Utf8.parse(f);
f.sigBytes=16;var g=CryptoJS.enc.Base64._map;CryptoJS.enc.Base64._map="hituvabcdejklmnopqrxyzsfgwBCDEANOPQRSFGHIJKLYZMTUVWX5890167234+/=";c=CryptoJS.enc.Base64.parse(c);CryptoJS.enc.Base64._map=g;c=CryptoJS.AES.decrypt({ciphertext:c},f,{iv:f}).toString(CryptoJS.enc.Utf8)}catch(k){c="C012|response data decrypt error"}else c=a(c,9),c=a(c,6),c=a(c,8),c=a(c,7),c=a(c,9),c=a(c,6),c=a(c,8),c=RaonKBase64.decode(c);return c},insertAt:function(b,e,c){return String.prototype.insertAt?b.insertAt(e,c):b.substr(0,
e)+c+b.substr(e)},parseDataFromServer:function(b){var e=b.toLowerCase().indexOf("<raonk>");-1<e&&(b=b.substring(e+7));e=b.toLowerCase().indexOf("</raonk>");-1<e&&(b=b.substring(0,e));return b},makeEncryptParamFinal:function(b,e){var c={name:"",value:""};if("1">=b.encryptParam)c.name="k00",c.value=RaonKBase64.makeEncryptParam(e);else if("2"==b.encryptParam)try{c.name="k01",c.value=RaonKBase64.makeEncryptParam2(b,e)}catch(a){c.name="k00",c.value=RaonKBase64.makeEncryptParam(e)}return c}};/*
 Copyright (c) 2015, Raonwiz Technology Inc. All rights reserved.
*/
var D5FED={Dd0:String.fromCharCode(100,111,99),Ddx:String.fromCharCode(100,111,99,120),Dx0:String.fromCharCode(120,108,115),Dxx:String.fromCharCode(120,108,115,120),Dp0:String.fromCharCode(112,112,116),Dpx:String.fromCharCode(112,112,116,120),Dh0:String.fromCharCode(104,119,112),Dhx:String.fromCharCode(104,119,112,120),Ib0:String.fromCharCode(98,109,112),Ij0:String.fromCharCode(106,112,103),Ij01:String.fromCharCode(106,112,101,103),Ip0:String.fromCharCode(112,110,103),It0:String.fromCharCode(116,
105,102),It01:String.fromCharCode(116,105,102,102),Ig0:String.fromCharCode(103,105,102),Id0:String.fromCharCode(100,119,103),Iw0:String.fromCharCode(119,109,102),Ie0:String.fromCharCode(101,109,102),Ip1:String.fromCharCode(112,115,100),Ta0:String.fromCharCode(97,115,112),Ta0x:String.fromCharCode(97,115,112,120),Tj0:String.fromCharCode(106,115,112),Tt0:String.fromCharCode(116,120,116),Th0:String.fromCharCode(104,116,109),Th01:String.fromCharCode(104,116,109,108),Tj1:String.fromCharCode(106,97,118,
97),Tc0:String.fromCharCode(99,115),Tp0:String.fromCharCode(112,104,112),Tx0:String.fromCharCode(120,109,108),Zj0:String.fromCharCode(106,97,114),Zr0:String.fromCharCode(114,97,114),Zt0:String.fromCharCode(116,97,114),Zt1:String.fromCharCode(116,103,122),Zg0:String.fromCharCode(103,122),Z70:String.fromCharCode(55,122),Zb0:String.fromCharCode(98,122,50),Zz0:String.fromCharCode(122,105,112),Ze0:String.fromCharCode(101,103,103),Mm0:String.fromCharCode(109,112,52),Ms0:String.fromCharCode(115,119,102),
Mf0:String.fromCharCode(102,108,118),Ma0:String.fromCharCode(97,118,105),Mw0:String.fromCharCode(119,109,118),Mw1:String.fromCharCode(119,109,97),Ma1:String.fromCharCode(97,115,102),Mm1:String.fromCharCode(109,112,51),Mm2:String.fromCharCode(109,111,118),Mm3:String.fromCharCode(109,105,100),Mm4:String.fromCharCode(109,112,103),Mm41:String.fromCharCode(109,112,101,103),Mr0:String.fromCharCode(114,97),Mr1:String.fromCharCode(114,97,109),Mi0:String.fromCharCode(105,115,111),M30:String.fromCharCode(51,
103,103),M31:String.fromCharCode(51,103,112),M32:String.fromCharCode(51,103,50),Mm5:String.fromCharCode(109,52,118),Mr2:String.fromCharCode(114,109,105),Mc0:String.fromCharCode(99,100,97),Mw3:String.fromCharCode(119,97,118),Mq0:String.fromCharCode(113,99,112),Mo0:String.fromCharCode(111,103,103),Mo1:String.fromCharCode(111,103,97),Mo2:String.fromCharCode(111,103,118),Mo3:String.fromCharCode(111,103,120),Mm31:String.fromCharCode(109,105,100,105),Mi1:String.fromCharCode(105,115,122),Mf1:String.fromCharCode(102,
108,97,99),Ma2:String.fromCharCode(97,105,102,102),Mm6:String.fromCharCode(109,107,118),Mm7:String.fromCharCode(109,107,97),Mm8:String.fromCharCode(109,100,115),Mm9:String.fromCharCode(109,112,99),Mv0:String.fromCharCode(118,111,98),Ma3:String.fromCharCode(97,99,99),Ma4:String.fromCharCode(97,112,101),Mm10:String.fromCharCode(109,109,102),Md0:String.fromCharCode(100,109,103),Mi2:String.fromCharCode(105,109,103),Ep001:String.fromCharCode(112,100,102),Em002:String.fromCharCode(109,100,98),Er003:String.fromCharCode(114,
116,102),Em004:String.fromCharCode(109,115,103),Ep005:String.fromCharCode(112,115,116),Ec006:String.fromCharCode(99,97,98),Ec007:String.fromCharCode(99,104,109),Ec008:String.fromCharCode(99,104,109,105),Ee009:String.fromCharCode(101,109,108),Eh010:String.fromCharCode(104,108,112),El011:String.fromCharCode(108,110,107),Et012:String.fromCharCode(116,116,102),Em013:String.fromCharCode(109,100,102),Ei014:String.fromCharCode(105,99,111),Ec015:String.fromCharCode(99,117,114),Ex016:String.fromCharCode(120,
109,112),Ec017:String.fromCharCode(99,111,109),Ee018:String.fromCharCode(101,120,101),Ed019:String.fromCharCode(100,108,108),Eo020:String.fromCharCode(111,99,120),El021:String.fromCharCode(108,105,98),Em022:String.fromCharCode(109,115,105),Eo023:String.fromCharCode(111,98,106),Ep024:String.fromCharCode(112,115),Ee025:String.fromCharCode(101,112,115)},d5cdh="d0 cf 11 e0 a1 b1 1a e1".split(" "),d5zdh=["50","4b","03","04","14"];
function is_match(b,e){var c=!0;if(void 0==b||0==b.length)return!1;for(var a=e.length,f=0;f<a;f++)if(b[f]!=e[f]){c=!1;break}return c}function is_cdf(b){var e=!1;b=arrBuf2Str(b,0,d5cdh.length);return e=is_match(b,d5cdh)}function Is_ZipFileType(b){var e=!1;b=arrBuf2Str(b,0,d5zdh.length);return e=is_match(b,d5zdh)}function appendBuffer(b,e){var c=new Uint8Array(b.byteLength+e.byteLength);c.set(new Uint8Array(b),0);c.set(new Uint8Array(e),b.byteLength);return c}
function D5FileDetector(b,e,c){var a=null;FileReadBySlice(b,e,function(f,g,k){0==k?c(b,e,0):(null!=f&&(null==a?a=new Uint8Array(f):(f=new Uint8Array(f),a=appendBuffer(a,f))),-1==k&&(f=FileExtensionDetector(a,e),c(b,e,f)))})}
function FileReadBySlice(b,e,c){var a=b.size,f=0,g=a;D5FED.Mi0==e?g=36885:D5FED.Ddx!=e&&D5FED.Dxx!=e&&D5FED.Dp0!=e&&D5FED.Dpx!=e&&D5FED.Dh0!=e&&D5FED.Dhx!=e&&(g=4096);var k=function(a,b,c){var e=new FileReader;a=c.slice(a,b+a);e.onload=l;e.readAsArrayBuffer(a)},l=function(e){null==e.target.error?(f+=e.target.result.byteLength,f>=g?c(e.target.result,f,-1):f>=a?c(e.target.result,f,-1):(c(e.target.result,f,a),setTimeout(k.bind(null,f,3145728,b),10))):c(null,f,0)};k(f,3145728,b)}
function FileExtensionDetector(b,e){var c=-1;e.toLowerCase();if(e==D5FED.It01||e==D5FED.Ec008||e==D5FED.Th01||e==D5FED.Mm31)e=e.substr(0,3);else if(e==D5FED.Ij01||e==D5FED.Mm41)e=e.replace("e","");return c=D5FED.Dd0==e?Is_D_o_c(b):D5FED.Ddx==e?Is_D_o_cx(b):D5FED.Dx0==e?Is_X_l_s(b):D5FED.Dxx==e?Is_X_l_sx(b):D5FED.Dp0==e?Is_P_p_t(b):D5FED.Dpx==e?Is_P_p_tx(b):D5FED.Dh0==e?Is_H_w_p(b):D5FED.Dhx==e?Is_H_w_px(b):D5FED.Ib0==e||D5FED.Ij0==e||D5FED.Ip0==e||D5FED.It0==e||D5FED.Ig0==e||D5FED.Id0==e||D5FED.Iw0==
e||D5FED.Ie0==e||D5FED.Ip1==e?Is_ImageFormat(b,e):D5FED.Ta0==e||D5FED.Ta0x==e||D5FED.Tj0==e||D5FED.Tt0==e||D5FED.Th0==e||D5FED.Tj1==e||D5FED.Tc0==e||D5FED.Tp0==e||D5FED.Tx0==e?Is_TextFormat(b,e):D5FED.Zj0==e||D5FED.Zr0==e||D5FED.Zt1==e||D5FED.Zg0==e||D5FED.Z70==e||D5FED.Zb0==e||D5FED.Zz0==e||D5FED.Ze0==e?Is_ZipFormat(b,e):D5FED.Zt0==e?Is_ZipFormatTar(b,e):D5FED.Mm0==e||D5FED.Ms0==e||D5FED.Mf0==e||D5FED.Ma0==e||D5FED.Mw0==e||D5FED.Mw1==e||D5FED.Ma1==e||D5FED.Mm1==e||D5FED.Mm2==e||D5FED.Mm3==e||D5FED.Mm4==
e||D5FED.Mr0==e||D5FED.Mr1==e||D5FED.Mi0==e||D5FED.M30==e||D5FED.M31==e||D5FED.M32==e||D5FED.Mm5==e||D5FED.Mr2==e||D5FED.Mc0==e||D5FED.Mw3==e||D5FED.Mq0==e||D5FED.Mo0==e||D5FED.Mo1==e||D5FED.Mo2==e||D5FED.Mo3==e||D5FED.Mm31==e||D5FED.Mi1==e||D5FED.Mf1==e||D5FED.Ma2==e||D5FED.Mm6==e||D5FED.Mm7==e||D5FED.Mm8==e||D5FED.Mm9==e||D5FED.Mv0==e||D5FED.Ma3==e||D5FED.Ma4==e||D5FED.Mm10==e||D5FED.Md0==e||D5FED.Mi2==e?Is_MovieAndMediaFormat(b,e):Is_EtcFormat(b,e)}
function arrBuf2Str(b,e,c){var a,f=[];if(b.length<c-e){try{for(e=0;e<c;e++)f.push("00")}catch(g){f=null}return f}for(c=e+c;e<c;e++)try{a=b[e].toString(16),2>a.length&&(a="0"+a),f.push(a)}catch(k){f=null}return f}function arrOne2Str(b){var e="00",e=b.toString(16);2>e.length&&(e="0"+e);return e}
function Is_D_o_c(b){var e=0;if(1024>b.length)return 0;var c=["ec","a5","c1","00"],a=["db","a5","2d","00"],f=["7f","fe","34","0a"],g="12 34 56 78 90 ff".split(" "),k="31 be 00 00 00 ab 00 00".split(" "),l=["0d","44","4f","43"],n="cf 11 e0 a1 b1 1a e1 00".split(" ");is_cdf(b)&&(e=is_match(arrBuf2Str(b,512,8),c),0==e&&(e=is_match(arrBuf2Str(b,512,8),a)),0==e&&(e=is_match(arrBuf2Str(b,512,8),f)),0==e&&(e=is_match(arrBuf2Str(b,512,8),g)),0==e&&(e=is_match(arrBuf2Str(b,512,8),k)),0==e&&(e=is_match(arrBuf2Str(b,
512,8),l)),0==e&&(e=is_match(arrBuf2Str(b,512,8),n)));return e}function Is_D_o_cx(b){var e=0;if(1024>b.length)return 0;var c=["77","6f","72","64","2f"];if(Is_ZipFileType(b))for(var a=b.length-c.length,f=0;f<a&&(arrOne2Str(b[f])!=c[0]||arrOne2Str(b[f+1])!=c[1]||!(e=is_match(arrBuf2Str(b,f,c.length),c)));f++);else e=is_cdf(b);return e}
function Is_X_l_s(b){var e=0;if(1024>b.length)return 0;var c="09 08 10 00 00 06 05 00".split(" "),a=["fd","ff","ff","ff","10"],f=["fd","ff","ff","ff","1f"],g=["fd","ff","ff","ff","22"],k=["fd","ff","ff","ff","23"],l=["fd","ff","ff","ff","28"],n=["fd","ff","ff","ff","29"],q="fd ff ff ff 20 00 00 00".split(" ");is_cdf(b)&&(e=is_match(arrBuf2Str(b,512,8),c),0==e&&(e=is_match(arrBuf2Str(b,512,8),a)),0==e&&(e=is_match(arrBuf2Str(b,512,8),f)),0==e&&(e=is_match(arrBuf2Str(b,512,8),g)),0==e&&(e=is_match(arrBuf2Str(b,
512,8),k)),0==e&&(e=is_match(arrBuf2Str(b,512,8),l)),0==e&&(e=is_match(arrBuf2Str(b,512,8),n)),0==e&&(e=is_match(arrBuf2Str(b,512,8),q)),0==e&&(e="57 00 6f 00 72 00 6b 00 62 00 6f 00 6f 00 6b 00".split(" "),e=is_match(arrBuf2Str(b,1152,e.length),e)));return e}
function Is_X_l_sx(b){var e=0;if(1024>b.length)return 0;var c=["78","6c","2f"];if(Is_ZipFileType(b))for(var a=b.length-c.length,f=0;f<a&&(arrOne2Str(b[f])!=c[0]||arrOne2Str(b[f+1])!=c[1]||!(e=is_match(arrBuf2Str(b,f,c.length),c)));f++);else e=is_cdf(b);return e}
function Is_P_p_t(b){var e=0;if(1024>b.length)return 0;var c=["00","6e","1e","f0"],a=["0f","00","e8","03"],f=["a0","46","1d","f0"],g="fd ff ff ff 0e 00 00 00".split(" "),k="fd ff ff ff 1c 00 00 00".split(" "),l="fd ff ff ff 26 00 00 00".split(" "),n="fd ff ff ff 43 00 00 00".split(" ");if(is_cdf(b)&&(e=is_match(arrBuf2Str(b,512,8),c),0==e&&(e=is_match(arrBuf2Str(b,512,8),a)),0==e&&(e=is_match(arrBuf2Str(b,512,8),f)),0==e&&(e=is_match(arrBuf2Str(b,512,8),g)),0==e&&(e=is_match(arrBuf2Str(b,512,8),k)),
0==e&&(e=is_match(arrBuf2Str(b,512,8),l)),0==e&&(e=is_match(arrBuf2Str(b,512,8),n)),0==e))for(c="50 6f 77 65 72 50 6f 69 6e".split(" "),a=b.length-c.length,f=0;f<a&&(arrOne2Str(b[f])!=c[0]||arrOne2Str(b[f+1])!=c[1]||!(e=is_match(arrBuf2Str(b,f,c.length),c)));f++);return e}
function Is_P_p_tx(b){var e=0;if(1024>b.length)return 0;var c=["70","70","74","2f"];if(Is_ZipFileType(b))for(var a=b.length-c.length,f=0;f<a&&(arrOne2Str(b[f])!=c[0]||arrOne2Str(b[f+1])!=c[1]||!(e=is_match(arrBuf2Str(b,f,c.length),c)));f++);else e=is_cdf(b);return e}
function Is_H_w_p(b){var e=0;if(1024>b.length)return 0;var c="48 57 50 20 44 6f 63 75 6d 65 6e 74 20 46 69 6c 65".split(" ");if(is_cdf(b))for(var a=b.length-c.length,f=0;f<a&&(arrOne2Str(b[f])!=c[0]||arrOne2Str(b[f+1])!=c[1]||!(e=is_match(arrBuf2Str(b,f,c.length),c)));f++);return e?e:e=is_match(arrBuf2Str(b,0,17),c)}
function Is_H_w_px(b){var e=0;if(1024>b.length)return 0;var c=["2f","68","77","70"];if(Is_ZipFileType(b))for(var a=b.length-c.length,f=0;f<a&&(arrOne2Str(b[f])!=c[0]||arrOne2Str(b[f+1])!=c[1]||!(e=is_match(arrBuf2Str(b,f,c.length),c)));f++);else e=is_cdf(b);return e}
function Is_ImageFormat(b,e){var c=-1;if(5>b.length)return 0;var a=["42","4d"],f=["ff","d8"],g=["89","50","4e","47"],k=["49","20","49"],l=["49","49","2a"],n=["4d","4d"],q=["47","49","46","38"],p=["41","43","31","30"],t=["d7","cd","c6","9a"],u=["01","00","00","00"],v=["38","42","50","53"];D5FED.Ib0==e?c=is_match(arrBuf2Str(b,0,a.length),a):D5FED.Ij0==e?c=is_match(arrBuf2Str(b,0,f.length),f):D5FED.Ip0==e?c=is_match(arrBuf2Str(b,0,g.length),g):D5FED.It0==e?(c=is_match(arrBuf2Str(b,0,k.length),k),0==
c&&(c=is_match(arrBuf2Str(b,0,l.length),l)),0==c&&(c=is_match(arrBuf2Str(b,0,n.length),n))):D5FED.Ig0==e?c=is_match(arrBuf2Str(b,0,q.length),q):D5FED.Id0==e?c=is_match(arrBuf2Str(b,0,p.length),p):D5FED.Iw0==e?c=is_match(arrBuf2Str(b,0,t.length),t):D5FED.Ie0==e?c=is_match(arrBuf2Str(b,0,u.length),u):D5FED.Ip1==e&&(c=is_match(arrBuf2Str(b,0,v.length),v));return c}
function Is_MovieAndMediaFormat(b,e){var c=-1;if(20>b.length)return 0;if(D5FED.Mm0==e||D5FED.M30==e||D5FED.M31==e||D5FED.M32==e||D5FED.Mm5==e)var a=["66","74","79","70"],c=is_match(arrBuf2Str(b,4,a.length),a);else if(D5FED.Ms0==e){var a=["43","57","53"],f=["46","57","53"],c=is_match(arrBuf2Str(b,0,a.length),a);0==c&&(c=is_match(arrBuf2Str(b,0,f.length),f))}else if(D5FED.Mf0==e)a=["46","4c","56"],c=is_match(arrBuf2Str(b,0,a.length),a);else if(D5FED.Ma0==e||D5FED.Mr2==e||D5FED.Mc0==e||D5FED.Mw3==e||
D5FED.Mq0==e)a=["52","49","46","46"],f=["41","56","49","20"],c=is_match(arrBuf2Str(b,0,a.length),a),0==c&&(c=is_match(arrBuf2Str(b,0,f.length),f));else if(D5FED.Mw0==e||D5FED.Mw1==e||D5FED.Ma1==e)a="30 26 b2 75 8e 66 cf 11".split(" "),c=is_match(arrBuf2Str(b,0,a.length),a);else if(D5FED.Mm1==e){var a=["49","44","33"],f=["ff","fa"],g=["ff","fb"],c=is_match(arrBuf2Str(b,0,a.length),a);0==c&&(c=is_match(arrBuf2Str(b,0,f.length),f));0==c&&(c=is_match(arrBuf2Str(b,0,g.length),g))}else if(D5FED.Mm2==e){var a=
["6d","6f","6f","76"],f=["66","72","65","65"],g=["6d","64","61","74"],k=["77","69","64","65"],l=["70","6e","6f","74"],n=["73","6b","69","70"],q=["66","74","79","70"],c=is_match(arrBuf2Str(b,4,a.length),a);0==c&&(c=is_match(arrBuf2Str(b,4,f.length),f));0==c&&(c=is_match(arrBuf2Str(b,4,g.length),g));0==c&&(c=is_match(arrBuf2Str(b,4,k.length),k));0==c&&(c=is_match(arrBuf2Str(b,4,l.length),l));0==c&&(c=is_match(arrBuf2Str(b,4,n.length),n));0==c&&(c=is_match(arrBuf2Str(b,4,q.length),q))}else D5FED.Mm3==
e?(a=["4d","54","68","64"],c=is_match(arrBuf2Str(b,0,a.length),a)):D5FED.Mm4==e?(a=["00","00","01","ba"],f=["00","00","01","b3"],c=is_match(arrBuf2Str(b,0,a.length),a),0==c&&(c=is_match(arrBuf2Str(b,0,f.length),f))):D5FED.Mr0==e?(a=["2e","72","61","fd","00"],f="2e 52 4d 46 00 00 00 12".split(" "),c=is_match(arrBuf2Str(b,0,a.length),a),0==c&&(c=is_match(arrBuf2Str(b,0,f.length),f))):D5FED.Mr1==e?(a="72 74 73 70 3a 2f 2f".split(" "),c=is_match(arrBuf2Str(b,0,a.length),a)):D5FED.Mi0==e?(a=["43","44",
"30","30","31"],f="00 ff ff ff ff ff ff ff ff ff ff 00 00 02 00".split(" "),c=is_match(arrBuf2Str(b,0,a.length),a),0==c&&(c=is_match(arrBuf2Str(b,0,f.length),f)),0==c&&b.length>32769+a.length&&(c=is_match(arrBuf2Str(b,32769,a.length),a)),0==c&&b.length>34817+a.length&&(c=is_match(arrBuf2Str(b,34817,a.length),a)),0==c&&b.length>36865+a.length&&(c=is_match(arrBuf2Str(b,36865,a.length),a))):D5FED.Mi1==e?(a=["49","73","5a","21"],c=is_match(arrBuf2Str(b,0,a.length),a)):D5FED.Mo0==e||D5FED.Mo1==e||D5FED.Mo2==
e||D5FED.Mo3==e?(a=["4f","67","67","53"],c=is_match(arrBuf2Str(b,0,a.length),a)):D5FED.Mf1==e?(a=["66","4c","61","43"],c=is_match(arrBuf2Str(b,0,a.length),a)):D5FED.Ma2==e?(a=["46","4f","52","4d","00"],c=is_match(arrBuf2Str(b,0,a.length),a)):D5FED.Mm6==e||D5FED.Mm7==e?(a=["1a","45","df","a3"],c=is_match(arrBuf2Str(b,0,a.length),a)):D5FED.Mm8==e?(a="4d 45 44 49 41 20 44 45 53 43 52 49 50 54 4f 52".split(" "),c=is_match(arrBuf2Str(b,0,a.length),a)):D5FED.Mm9==e?(a=["4d","50","2b"],c=is_match(arrBuf2Str(b,
0,a.length),a)):D5FED.Mv0==e?(a=["00","00","01","ba"],c=is_match(arrBuf2Str(b,0,a.length),a)):D5FED.Ma3==e?(a="41 41 43 00 01 00".split(" "),c=is_match(arrBuf2Str(b,0,a.length),a)):D5FED.Ma4==e?(a=["4d","41","43","20"],c=is_match(arrBuf2Str(b,0,a.length),a)):D5FED.Mm10==e?(a=["4d","4d","4d","44"],c=is_match(arrBuf2Str(b,0,a.length),a)):D5FED.Md0==e?(a=["78"],c=is_match(arrBuf2Str(b,0,a.length),a)):D5FED.Mi2==e&&(a=["51","46","49","fb"],f="50 49 43 54 00 08".split(" "),c=is_match(arrBuf2Str(b,0,a.length),
a),0==c&&(c=is_match(arrBuf2Str(b,0,f.length),f)));return c}
function Is_TextFormat(b,e){var c=0,c=Is_ImageFormat(b,D5FED.Ib0);if(1==c)return 0;c=Is_ImageFormat(b,D5FED.Ij0);if(1==c)return 0;c=Is_ImageFormat(b,D5FED.Ip0);if(1==c)return 0;c=Is_ImageFormat(b,D5FED.It0);if(1==c)return 0;c=Is_ImageFormat(b,D5FED.Ig0);if(1==c)return 0;c=Is_ImageFormat(b,D5FED.Id0);if(1==c)return 0;c=Is_ImageFormat(b,D5FED.Iw0);if(1==c)return 0;c=Is_ImageFormat(b,D5FED.Ie0);if(1==c)return 0;c=Is_ImageFormat(b,D5FED.Ip1);if(1==c)return 0;c=Is_ZipFormat(b,D5FED.Zj0);if(1==c)return 0;
c=Is_ZipFormat(b,D5FED.Zr0);if(1==c)return 0;c=Is_ZipFormatTar(b,D5FED.Zt0);if(1==c)return 0;c=Is_ZipFormat(b,D5FED.Zt1);if(1==c)return 0;c=Is_ZipFormat(b,D5FED.Zg0);if(1==c)return 0;c=Is_ZipFormat(b,D5FED.Z70);if(1==c)return 0;c=Is_ZipFormat(b,D5FED.Zb0);if(1==c)return 0;c=Is_ZipFormat(b,D5FED.Zz0);if(1==c)return 0;c=Is_ZipFormat(b,D5FED.Ze0);if(1==c)return 0;c=Is_MovieAndMediaFormat(b,D5FED.Mm0);if(1==c)return 0;c=Is_MovieAndMediaFormat(b,D5FED.Ms0);if(1==c)return 0;c=Is_MovieAndMediaFormat(b,D5FED.Mf0);
if(1==c)return 0;c=Is_MovieAndMediaFormat(b,D5FED.Ma0);if(1==c)return 0;c=Is_MovieAndMediaFormat(b,D5FED.Mw0);if(1==c)return 0;c=Is_MovieAndMediaFormat(b,D5FED.Mw1);if(1==c)return 0;c=Is_MovieAndMediaFormat(b,D5FED.Ma1);if(1==c)return 0;c=Is_MovieAndMediaFormat(b,D5FED.Mm1);if(1==c)return 0;c=Is_MovieAndMediaFormat(b,D5FED.Mm2);if(1==c)return 0;c=Is_MovieAndMediaFormat(b,D5FED.Mm3);if(1==c)return 0;c=Is_MovieAndMediaFormat(b,D5FED.Mm4);if(1==c)return 0;c=Is_MovieAndMediaFormat(b,D5FED.Mr0);if(1==
c)return 0;c=Is_MovieAndMediaFormat(b,D5FED.Mr1);if(1==c)return 0;c=Is_MovieAndMediaFormat(b,D5FED.Mi0);if(1==c)return 0;c=Is_MovieAndMediaFormat(b,D5FED.M30);if(1==c)return 0;c=Is_MovieAndMediaFormat(b,D5FED.M31);if(1==c)return 0;c=Is_MovieAndMediaFormat(b,D5FED.M32);if(1==c)return 0;c=Is_MovieAndMediaFormat(b,D5FED.Mm5);if(1==c)return 0;c=Is_MovieAndMediaFormat(b,D5FED.Mr2);if(1==c)return 0;c=Is_MovieAndMediaFormat(b,D5FED.Mc0);if(1==c)return 0;c=Is_MovieAndMediaFormat(b,D5FED.Mw3);if(1==c)return 0;
c=Is_MovieAndMediaFormat(b,D5FED.Mq0);if(1==c)return 0;c=Is_MovieAndMediaFormat(b,D5FED.Mo0);if(1==c)return 0;c=Is_MovieAndMediaFormat(b,D5FED.Mo1);if(1==c)return 0;c=Is_MovieAndMediaFormat(b,D5FED.Mo2);if(1==c)return 0;c=Is_MovieAndMediaFormat(b,D5FED.Mo3);if(1==c)return 0;c=Is_MovieAndMediaFormat(b,D5FED.Mm31);if(1==c)return 0;c=Is_MovieAndMediaFormat(b,D5FED.Mi1);if(1==c)return 0;c=Is_MovieAndMediaFormat(b,D5FED.Mf1);if(1==c)return 0;c=Is_MovieAndMediaFormat(b,D5FED.Ma2);if(1==c)return 0;c=Is_MovieAndMediaFormat(b,
D5FED.Mm6);if(1==c)return 0;c=Is_MovieAndMediaFormat(b,D5FED.Mm7);if(1==c)return 0;c=Is_MovieAndMediaFormat(b,D5FED.Mm8);if(1==c)return 0;c=Is_MovieAndMediaFormat(b,D5FED.Mm9);if(1==c)return 0;c=Is_MovieAndMediaFormat(b,D5FED.Mv0);if(1==c)return 0;c=Is_MovieAndMediaFormat(b,D5FED.Ma3);if(1==c)return 0;c=Is_MovieAndMediaFormat(b,D5FED.Ma4);if(1==c)return 0;c=Is_MovieAndMediaFormat(b,D5FED.Mm10);if(1==c)return 0;c=Is_MovieAndMediaFormat(b,D5FED.Md0);if(1==c)return 0;c=Is_MovieAndMediaFormat(b,D5FED.Mi2);
if(1==c)return 0;c=Is_EtcFormat(b,D5FED.Ep001);if(1==c)return 0;c=Is_EtcFormat(b,D5FED.Em002);if(1==c)return 0;c=Is_EtcFormat(b,D5FED.Er003);if(1==c)return 0;c=Is_EtcFormat(b,D5FED.Em004);if(1==c)return 0;c=Is_EtcFormat(b,D5FED.Ep005);if(1==c)return 0;c=Is_EtcFormat(b,D5FED.Ec006);if(1==c)return 0;c=Is_EtcFormat(b,D5FED.Ec007);if(1==c)return 0;c=Is_EtcFormat(b,D5FED.Ec008);if(1==c)return 0;c=Is_EtcFormat(b,D5FED.Ee009);if(1==c)return 0;c=Is_EtcFormat(b,D5FED.Eh010);if(1==c)return 0;c=Is_EtcFormat(b,
D5FED.El011);if(1==c)return 0;c=Is_EtcFormat(b,D5FED.Et012);if(1==c)return 0;c=Is_EtcFormat(b,D5FED.Em013);if(1==c)return 0;c=Is_EtcFormat(b,D5FED.Ei014);if(1==c)return 0;c=Is_EtcFormat(b,D5FED.Ec015);if(1==c)return 0;c=Is_EtcFormat(b,D5FED.Ex016);if(1==c)return 0;c=Is_EtcFormat(b,D5FED.Ec017);if(1==c)return 0;c=Is_EtcFormat(b,D5FED.Ee018);if(1==c)return 0;c=Is_EtcFormat(b,D5FED.Ed019);if(1==c)return 0;c=Is_EtcFormat(b,D5FED.Eo020);if(1==c)return 0;c=Is_EtcFormat(b,D5FED.El021);if(1==c)return 0;c=
Is_EtcFormat(b,D5FED.Em022);if(1==c)return 0;c=Is_EtcFormat(b,D5FED.Eo023);if(1==c)return 0;c=Is_EtcFormat(b,D5FED.Ep024);if(1==c)return 0;c=Is_EtcFormat(b,D5FED.Ee025);return 1==c||1024<b.length&&(is_cdf(b)||Is_ZipFileType(b))?0:-1}
function Is_ZipFormat(b,e){var c=-1;if(12>b.length)return 0;if(D5FED.Zj0==e){var c=["50","4b","03","04"],a=["5f","27","a8","89"],f="4a 41 52 43 53 00".split(" "),g="50 4b 03 04 14 00 08 00".split(" "),c=is_match(arrBuf2Str(b,0,c.length),c);0==c&&(c=is_match(arrBuf2Str(b,0,a.length),a));0==c&&(c=is_match(arrBuf2Str(b,0,f.length),f));0==c&&(c=is_match(arrBuf2Str(b,0,g.length),g))}else D5FED.Zr0==e?(c="52 61 72 21 1a 07 00".split(" "),c=is_match(arrBuf2Str(b,0,c.length),c)):D5FED.Zt0==e||D5FED.Zt1==
e?(c=["1f","8b"],c=is_match(arrBuf2Str(b,0,c.length),c)):D5FED.Zg0==e?(c=["1f","8b","08"],c=is_match(arrBuf2Str(b,0,c.length),c)):D5FED.Z70==e?(c="37 7a bc af 27 1c".split(" "),c=is_match(arrBuf2Str(b,0,c.length),c)):D5FED.Zb0==e?(c=["42","5a","68"],c=is_match(arrBuf2Str(b,0,c.length),c)):D5FED.Zz0==e?(c=["50","4b"],a="57 69 6e 5a 69 70".split(" "),c=is_match(arrBuf2Str(b,0,c.length),c),0==c&&(c=is_match(arrBuf2Str(b,0,a.length),a))):D5FED.Ze0==e&&(c=["45","47","47","41"],c=is_match(arrBuf2Str(b,
0,c.length),c));return c}
function Is_ZipFormatTar(b,e){var c=-1,a={data1:{buffStart:0,arrKey:["1f","8b"]},data2:{buffStart:257,arrKey:["75","73","74","61","72"]},data3:{buffStart:100,arrKey:["30","30","30","30","30"]},data4:{buffStart:100,arrKey:["30","30","30","30","31"]},data5:{buffStart:100,arrKey:["30","30","30","30","32"]},data6:{buffStart:100,arrKey:["30","30","30","30","33"]},data7:{buffStart:100,arrKey:["30","30","30","30","34"]},data8:{buffStart:100,arrKey:["30","30","30","30","35"]},data9:{buffStart:100,arrKey:["30",
"30","30","30","36"]},data10:{buffStart:100,arrKey:["30","30","30","30","37"]}},f=null,g;for(g in a){var k=a[g],f=arrBuf2Str(b,k.buffStart,k.arrKey.length);if(null!=f&&(c=is_match(f,k.arrKey)))break}return c}
function Is_EtcFormat(b,e){var c=-1;if(12>b.length)return 0;if(D5FED.Ep001==e)c=["25","50","44","46"],c=is_match(arrBuf2Str(b,0,c.length),c);else if(D5FED.Em002==e)c="53 74 61 6e 64 61 72 64 20 4a 65 74".split(" "),c=is_match(arrBuf2Str(b,0,c.length),c);else if(D5FED.Er003==e)c="7b 5c 72 74 66 31".split(" "),c=is_match(arrBuf2Str(b,0,c.length),c);else if(D5FED.Em004==e)c=is_cdf(b);else if(D5FED.Ep005==e)c=["21","42","44","4e"],c=is_match(arrBuf2Str(b,0,c.length),c);else if(D5FED.Ec006==e){var c=["49",
"53","63","28"],a=["4d","53","43","46"],c=is_match(arrBuf2Str(b,0,c.length),c);0==c&&(c=is_match(arrBuf2Str(b,0,a.length),a))}else if(D5FED.Ec007==e)c=["49","54","53","46"],c=is_match(arrBuf2Str(b,0,c.length),c);else if(D5FED.Ee009==e){var c=["58","2d"],a="52 65 74 75 72 6e 2d 50".split(" "),f=["46","72","6f","6d"],c=is_match(arrBuf2Str(b,0,c.length),c);0==c&&(c=is_match(arrBuf2Str(b,0,a.length),a));0==c&&(c=is_match(arrBuf2Str(b,0,f.length),f))}else if(D5FED.Eh010==e)c="00 00 ff ff ff ff".split(" "),
a=["3f","5f","03","00"],f=["4c","4e","02","00"],c=is_match(arrBuf2Str(b,0,c.length),c),0==c&&(c=is_match(arrBuf2Str(b,0,a.length),a)),0==c&&(c=is_match(arrBuf2Str(b,0,f.length),f));else if(D5FED.El011==e)c="4c 00 00 00 01 14 02 00".split(" "),c=is_match(arrBuf2Str(b,0,c.length),c);else if(D5FED.Et012==e)c=["00","01","00","00","00"],c=is_match(arrBuf2Str(b,0,c.length),c);else if(D5FED.Em013==e)c=["01","0f","00","00"],c=is_match(arrBuf2Str(b,0,c.length),c);else if(D5FED.Ei014==e)c=["00","00","01","00"],
c=is_match(arrBuf2Str(b,0,c.length),c);else if(D5FED.Ec015==e)c=["00","00","02","00"],c=is_match(arrBuf2Str(b,0,c.length),c);else if(D5FED.Ex016==e)c="2f 2a 20 58 50 4d 20 2a 2f".split(" "),c=is_match(arrBuf2Str(b,0,c.length),c);else if(D5FED.Ec017==e){var c=["e8"],a=["e9"],f=["eb"],g=["4d","5a"],c=is_match(arrBuf2Str(b,0,c.length),c);0==c&&(c=is_match(arrBuf2Str(b,0,a.length),a));0==c&&(c=is_match(arrBuf2Str(b,0,f.length),f));0==c&&(c=is_match(arrBuf2Str(b,0,g.length),g))}else D5FED.Ee018==e||D5FED.Ed019==
e||D5FED.Eo020==e?(c=["4d","5a"],c=is_match(arrBuf2Str(b,0,c.length),c)):D5FED.El021==e?(c="21 3c 61 72 63 68 3e 0a".split(" "),c=is_match(arrBuf2Str(b,0,c.length),c)):D5FED.Em022==e?c=is_cdf(b):D5FED.Eo023==e?(c=["4c","01"],c=is_match(arrBuf2Str(b,0,c.length),c)):D5FED.Ep024==e?(c=["25","21"],c=is_match(arrBuf2Str(b,0,c.length),c)):D5FED.Ee025==e&&(c=["c5","d0","d3","c6"],a="25 21 50 53 2d 41 64 6f".split(" "),c=is_match(arrBuf2Str(b,0,c.length),c),0==c&&(c=is_match(arrBuf2Str(b,0,a.length),a)));
return c};
