<?xml version="1.0" encoding="utf-8"?>
<FDL version="2.1">
  <Form id="SSP_BO_NA_03" width="1020" height="700" titletext="기획전 - 상세/수정" onload="SSP_BO_NA_03_onload" onkeyup="fn_onkeyup">
    <Layouts>
      <Layout height="700" mobileorientation="landscape" width="1020">
        <Static id="Static00" taborder="0" text="H20" left="0" top="0" width="1000" height="20" background="pink" visible="false" textAlign="center"/>
        <Static id="Static00_00" taborder="1" text="W20" left="0" top="0" width="20" height="1168" background="pink" visible="false" textAlign="center"/>
        <Static id="Static00_00_00" taborder="2" text="W20" left="980" top="0" width="20" height="1168" background="pink" visible="false" textAlign="center"/>
        <Static id="Static00_01_00" taborder="3" text="H20" left="0" top="1410" width="1020" height="20" background="pink" visible="false" textAlign="center"/>
        <Static id="Static00_02" taborder="4" text="H3" left="150" top="44" width="302" height="3" background="pink" visible="false" textAlign="center"/>
        <Static id="Static03" taborder="5" left="20" top="43" height="32" cssclass="sta_cm_box02L_tdt" text="" width="960"/>
        <Static id="Static07" taborder="6" left="20" top="136" height="136" cssclass="sta_cm_box02L" width="960"/>
        <Static id="Static00_02_01_00" taborder="7" text="H10" left="0" top="33" width="1000" height="10" background="pink" visible="false" textAlign="center"/>
        <Radio id="rdo_noticSprCd" taborder="8" left="160" top="141" width="150" height="109" innerdataset="ds_comboNoticSprCd" codecolumn="COM_DTL_CD" datacolumn="COM_DTL_CD_NM" direction="horizontal" text="없음" value="N" index="0" onitemchanged="rdo_noticSprCd_onitemchanged"/>
        <Button id="btn_searchOprUnit" taborder="9" left="945" top="140" height="24" cssclass="btn_WF_multi" width="24" onclick="btn_searchOprUnit_onclick"/>
        <Static id="sta_exhbnSprCd" taborder="10" text="기획전 구분" left="20" top="43" width="130" height="32" cssclass="sta_cm_box01L_tdt"/>
        <Static id="sta_noticSprCd" taborder="11" text="게시 구분" left="20" top="136" width="130" height="136" cssclass="sta_cm_box01L"/>
        <Grid id="grid_OprUnit" taborder="12" left="332" top="140" width="609" binddataset="ds_gridExhbnOprUnitList" autofittype="col" height="120" cellsizingtype="col" oncellclick="grid_OprUnit_oncellclick">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="300"/>
                <Column size="300"/>
                <Column size="50"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell text="운영단위ID"/>
                <Cell col="1" text="운영단위명"/>
                <Cell col="2"/>
              </Band>
              <Band id="body">
                <Cell text="bind:OPR_UNIT_ID"/>
                <Cell col="1" text="bind:OPR_UNIT_NM"/>
                <Cell col="2" displaytype="buttoncontrol" edittype="button" text="삭제"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Static id="Static61" taborder="13" text="기획전 상세" left="19" top="12" height="30" cssclass="sta_WF_title02" width="300"/>
        <Radio id="rdo_exhbnSprCd" taborder="14" left="160" top="47" width="230" height="24" innerdataset="ds_comboExhbnSprCd" codecolumn="COM_DTL_CD" datacolumn="COM_DTL_CD_NM" direction="vertical" text="포함" value="Y" index="0" onitemchanged="rdo_exhbnSprCd_onitemchanged"/>
        <Static id="Static65" taborder="15" left="20" top="272" height="32" cssclass="sta_cm_box02L" width="960"/>
        <Radio id="rdo_mainExpsYn" taborder="16" left="640" top="276" width="120" height="24" innerdataset="innerdataset" codecolumn="codecolumn" datacolumn="datacolumn" direction="vertical" text="포함" value="Y" index="0" onitemchanged="rdo_mainExpsYn_onitemchanged">
          <Dataset id="innerdataset">
            <ColumnInfo>
              <Column id="codecolumn" size="256"/>
              <Column id="datacolumn" size="256"/>
            </ColumnInfo>
            <Rows>
              <Row>
                <Col id="codecolumn">Y</Col>
                <Col id="datacolumn">노출</Col>
              </Row>
              <Row>
                <Col id="codecolumn">N</Col>
                <Col id="datacolumn">미노출</Col>
              </Row>
            </Rows>
          </Dataset>
        </Radio>
        <Static id="sta_mallSprCd" taborder="17" text="몰 구분" left="20" top="272" width="130" height="32" cssclass="sta_cm_box01L"/>
        <Static id="sta_mainExpsYn" taborder="18" text="메인 노출 여부" left="500" top="272" width="130" height="32" cssclass="sta_cm_box01L"/>
        <Combo id="cbx_mallSprCd" taborder="19" text="" left="160" top="276" width="330" height="24" index="-1" innerdataset="ds_comboMallSprCd" codecolumn="COM_DTL_CD" datacolumn="COM_DTL_CD_NM" onitemchanged="cbx_mallSprCd_onitemchanged"/>
        <Static id="Static65_00" taborder="20" left="20" top="303" height="32" cssclass="sta_cm_box02L" width="960"/>
        <Static id="sta_dispDt" taborder="21" text="전시 기간" left="20" top="303" width="130" height="32" cssclass="sta_cm_box01L"/>
        <Calendar id="cal_dispStrDt" taborder="22" left="160" top="307" width="100" height="24" cssclass="cal_WF_calendar" dateformat="yyyy-MM-dd"/>
        <Static id="Static59" taborder="23" text="~" left="264" top="307" width="9" height="24"/>
        <Calendar id="cal_dispEndDt" taborder="24" left="277" top="307" width="100" height="24" cssclass="cal_WF_calendar" dateformat="yyyy-MM-dd"/>
        <Static id="Static65_00_00" taborder="25" left="20" top="334" height="32" cssclass="sta_cm_box02L" width="960"/>
        <Static id="sta_exhbnNm" taborder="26" text="기획전 명" left="20" top="334" width="130" height="32" cssclass="sta_cm_box01L"/>
        <Edit id="edt_exhbnNm" taborder="27" left="160" top="338" width="711" height="24" onkeyup="edt_exhbnNm_onkeyup"/>
        <Static id="sta_exhbnNmSize" taborder="28" text="(100 / 100 Byte)" left="881" top="338" height="24" textAlign="right" width="88" usedecorate="true"/>
        <Static id="Static65_00_00_00" taborder="29" left="149" top="427" height="32" cssclass="sta_cm_box02L" width="831"/>
        <Static id="Static12" taborder="30" text="PC" left="149" top="427" width="130" height="32" cssclass="sta_cm_box01L"/>
        <Static id="Static05" taborder="31" text="용량 : 10M미만 / 형식 : PNG, JPG (최적 사이즈 : 2,560*560)" left="641" top="431" height="24" textAlign="left" width="328"/>
        <Static id="Static65_00_00_00_00" taborder="32" left="149" top="458" height="32" cssclass="sta_cm_box02L" width="831" text=""/>
        <Static id="Static13" taborder="33" text="모바일" left="149" top="458" width="130" height="32" cssclass="sta_cm_box01L"/>
        <Static id="Static09" taborder="36" text="용량 : 10M미만 / 형식 : PNG, JPG (최적 사이즈 : 822*240)" left="641" top="462" height="24" textAlign="left" width="328"/>
        <Static id="sta_mainImage" taborder="37" text="메인 이미지" left="20" top="427" width="130" height="63" cssclass="sta_cm_box01L"/>
        <Static id="Static65_01" taborder="39" left="20" top="489" height="32" cssclass="sta_cm_box02L" width="960"/>
        <Static id="sta_prdIdNm" taborder="38" text="메인 노출 상품" left="20" top="489" width="130" height="32" cssclass="sta_cm_box01L"/>
        <Button id="btn_searchPrdId0" taborder="40" left="917" top="494" height="24" cssclass="btn_WF_multi" width="24" onclick="btn_searchPrdId0_onclick"/>
        <Edit id="edt_prdIdNm" taborder="41" left="160" top="494" width="753" height="24"/>
        <Static id="Static65_00_00_00_01" taborder="43" left="149" top="520" height="32" cssclass="sta_cm_box02L" width="831"/>
        <Static id="Static25" taborder="44" text="PC" left="149" top="520" width="130" height="32" cssclass="sta_cm_box01L"/>
        <Static id="Static30" taborder="45" text="용량 : 10M미만 / 형식 : PNG, JPG (최적 사이즈 : 1,216*200)" left="641" top="524" height="24" textAlign="left" width="331"/>
        <Static id="Static65_00_00_00_00_00" taborder="46" left="149" top="551" height="32" cssclass="sta_cm_box02L" width="831" text=""/>
        <Static id="Static26" taborder="47" text="모바일" left="149" top="551" width="130" height="32" cssclass="sta_cm_box01L"/>
        <Static id="Static32" taborder="48" text="용량 : 10M미만 / 형식 : PNG, JPG (최적 사이즈 : 984*420)" left="641" top="555" height="24" textAlign="left" width="331"/>
        <Static id="sta_bnrImage" taborder="49" text="배너 이미지" left="20" top="520" width="130" height="63" cssclass="sta_cm_box01L"/>
        <Static id="Static65_00_00_00_01_00" taborder="52" left="149" top="580" height="32" cssclass="sta_cm_box02L" width="831"/>
        <Static id="Static28" taborder="53" text="PC" left="149" top="580" width="130" height="32" cssclass="sta_cm_box01L"/>
        <Static id="Static34" taborder="54" text="용량 : 10M미만 / 형식 : PNG, JPG (최적 사이즈 : 2,560*FREE)" left="641" top="584" height="24" textAlign="left" width="331"/>
        <Static id="Static65_00_00_00_00_00_00" taborder="55" left="149" top="611" height="32" cssclass="sta_cm_box02L" width="831" text=""/>
        <Static id="Static29" taborder="56" text="모바일" left="149" top="611" width="130" height="32" cssclass="sta_cm_box01L"/>
        <Static id="Static36" taborder="57" text="용량 : 10M미만 / 형식 : PNG, JPG (최적 사이즈 : 1,080*FREE)" left="641" top="615" height="24" textAlign="left" width="331"/>
        <Static id="sta_lpageImage" taborder="58" text="LP 이미지" left="20" top="580" width="130" height="63" cssclass="sta_cm_box01L"/>
        <Static id="Static65_00_00_00_01_00_00" taborder="60" left="149" top="670" height="32" cssclass="sta_cm_box02L" width="831"/>
        <Static id="Static53" taborder="61" text="PC" left="228" top="670" width="51" height="32" cssclass="sta_cm_box01L"/>
        <Static id="Static38" taborder="62" text="용량 : 10M미만 / 형식 : PNG, JPG (최적 사이즈 : 1,216*200)" left="641" top="674" height="24" textAlign="left" width="331"/>
        <Static id="Static65_00_00_00_00_00_00_00" taborder="63" left="149" top="700" height="32" cssclass="sta_cm_box02L" width="831" text=""/>
        <Static id="Static54" taborder="64" text="모바일" left="228" top="700" width="51" height="32" cssclass="sta_cm_box01L"/>
        <Static id="Static40" taborder="65" text="용량 : 10M미만 / 형식 : PNG, JPG (최적 사이즈 : 1,080*390)" left="641" top="703" height="24" textAlign="left" width="331"/>
        <Static id="Static50" taborder="66" text="쿠폰 설정" left="20" top="640" width="130" height="94" cssclass="sta_cm_box01L"/>
        <Static id="Static65_01_00" taborder="67" left="149" top="640" height="32" cssclass="sta_cm_box02L" width="831"/>
        <Static id="Static51" taborder="68" text="쿠폰 선택" left="149" top="640" width="130" height="32" cssclass="sta_cm_box01L"/>
        <Edit id="edt_cpnEvtNoNm" taborder="69" left="289" top="644" width="624" height="24"/>
        <Static id="Static00_02_02_01_01_01" taborder="71" text="H3" left="1188" top="571" width="302" height="3" background="pink" visible="false" textAlign="center"/>
        <Static id="Static00_02_02_01_01_00_02" taborder="72" text="H3" left="1188" top="598" width="302" height="3" background="pink" visible="false" textAlign="center"/>
        <Edit id="edt_cpnEvtNo" taborder="73" left="252" top="644" width="20" height="24" visible="false"/>
        <Button id="btn_searchCpnEvtNo" taborder="74" left="917" top="644" height="24" cssclass="btn_WF_search02" width="24" text="" onclick="btn_searchCpnEvtNo_onclick"/>
        <Static id="Static52" taborder="75" text="쿠폰 이미지" left="149" top="671" width="80" height="60" cssclass="sta_cm_box01L"/>
        <Static id="Static65_00_01" taborder="77" left="20" top="730" height="80" cssclass="sta_cm_box02L" width="960"/>
        <Static id="Static55" taborder="78" text="기획전 설명" left="20" top="730" width="130" height="80" cssclass="sta_cm_box01L"/>
        <TextArea id="txt_exhbnDesc" taborder="79" left="166" top="734" width="809" height="48" wordWrap="char" onkeyup="txt_exhbnDesc_onkeyup"/>
        <Static id="Static00_02_02_00_01" taborder="81" text="H3" left="666" top="806" width="302" height="3" background="pink" visible="false" textAlign="center"/>
        <Static id="sta_exhbnDescSize" taborder="82" text="(2000 / 2000 Byte)" left="866" top="782" height="24" textAlign="right" width="103" usedecorate="true"/>
        <Static id="Static63" taborder="83" text="기본 상품 구성" left="19" top="832" height="30" cssclass="sta_WF_title02" width="300"/>
        <Grid id="grid_exhbnCatgDtl" taborder="84" left="20" top="863" height="286" autofittype="col" cssclass="grd_WF_list" binddataset="ds_gridExhbnCatgDtl" autosizingtype="none" cellsizingtype="col" width="130" oncellclick="grid_exhbnCatgDtl_oncellclick">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="70"/>
                <Column size="40"/>
              </Columns>
              <Rows>
                <Row size="31" band="head"/>
                <Row size="31"/>
              </Rows>
              <Band id="head">
                <Cell text="카테고리 명"/>
                <Cell col="1" text="순서"/>
              </Band>
              <Band id="body">
                <Cell text="bind:CATG_NM" textAlign="left" displaytype="normal" edittype="none"/>
                <Cell col="1" text="bind:CATG_DISP_SO"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Static id="Static00_03_00_01_02_00" taborder="70" text="W10" left="150" top="863" width="10" height="30" background="pink" visible="false" textAlign="center"/>
        <Static id="Static65_02" taborder="85" left="160" top="863" height="32" cssclass="sta_cm_box02L" width="820"/>
        <Static id="sta_catgNm" taborder="86" text="카테고리 명" left="160" top="863" width="130" height="32" cssclass="sta_cm_box01L"/>
        <Static id="sta_catgDispSo" taborder="88" text="카테고리 순서" left="570" top="863" width="130" height="32" cssclass="sta_cm_box01L"/>
        <Edit id="edt_catgNm" taborder="90" left="300" top="867" width="260" height="24"/>
        <Edit id="edt_catgDispSo" taborder="91" left="710" top="867" width="259" height="24"/>
        <Static id="Static65_02_00" taborder="92" left="160" top="894" height="255" cssclass="sta_cm_box02L" width="820"/>
        <Static id="sta_exhbnCatgPrdDtl" taborder="93" text="등록 상품" left="160" top="894" width="130" height="255" cssclass="sta_cm_box01L"/>
        <Static id="Static00_03_03" taborder="89" text="W10" left="290" top="895" width="10" height="30" background="pink" visible="false" textAlign="center"/>
        <Static id="Static00_02_02_01_01_00_00_00" taborder="87" text="H3" left="629" top="1138" width="350" height="10" background="pink" visible="false" textAlign="center"/>
        <Static id="Static00_03_00_01_00_00" taborder="80" text="W10" left="969" top="905" height="30" background="pink" visible="false" textAlign="center" width="10"/>
        <Grid id="grid_exhbnCatgPrdDtl" taborder="94" left="300" top="932" height="206" autofittype="none" cssclass="grd_WF_list" binddataset="ds_gridExhbnCatgPrdDtl" autosizingtype="none" cellsizingtype="col" width="669" oncellclick="grid_exhbnCatgPrdDtl_oncellclick">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="55"/>
                <Column size="140"/>
                <Column size="240"/>
                <Column size="260"/>
                <Column size="260"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
              </Columns>
              <Rows>
                <Row size="31" band="head"/>
                <Row size="31"/>
              </Rows>
              <Band id="head">
                <Cell text="삭제"/>
                <Cell col="1" text="상품ID"/>
                <Cell col="2" text="상품명"/>
                <Cell col="3" text="대표규격"/>
                <Cell col="4" text="제조원"/>
                <Cell col="5" text="공용전용구분"/>
                <Cell col="6" text="대표상품구분"/>
                <Cell col="7" text="SSP상품상태"/>
                <Cell col="8" text="SSP진열상태"/>
              </Band>
              <Band id="body">
                <Cell displaytype="decoratetext" expr="&quot;&lt;u v='true'&gt;삭제&lt;/u&gt;&quot;" text="bind:DELETE_ROW"/>
                <Cell col="1" text="bind:PRD_ID_VIEW" textAlign="center"/>
                <Cell col="2" text="bind:PRD_NM" textAlign="left"/>
                <Cell col="3" textAlign="left" displaytype="normal" text="bind:ATTR_VAL"/>
                <Cell col="4" textAlign="left" text="bind:MNFR"/>
                <Cell col="5" text="bind:PUB_ONLY_SPR_NM"/>
                <Cell col="6" text="bind:REPR_PRD_SPR_NM"/>
                <Cell col="7" text="bind:PRD_USE_YN_NM"/>
                <Cell col="8" text="bind:DISP_STATS_NM"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Static id="Static00_01" taborder="95" left="20" top="1390" width="960" height="20" background="white" visible="true" textAlign="center"/>
        <Static id="Static00_02_01" taborder="96" text="H10" left="0" top="1350" width="1000" height="10" background="pink" visible="false" textAlign="center"/>
        <Static id="Static00_02_01_00_00_01" taborder="97" text="H10" left="0" top="1192" width="1000" height="10" background="pink" visible="false" textAlign="center"/>
        <Static id="Static03_00" taborder="98" left="20" top="1202" height="32" cssclass="sta_cm_box02L_tdt" text="" width="960"/>
        <Static id="sta_useYn" taborder="99" text="사용 여부" left="20" top="1202" width="130" height="32" cssclass="sta_cm_box01L_tdt"/>
        <Static id="Static64" taborder="100" text="사용 여부" left="19" top="1171" height="30" cssclass="sta_WF_title02" width="300"/>
        <Static id="Static00_02_03" taborder="101" text="H3" left="150" top="1203" width="302" height="3" background="pink" visible="false" textAlign="center"/>
        <Static id="Static00_03_03_00" taborder="102" text="W10" left="150" top="1203" width="10" height="30" background="pink" visible="false" textAlign="center"/>
        <Static id="Static00_02_02_01_00" taborder="103" text="H3" left="150" top="1230" width="302" height="3" background="pink" visible="false" textAlign="center"/>
        <Static id="Static00_03_00_01_00_00_00" taborder="104" text="W10" left="969" top="1203" width="10" height="30" background="pink" visible="false" textAlign="center"/>
        <Static id="Static00_02_01_00_00_00_00_00" taborder="105" text="H30" left="0" top="1149" width="1000" height="30" background="pink" visible="false" textAlign="center"/>
        <Radio id="rdo_useYn" taborder="106" left="160" top="1206" width="120" height="24" innerdataset="innerdataset" codecolumn="codecolumn" datacolumn="datacolumn" direction="vertical" text="사용" value="Y" index="0">
          <Dataset id="innerdataset">
            <ColumnInfo>
              <Column id="codecolumn" size="256"/>
              <Column id="datacolumn" size="256"/>
            </ColumnInfo>
            <Rows>
              <Row>
                <Col id="codecolumn">Y</Col>
                <Col id="datacolumn">사용</Col>
              </Row>
              <Row>
                <Col id="codecolumn">N</Col>
                <Col id="datacolumn">미사용</Col>
              </Row>
            </Rows>
          </Dataset>
        </Radio>
        <Button id="btn_cancel" taborder="107" text="취소" left="401" top="1360" width="70" height="30" onclick="btn_cancel_onclick"/>
        <Button id="btn_save" taborder="108" text="저장" left="549" top="1360" width="70" height="30" cssclass="btn_WF_select" onclick="btn_save_onclick"/>
        <Button id="btn_searchPrdId1" taborder="109" top="905" width="97" height="24" text="상품검색" left="771" onclick="btn_searchPrdId1_onclick"/>
        <Static id="Static00_02_02_01_01_00_01" taborder="50" text="H3" left="300" top="929" width="302" height="3" background="pink" visible="false" textAlign="center"/>
        <Button id="btn_catgDelete" taborder="110" top="905" width="97" height="24" text="카테고리 삭제" left="569" onclick="btn_catgDelete_onclick"/>
        <Button id="btn_catgAdd" taborder="111" top="905" width="97" height="24" text="카테고리 추가" left="670" onclick="btn_catgAdd_onclick"/>
        <Button id="btn_searchPrdIdClear0" taborder="112" left="945" top="494" height="24" text="X" visible="true" width="24" onclick="btn_searchPrdIdClear0_onclick"/>
        <Button id="btn_searchCpnEvtNoClear" taborder="113" left="945" top="644" height="24" text="X" visible="true" width="24" onclick="btn_searchCpnEvtNoClear_onclick"/>
        <Button id="btn_delete" taborder="114" text="삭제" left="475" top="1360" width="70" height="30" cssclass="btn_WF_select" onclick="btn_delete_onclick"/>
        <Static id="Static65_00_02" taborder="115" left="20" top="365" height="32" cssclass="sta_cm_box02L" width="960"/>
        <Static id="Static19" taborder="116" text="URL(PC)" left="20" top="365" width="130" height="32" cssclass="sta_cm_box01L"/>
        <Button id="btn_prev" taborder="117" top="369" width="80" height="24" text="미리보기" left="889" onclick="btn_prev_onclick"/>
        <Static id="Static00_02_01_00_00_01_00" taborder="118" text="H10" left="0" top="1277" width="1000" height="10" background="pink" visible="false" textAlign="center"/>
        <Static id="Static03_00_00" taborder="119" left="20" top="1287" height="32" cssclass="sta_cm_box02L_tdt" text="" width="960"/>
        <Static id="Static70" taborder="120" text="최초 등록" left="20" top="1287" width="130" height="32" cssclass="sta_cm_box01L_tdt"/>
        <Static id="Static64_00" taborder="121" text="등록 정보" left="19" top="1256" height="30" cssclass="sta_WF_title02" width="300"/>
        <Static id="Static00_02_03_00" taborder="122" text="H3" left="150" top="1288" width="302" height="3" background="pink" visible="false" textAlign="center"/>
        <Static id="Static00_03_03_00_00" taborder="123" text="W10" left="150" top="1288" width="10" height="30" background="pink" visible="false" textAlign="center"/>
        <Static id="Static00_02_02_01_00_00" taborder="124" text="H3" left="150" top="1315" width="302" height="3" background="pink" visible="false" textAlign="center"/>
        <Static id="Static00_02_01_00_00_00_00_00_00" taborder="126" text="H30" left="0" top="1234" width="1000" height="30" background="pink" visible="false" textAlign="center"/>
        <Static id="Static71" taborder="127" text="등록 일시" left="500" top="1287" width="130" height="32" cssclass="sta_cm_box01L_tdt"/>
        <Static id="Static03_00_00_00" taborder="129" left="20" top="1318" height="32" cssclass="sta_cm_box02L" text="" width="960"/>
        <Static id="Static73" taborder="130" text="수정 일시" left="500" top="1318" width="130" height="32" cssclass="sta_cm_box01L"/>
        <Static id="Static72" taborder="128" text="최종 수정" left="20" top="1318" width="130" height="32" cssclass="sta_cm_box01L"/>
        <Edit id="edt_regDtm" taborder="131" left="640" top="1291" width="329" height="24" onkeyup="edt_exhbnNm_onkeyup"/>
        <Edit id="edt_updDtm" taborder="132" left="640" top="1322" width="329" height="24" onkeyup="edt_exhbnNm_onkeyup"/>
        <Static id="Static00_03_00_01_00_00_00_00" taborder="125" text="W10" left="490" top="1288" width="10" height="30" background="pink" visible="false" textAlign="center"/>
        <Edit id="edt_regpsnId" taborder="133" left="160" top="1291" width="163" height="24" onkeyup="edt_exhbnNm_onkeyup"/>
        <Edit id="edt_regpsnIdNm" taborder="134" left="327" top="1291" width="163" height="24" onkeyup="edt_exhbnNm_onkeyup"/>
        <Edit id="edt_updpsnId" taborder="135" left="160" top="1322" width="163" height="24" onkeyup="edt_exhbnNm_onkeyup"/>
        <Edit id="edt_updpsnIdNm" taborder="136" left="327" top="1322" width="163" height="24" onkeyup="edt_exhbnNm_onkeyup"/>
        <Button id="btn_searchOprUnitMulText" taborder="137" left="945" top="168" height="24" cssclass="btn_WF_document" width="24" onclick="btn_searchOprUnitMulText_onclick"/>
        <Static id="Static00_02_00" taborder="34" text="H3" left="1188" top="545" width="302" height="3" background="pink" visible="false" textAlign="center"/>
        <Static id="Static00_02_02_01" taborder="35" text="H3" left="1188" top="518" width="302" height="3" background="pink" visible="false" textAlign="center"/>
        <Static id="Static00_03_00_00" taborder="42" text="W10" left="1130" top="460" width="10" height="30" background="pink" visible="false" textAlign="center"/>
        <Static id="Static00_03_00_00_00" taborder="51" text="W10" left="1125" top="530" width="10" height="30" background="pink" visible="false" textAlign="center"/>
        <Static id="Static00_03_00_00_00_00" taborder="59" text="W10" left="1130" top="584" width="10" height="30" background="pink" visible="false" textAlign="center"/>
        <Static id="Static00_02_02_00_00_01" taborder="76" text="H3" left="150" top="806" width="302" height="3" background="pink" visible="false" textAlign="center"/>
        <Button id="btn_searchPrdIdMulText1" taborder="138" top="905" width="97" height="24" text="멀티텍스트" left="872" onclick="btn_searchPrdIdMulText1_onclick"/>
        <Edit id="edt_mainPcDocRegIdNm" taborder="139" left="289" top="431" height="24" width="230" readonly="false" onmouseenter="edt_atflNm_onmouseenter" onmouseleave="edt_atflNm_onmouseleave"/>
        <Button id="btn_mainPcDocRegId" taborder="140" text="파일첨부" top="431" width="80" height="24" left="523" onclick="btn_mainPcDocRegId_onclick"/>
        <Button id="btn_mainPcDocRegIdClear" taborder="141" left="607" top="431" height="24" text="X" visible="true" width="24" onclick="btn_mainPcDocRegIdClear_onclick"/>
        <Button id="btn_mainMblDocRegIdClear" taborder="142" left="607" top="462" height="24" text="X" visible="true" width="24" onclick="btn_mainMblDocRegIdClear_onclick"/>
        <Button id="btn_mainMblDocRegId" taborder="143" text="파일첨부" top="462" width="80" height="24" left="523" onclick="btn_mainMblDocRegId_onclick"/>
        <Edit id="edt_mainMblDocRegIdNm" taborder="144" left="289" top="462" height="24" width="230" readonly="false" onmouseleave="edt_atflNm_onmouseleave" onmouseenter="edt_atflNm_onmouseenter"/>
        <Edit id="edt_bnrPcDocRegIdNm" taborder="145" left="289" top="524" height="24" width="230" readonly="false" onmouseenter="edt_atflNm_onmouseenter" onmouseleave="edt_atflNm_onmouseleave"/>
        <Button id="btn_bnrPcDocRegId" taborder="146" text="파일첨부" top="524" width="80" height="24" left="523" onclick="btn_bnrPcDocRegId_onclick"/>
        <Edit id="edt_bnrMblDocRegIdNm" taborder="147" left="289" top="555" height="24" width="230" readonly="false" onmouseenter="edt_atflNm_onmouseenter" onmouseleave="edt_atflNm_onmouseleave"/>
        <Button id="btn_bnrMblDocRegId" taborder="148" text="파일첨부" top="555" width="80" height="24" left="523" onclick="btn_bnrMblDocRegId_onclick"/>
        <Button id="btn_lpagePcDocRegId" taborder="149" text="파일첨부" top="584" width="80" height="24" left="523" onclick="btn_lpagePcDocRegId_onclick"/>
        <Edit id="edt_lpagePcDocRegIdNm" taborder="150" left="289" top="584" height="24" width="230" readonly="false" onmouseenter="edt_atflNm_onmouseenter" onmouseleave="edt_atflNm_onmouseleave"/>
        <Edit id="edt_lpageMblDocRegIdNm" taborder="151" left="289" top="615" height="24" width="230" readonly="false" onmouseleave="edt_atflNm_onmouseleave" onmouseenter="edt_atflNm_onmouseenter"/>
        <Button id="btn_lpageMblDocRegId" taborder="152" text="파일첨부" top="615" width="80" height="24" left="523" onclick="btn_lpageMblDocRegId_onclick"/>
        <Edit id="edt_cpnPcDocRegIdNm" taborder="153" left="289" top="674" height="24" width="230" readonly="false" onmouseenter="edt_atflNm_onmouseenter" onmouseleave="edt_atflNm_onmouseleave"/>
        <Edit id="edt_cpnMblDocRegIdNm" taborder="154" left="289" top="703" height="24" width="230" readonly="false" onmouseleave="edt_atflNm_onmouseleave" onmouseenter="edt_atflNm_onmouseenter"/>
        <Button id="btn_cpnMblDocRegId" taborder="155" text="파일첨부" top="703" width="80" height="24" left="523" onclick="btn_cpnMblDocRegId_onclick"/>
        <Button id="btn_cpnPcDocRegId" taborder="156" text="파일첨부" top="674" width="80" height="24" left="523" onclick="btn_cpnPcDocRegId_onclick"/>
        <Button id="btn_cpnPcDocRegIdClear" taborder="157" left="607" top="674" height="24" text="X" visible="true" width="24" onclick="btn_cpnPcDocRegIdClear_onclick"/>
        <Button id="btn_cpnMblDocRegIdClear" taborder="158" left="607" top="703" height="24" text="X" visible="true" width="24" onclick="btn_cpnMblDocRegIdClear_onclick"/>
        <Button id="btn_bnrPcDocRegIdClear" taborder="159" left="607" top="524" height="24" text="X" visible="true" width="24" onclick="btn_bnrPcDocRegIdClear_onclick"/>
        <Button id="btn_bnrMblDocRegIdClear" taborder="160" left="607" top="555" height="24" text="X" visible="true" width="24" onclick="btn_bnrMblDocRegIdClear_onclick"/>
        <Button id="btn_lpagePcDocRegIdClear" taborder="161" left="607" top="584" height="24" text="X" visible="true" width="24" onclick="btn_lpagePcDocRegIdClear_onclick"/>
        <Button id="btn_lpageMblDocRegIdClear" taborder="162" left="607" top="615" height="24" text="X" visible="true" width="24" onclick="btn_lpageMblDocRegIdClear_onclick"/>
        <Static id="sta_totalCountOprUnit" taborder="163" text="(총 0건)" left="262" top="140" width="47" height="25" usedecorate="true"/>
        <Static id="sta_totalCountPrdDtl" taborder="164" text="(총 0건)" left="300" top="911" width="121" height="25" usedecorate="true"/>
        <Edit id="edt_foUrl" taborder="165" left="160" top="369" width="725" height="24"/>
        <Static id="Static65_00_02_00" taborder="166" left="20" top="396" height="32" cssclass="sta_cm_box02L" width="960"/>
        <Static id="Static19_00" taborder="167" text="URL(모바일)" left="20" top="396" width="130" height="32" cssclass="sta_cm_box01L"/>
        <Button id="btn_mobilePrev" taborder="168" top="400" width="80" height="24" text="미리보기" left="889" onclick="btn_mobilePrev_onclick"/>
        <Edit id="edt_foMobileUrl" taborder="169" left="160" top="400" width="725" height="24"/>
        <ImageViewer id="img_view" taborder="170" left="1040" top="0" width="100" imagealign="center middle" padding="0px" stretch="fixaspectratio" text="" height="100" visible="false"/>
        <Static id="Static06" taborder="171" left="20" top="105" height="32" cssclass="sta_cm_box02L" text="" width="960"/>
        <Static id="Static04" taborder="172" left="20" top="74" height="32" cssclass="sta_cm_box02L" text="" width="960"/>
        <Static id="sta_lstViewTypeCd00" taborder="173" text="목록보기타입코드" left="20" top="74" width="130" height="64" cssclass="sta_cm_box01L" onclick="sta_lstViewTypeCd_onclick"/>
        <Radio id="rdo_pcLstViewTypeCd" taborder="174" left="287" top="78" width="240" height="24" codecolumn="COM_DTL_CD" datacolumn="COM_DTL_CD_NM" direction="vertical" text="포함" value="Y" index="0" innerdataset="ds_comboLstViewTypeCd"/>
        <Static id="sta_pcLstViewTypeCd" taborder="175" text="PC" left="149" top="74" width="130" height="32" cssclass="sta_cm_box01L"/>
        <Static id="sta_mblLstViewTypeCd" taborder="176" text="모바일" left="149" top="105" width="130" height="32" cssclass="sta_cm_box01L"/>
        <Radio id="rdo_mblLstViewTypeCd" taborder="177" left="287" top="109" width="240" height="24" codecolumn="COM_DTL_CD" datacolumn="COM_DTL_CD_NM" direction="vertical" text="포함" value="Y" index="0" innerdataset="ds_comboLstViewTypeCd"/>
        <CheckBox id="chk_expsYn" taborder="178" text="목록 미노출" left="287" top="1208" width="99" height="20" falsevalue="Y" truevalue="N"/>
        <CheckBox id="chk_notLogn_Inc_Yn" taborder="179" text="미로그인 포함" left="161" top="250" width="134" height="20" falsevalue="N" truevalue="Y"/>
      </Layout>
    </Layouts>
    <Objects>
      <Dataset id="ds_search">
        <ColumnInfo>
          <Column id="CO_CD" type="STRING" size="256"/>
          <Column id="EXHBN_SEQ" type="STRING" size="256"/>
          <Column id="MALL_SPR_CD" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_searchComCd">
        <ColumnInfo>
          <Column id="CODE_LIST" type="STRING" size="256"/>
          <Column id="LANG_CD" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_searchOprUnitCheckList">
        <ColumnInfo>
          <Column id="CO_CD" type="STRING" size="256"/>
          <Column id="BZPLC_ID" type="STRING" size="256"/>
          <Column id="OPR_UNIT_ID" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_searchPrdIdCheckList">
        <ColumnInfo>
          <Column id="CO_CD" type="STRING" size="256"/>
          <Column id="PRD_ID" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_comboMallSprCd">
        <ColumnInfo>
          <Column id="COM_DTL_CD" type="STRING" size="256"/>
          <Column id="COM_DTL_CD_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_comboExhbnSprCd">
        <ColumnInfo>
          <Column id="COM_DTL_CD" type="STRING" size="256"/>
          <Column id="COM_DTL_CD_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_comboNoticSprCd">
        <ColumnInfo>
          <Column id="COM_DTL_CD" type="STRING" size="256"/>
          <Column id="COM_DTL_CD_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_oprUnitList" useclientlayout="true">
        <ColumnInfo>
          <Column id="BZPLC_ID" type="STRING" size="256"/>
          <Column id="OPR_UNIT_ID" type="STRING" size="256"/>
          <Column id="OPR_UNIT_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_prdInfoList" useclientlayout="true">
        <ColumnInfo>
          <Column id="PRD_ID" type="STRING" size="256"/>
          <Column id="PRD_ID_VIEW" type="STRING" size="256"/>
          <Column id="PRD_NM" type="STRING" size="256"/>
          <Column id="ATTR_VAL" type="STRING" size="256"/>
          <Column id="MNFR" type="STRING" size="256"/>
          <Column id="PUB_ONLY_SPR_NM" type="STRING" size="256"/>
          <Column id="REPR_PRD_SPR_NM" type="STRING" size="256"/>
          <Column id="PRD_USE_YN" type="STRING" size="256"/>
          <Column id="PRD_USE_YN_NM" type="STRING" size="256"/>
          <Column id="DISP_STATS_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_exhbnInfo" useclientlayout="true">
        <ColumnInfo>
          <Column id="CO_CD" type="STRING" size="256"/>
          <Column id="EXHBN_SEQ" type="STRING" size="256"/>
          <Column id="EXHBN_NM" type="STRING" size="256"/>
          <Column id="EXHBN_SPR_CD" type="STRING" size="256"/>
          <Column id="PC_LST_VIEW_TYPE_CD" type="STRING" size="256"/>
          <Column id="MBL_LST_VIEW_TYPE_CD" type="STRING" size="256"/>
          <Column id="EXPS_NOTIC_SPR_CD" type="STRING" size="256"/>
          <Column id="MAIN_EXPS_YN" type="STRING" size="256"/>
          <Column id="DISP_STR_DT" type="STRING" size="256"/>
          <Column id="DISP_END_DT" type="STRING" size="256"/>
          <Column id="MALL_SPR_CD" type="STRING" size="256"/>
          <Column id="DISP_SO" type="STRING" size="256"/>
          <Column id="CPN_EVT_NO" type="STRING" size="256"/>
          <Column id="EXHBN_DESC" type="STRING" size="256"/>
          <Column id="EXPS_YN" type="STRING" size="256"/>
          <Column id="USE_YN" type="STRING" size="256"/>
          <Column id="MAIN_PC_DOC_REG_ID" type="STRING" size="256"/>
          <Column id="MAIN_MBL_DOC_REG_ID" type="STRING" size="256"/>
          <Column id="BNR_PC_DOC_REG_ID" type="STRING" size="256"/>
          <Column id="BNR_MBL_DOC_REG_ID" type="STRING" size="256"/>
          <Column id="LPAGE_PC_DOC_REG_ID" type="STRING" size="256"/>
          <Column id="LPAGE_MBL_DOC_REG_ID" type="STRING" size="256"/>
          <Column id="CPN_PC_DOC_REG_ID" type="STRING" size="256"/>
          <Column id="CPN_MBL_DOC_REG_ID" type="STRING" size="256"/>
          <Column id="REGPSN_ID" type="STRING" size="256"/>
          <Column id="REG_DTM" type="STRING" size="256"/>
          <Column id="UPDPSN_ID" type="STRING" size="256"/>
          <Column id="UPD_DTM" type="STRING" size="256"/>
          <Column id="CPN_EVT_NO_NM" type="STRING" size="256"/>
          <Column id="REGPSN_ID_NM" type="STRING" size="256"/>
          <Column id="UPDPSN_ID_NM" type="STRING" size="256"/>
          <Column id="MAIN_PC_DOC_REG_ID_NM" type="STRING" size="256"/>
          <Column id="MAIN_PC_DOC_REG_ID_REG_SEQ" type="STRING" size="256"/>
          <Column id="MAIN_PC_DOC_REG_ID_ATFL_STOR_PATH" type="STRING" size="256"/>
          <Column id="MAIN_PC_DOC_REG_ID_ORI_ATFL_NM" type="STRING" size="256"/>
          <Column id="MAIN_MBL_DOC_REG_ID_NM" type="STRING" size="256"/>
          <Column id="MAIN_MBL_DOC_REG_ID_REG_SEQ" type="STRING" size="256"/>
          <Column id="MAIN_MBL_DOC_REG_ID_ATFL_STOR_PATH" type="STRING" size="256"/>
          <Column id="MAIN_MBL_DOC_REG_ID_ORI_ATFL_NM" type="STRING" size="256"/>
          <Column id="BNR_PC_DOC_REG_ID_NM" type="STRING" size="256"/>
          <Column id="BNR_PC_DOC_REG_ID_REG_SEQ" type="STRING" size="256"/>
          <Column id="BNR_PC_DOC_REG_ID_ATFL_STOR_PATH" type="STRING" size="256"/>
          <Column id="BNR_PC_DOC_REG_ID_ORI_ATFL_NM" type="STRING" size="256"/>
          <Column id="BNR_MBL_DOC_REG_ID_NM" type="STRING" size="256"/>
          <Column id="BNR_MBL_DOC_REG_ID_REG_SEQ" type="STRING" size="256"/>
          <Column id="BNR_MBL_DOC_REG_ID_ATFL_STOR_PATH" type="STRING" size="256"/>
          <Column id="BNR_MBL_DOC_REG_ID_ORI_ATFL_NM" type="STRING" size="256"/>
          <Column id="LPAGE_PC_DOC_REG_ID_NM" type="STRING" size="256"/>
          <Column id="LPAGE_PC_DOC_REG_ID_REG_SEQ" type="STRING" size="256"/>
          <Column id="LPAGE_PC_DOC_REG_ID_ATFL_STOR_PATH" type="STRING" size="256"/>
          <Column id="LPAGE_PC_DOC_REG_ID_ORI_ATFL_NM" type="STRING" size="256"/>
          <Column id="LPAGE_MBL_DOC_REG_ID_NM" type="STRING" size="256"/>
          <Column id="LPAGE_MBL_DOC_REG_ID_REG_SEQ" type="STRING" size="256"/>
          <Column id="LPAGE_MBL_DOC_REG_ID_ATFL_STOR_PATH" type="STRING" size="256"/>
          <Column id="LPAGE_MBL_DOC_REG_ID_ORI_ATFL_NM" type="STRING" size="256"/>
          <Column id="CPN_PC_DOC_REG_ID_NM" type="STRING" size="256"/>
          <Column id="CPN_PC_DOC_REG_ID_REG_SEQ" type="STRING" size="256"/>
          <Column id="CPN_PC_DOC_REG_ID_ATFL_STOR_PATH" type="STRING" size="256"/>
          <Column id="CPN_PC_DOC_REG_ID_ORI_ATFL_NM" type="STRING" size="256"/>
          <Column id="CPN_MBL_DOC_REG_ID_NM" type="STRING" size="256"/>
          <Column id="CPN_MBL_DOC_REG_ID_REG_SEQ" type="STRING" size="256"/>
          <Column id="CPN_MBL_DOC_REG_ID_ATFL_STOR_PATH" type="STRING" size="256"/>
          <Column id="CPN_MBL_DOC_REG_ID_ORI_ATFL_NM" type="STRING" size="256"/>
          <Column id="NOTLOGN_INC_YN" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_gridExhbnOprUnitList" useclientlayout="true">
        <ColumnInfo>
          <Column id="CO_CD" type="STRING" size="256"/>
          <Column id="EXHBN_SEQ" type="STRING" size="256"/>
          <Column id="BZPLC_ID" type="STRING" size="256"/>
          <Column id="OPR_UNIT_ID" type="STRING" size="256"/>
          <Column id="OPR_UNIT_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_exhbnCatgPrdDtl" useclientlayout="true">
        <ColumnInfo>
          <Column id="CO_CD" type="STRING" size="256"/>
          <Column id="EXHBN_SEQ" type="STRING" size="256"/>
          <Column id="EXHBN_CATG_SEQ" type="STRING" size="256"/>
          <Column id="PRD_ID" type="STRING" size="256"/>
          <Column id="PRD_ID_VIEW" type="STRING" size="256"/>
          <Column id="PRD_NM" type="STRING" size="256"/>
          <Column id="ATTR_VAL" type="STRING" size="256"/>
          <Column id="MNFR" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_gridExhbnCatgDtl" useclientlayout="true">
        <ColumnInfo>
          <Column id="CO_CD" type="STRING" size="256"/>
          <Column id="EXHBN_SEQ" type="STRING" size="256"/>
          <Column id="EXHBN_CATG_SEQ" type="STRING" size="256"/>
          <Column id="CATG_NM" type="STRING" size="256"/>
          <Column id="CATG_DISP_SO" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_gridExhbnCatgPrdDtl" useclientlayout="true">
        <ColumnInfo>
          <Column id="CO_CD" type="STRING" size="256"/>
          <Column id="EXHBN_SEQ" type="STRING" size="256"/>
          <Column id="EXHBN_CATG_SEQ" type="STRING" size="256"/>
          <Column id="PRD_ID" type="STRING" size="256"/>
          <Column id="PRD_ID_VIEW" type="STRING" size="256"/>
          <Column id="PRD_NM" type="STRING" size="256"/>
          <Column id="ATTR_VAL" type="STRING" size="256"/>
          <Column id="MNFR" type="STRING" size="256"/>
          <Column id="PUB_ONLY_SPR_NM" type="STRING" size="256"/>
          <Column id="REPR_PRD_SPR_NM" type="STRING" size="256"/>
          <Column id="PRD_USE_YN" type="STRING" size="256"/>
          <Column id="PRD_USE_YN_NM" type="STRING" size="256"/>
          <Column id="DISP_STATS_NM" type="STRING" size="256"/>
          <Column id="DELETE_ROW" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_gridExhbnCatgDtlTemp" useclientlayout="true">
        <ColumnInfo>
          <Column id="CO_CD" type="STRING" size="256"/>
          <Column id="EXHBN_SEQ" type="STRING" size="256"/>
          <Column id="EXHBN_CATG_SEQ" type="STRING" size="256"/>
          <Column id="CATG_NM" type="STRING" size="256"/>
          <Column id="CATG_DISP_SO" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_gridExhbnCatgPrdDtlTemp" useclientlayout="true">
        <ColumnInfo>
          <Column id="CO_CD" type="STRING" size="256"/>
          <Column id="EXHBN_SEQ" type="STRING" size="256"/>
          <Column id="EXHBN_CATG_SEQ" type="STRING" size="256"/>
          <Column id="PRD_ID" type="STRING" size="256"/>
          <Column id="PRD_ID_VIEW" type="STRING" size="256"/>
          <Column id="PRD_NM" type="STRING" size="256"/>
          <Column id="ATTR_VAL" type="STRING" size="256"/>
          <Column id="MNFR" type="STRING" size="256"/>
          <Column id="PUB_ONLY_SPR_NM" type="STRING" size="256"/>
          <Column id="REPR_PRD_SPR_NM" type="STRING" size="256"/>
          <Column id="PRD_USE_YN" type="STRING" size="256"/>
          <Column id="PRD_USE_YN_NM" type="STRING" size="256"/>
          <Column id="DISP_STATS_NM" type="STRING" size="256"/>
          <Column id="DELETE_ROW" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <FileDialog id="fileDialog" onclose="fileDialog_onclose"/>
      <FileUpTransfer id="fileUpTrans" onerror="fileUpTrans_onerror" onprogress="fileUpTrans_onprogress" onsuccess="fileUpTrans_onsuccess"/>
      <FileDownTransfer id="FileDownTransfer" onsuccess="FileDownTransfer_onsuccess" onerror="FileDownTransfer_onerror"/>
      <Dataset id="ds_file">
        <ColumnInfo>
          <Column id="DOC_REG_ID" type="STRING" size="256"/>
          <Column id="DOC_REG_SEQ" type="STRING" size="256"/>
          <Column id="ATFL_NM" type="STRING" size="256"/>
          <Column id="ATFL_STOR_PATH" type="STRING" size="256"/>
          <Column id="ORI_ATFL_NM" type="STRING" size="256"/>
          <Column id="IMG_TYPE" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_comboLstViewTypeCd">
        <ColumnInfo>
          <Column id="COM_DTL_CD" type="STRING" size="256"/>
          <Column id="COM_DTL_CD_NM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Bind>
      <BindItem id="item0" compid="rdo_exhbnSprCd" propid="value" datasetid="ds_exhbnInfo" columnid="EXHBN_SPR_CD"/>
      <BindItem id="item1" compid="rdo_noticSprCd" propid="value" datasetid="ds_exhbnInfo" columnid="EXPS_NOTIC_SPR_CD"/>
      <BindItem id="item2" compid="cbx_mallSprCd" propid="value" datasetid="ds_exhbnInfo" columnid="MALL_SPR_CD"/>
      <BindItem id="item3" compid="rdo_mainExpsYn" propid="value" datasetid="ds_exhbnInfo" columnid="MAIN_EXPS_YN"/>
      <BindItem id="item4" compid="cal_dispStrDt" propid="value" datasetid="ds_exhbnInfo" columnid="DISP_STR_DT"/>
      <BindItem id="item5" compid="cal_dispEndDt" propid="value" datasetid="ds_exhbnInfo" columnid="DISP_END_DT"/>
      <BindItem id="item6" compid="edt_exhbnNm" propid="value" datasetid="ds_exhbnInfo" columnid="EXHBN_NM"/>
      <BindItem id="item19" compid="edt_cpnEvtNo" propid="value" datasetid="ds_exhbnInfo" columnid="CPN_EVT_NO"/>
      <BindItem id="item24" compid="txt_exhbnDesc" propid="value" datasetid="ds_exhbnInfo" columnid="EXHBN_DESC"/>
      <BindItem id="item25" compid="edt_catgNm" propid="value" datasetid="ds_gridExhbnCatgDtl" columnid="CATG_NM"/>
      <BindItem id="item26" compid="edt_catgDispSo" propid="value" datasetid="ds_gridExhbnCatgDtl" columnid="CATG_DISP_SO"/>
      <BindItem id="item27" compid="rdo_useYn" propid="value" datasetid="ds_exhbnInfo" columnid="USE_YN"/>
      <BindItem id="item28" compid="edt_cpnEvtNoNm" propid="value" datasetid="ds_exhbnInfo" columnid="CPN_EVT_NO_NM"/>
      <BindItem id="item29" compid="edt_regpsnId" propid="value" datasetid="ds_exhbnInfo" columnid="REGPSN_ID"/>
      <BindItem id="item30" compid="edt_regpsnIdNm" propid="value" datasetid="ds_exhbnInfo" columnid="REGPSN_ID_NM"/>
      <BindItem id="item31" compid="edt_regDtm" propid="value" datasetid="ds_exhbnInfo" columnid="REG_DTM"/>
      <BindItem id="item32" compid="edt_updpsnId" propid="value" datasetid="ds_exhbnInfo" columnid="UPDPSN_ID"/>
      <BindItem id="item33" compid="edt_updpsnIdNm" propid="value" datasetid="ds_exhbnInfo" columnid="UPDPSN_ID_NM"/>
      <BindItem id="item34" compid="edt_updDtm" propid="value" datasetid="ds_exhbnInfo" columnid="UPD_DTM"/>
      <BindItem id="item8" compid="edt_mainPcDocRegIdNm" propid="value" datasetid="ds_exhbnInfo" columnid="MAIN_PC_DOC_REG_ID_NM"/>
      <BindItem id="item10" compid="edt_mainMblDocRegIdNm" propid="value" datasetid="ds_exhbnInfo" columnid="MAIN_MBL_DOC_REG_ID_NM"/>
      <BindItem id="item12" compid="edt_bnrPcDocRegIdNm" propid="value" datasetid="ds_exhbnInfo" columnid="BNR_PC_DOC_REG_ID_NM"/>
      <BindItem id="item14" compid="edt_bnrMblDocRegIdNm" propid="value" datasetid="ds_exhbnInfo" columnid="BNR_MBL_DOC_REG_ID_NM"/>
      <BindItem id="item16" compid="edt_lpagePcDocRegIdNm" propid="value" datasetid="ds_exhbnInfo" columnid="LPAGE_PC_DOC_REG_ID_NM"/>
      <BindItem id="item18" compid="edt_lpageMblDocRegIdNm" propid="value" datasetid="ds_exhbnInfo" columnid="LPAGE_MBL_DOC_REG_ID_NM"/>
      <BindItem id="item21" compid="edt_cpnPcDocRegIdNm" propid="value" datasetid="ds_exhbnInfo" columnid="CPN_PC_DOC_REG_ID_NM"/>
      <BindItem id="item23" compid="edt_cpnMblDocRegIdNm" propid="value" datasetid="ds_exhbnInfo" columnid="CPN_MBL_DOC_REG_ID_NM"/>
      <BindItem id="item9" compid="rdo_pcLstViewTypeCd" propid="value" datasetid="ds_exhbnInfo" columnid="PC_LST_VIEW_TYPE_CD"/>
      <BindItem id="item11" compid="rdo_mblLstViewTypeCd" propid="value" datasetid="ds_exhbnInfo" columnid="MBL_LST_VIEW_TYPE_CD"/>
      <BindItem id="item7" compid="chk_expsYn" propid="value" datasetid="ds_exhbnInfo" columnid="EXPS_YN"/>
      <BindItem id="item13" compid="chk_notLogn_Inc_Yn" propid="value" datasetid="ds_exhbnInfo" columnid="NOTLOGN_INC_YN"/>
    </Bind>
    <Script type="xscript5.1"><![CDATA[/*******************************************************
  PROJECT NAME : 기획전 - 상세/수정
  CREATION DATES : 2022.03.07
*******************************************************/

/* 스크립트 인클루드 */
include "CO::coUtils.xjs";
include "OD::odUtils.xjs";
include "SA::saUtils.xjs";
/* ===============================================================
 * 0. Form Variable
 *  - Form 변수 영역
 * =============================================================== 
 */
//var fv_변수명;
var fv_foDomainUrl = "";			// fo 도메인 주소
var fv_foBoDomainUrl = "";			// fo bo 미리보기 도메인 주소
var fv_foMobileDomainUrl = "";		// fo 모바일 도메인 주소
var fv_foBoMobileDomainUrl = "";	// fo bo 미리보기 모바일 도메인 주소
var fv_coCd = "";					// 선택한 회사코드
var fv_mallSprCd = "";				// 선택한 몰구분코드
var fv_exhbnSeq = "";				// 선택한 기획전순번
var fv_pageNum = "";				// 현재 페이지번호
var curImgBtnName = "";
this.maxFileSize = "10";
/* ===============================================================
 * 1. Form Load
 *  - Form 로드시 실행
 * =============================================================== 
 */
this.SSP_BO_NA_03_onload = function(obj:Form, e:nexacro.LoadEventInfo)
{
	// 공통 함수 호출(필수)
	this.gfn_formOnLoad(this);

	// 초기화
	this.fn_init("VAL_INIT"); 
	this.fn_init("FORM_INIT");
	this.fn_init("CODE_INIT");
}

this.fn_onkeyup = function(obj:nexacro.Form,e:nexacro.KeyEventInfo)
{
	//ESC : 닫기기능
	if(e.keycode == 27){
		this.close();
	}
};








/* =============================================================== 
 * 2. transaction
 *  - transaction 영역
 * =============================================================== 
 */

/**
 * 공통코드 값 조회
 */
this.fn_comCdList = function()
{
	this.ds_searchComCd.clearData();
	var nRow = this.ds_searchComCd.addRow();

	this.ds_searchComCd.setColumn(nRow, "CODE_LIST", "MALL_SPR_CD,EXHBN_SPR_CD,EXPS_NOTIC_SPR_CD,LST_VIEW_TYPE_CD");
	this.ds_searchComCd.setColumn(nRow, "LANG_CD", "KO");
	
	var sSvcId = "comCdList";  
	var sUrl = "/co/select-common-code-list.do";
	var sInData = "ds_search=ds_searchComCd"
	var sOutData = "ds_comboMallSprCd=ds_output1 ds_comboExhbnSprCd=ds_output2 ds_comboNoticSprCd=ds_output3 ds_comboLstViewTypeCd=ds_output4";
	var sArg = "";
	var sCallback = "fn_callbackFunction"; 
	 
	this.gfn_transaction(sSvcId, sUrl, sInData, sOutData, sArg, sCallback);
};

/**
 * 기획전 상세 정보 조회
 */
this.fn_exhbnInfo = function ()
{
	var sSvcId = "exhbnInfo";  
	var sUrl = "/sa/exhbn/select-exhbn-info.do";
	var sInData = "ds_search=ds_search"
	var sOutData = "ds_exhbnInfo=ds_output1 ds_gridExhbnOprUnitList=ds_output2 ds_exhbnCatgPrdDtl=ds_output3 ds_gridExhbnCatgDtl=ds_output4 ds_gridExhbnCatgPrdDtl=ds_output5";
	var sArg = "";
	var sCallback = "fn_callbackFunction";
	
	this.gfn_transaction(sSvcId, sUrl, sInData, sOutData, sArg, sCallback);
};

/**
 * 운영단위ID 유효성 검사
 */
this.fn_oprUnitCheck = function()
{
	var sSvcId = "oprUnitCheck";  
	var sUrl = "/sa/com/select-opr-unit-check-list.do";
	var sInData = "ds_searchOprUnitCheckList=ds_searchOprUnitCheckList:A"
	var sOutData = "ds_oprUnitList=ds_output1";
	var sArg = "";
	var sCallback = "fn_callbackFunction"; 
	 
	this.gfn_transaction(sSvcId, sUrl, sInData, sOutData, sArg, sCallback);
}

/**
 * 상품ID 유효성 검사
 */
this.fn_prdIdCheck = function()
{
	this.ds_search.setColumn(0, "MALL_SPR_CD", this.cbx_mallSprCd.value);
	
	var sSvcId = "prdIdCheck";  
	var sUrl = "/sa/com/select-prd-id-check-list.do";
	var sInData = "ds_search=ds_search:A ds_searchPrdIdCheckList=ds_searchPrdIdCheckList:A"
	var sOutData = "ds_prdInfoList=ds_output1";
	var sArg = "";
	var sCallback = "fn_callbackFunction"; 
	 
	this.gfn_transaction(sSvcId, sUrl, sInData, sOutData, sArg, sCallback);
}

/**
 * 기획전 삭제
 */
this.fn_deleteExhbnInfo = function ()
{
	if ( confirm(this.fn_getMessage("ERRN000048"))) // 삭제하시겠습니까?
	{
		var sSvcId = "deleteExhbnInfo";  
		var sUrl = "/sa/exhbn/delete-exhbn-info.do";
		var sInData = "ds_search=ds_search"
		var sOutData = "";
		var sArg = "";
		var sCallback = "fn_callbackFunction";
		
		this.gfn_transaction(sSvcId, sUrl, sInData, sOutData, sArg, sCallback);
	}
};

/**
 * 신규 데이터 수정/삭제
 */
this.fn_saveExhbnInfo = function()
{
	var sSvcId = "saveExhbnInfo";  
	var sUrl = "/sa/exhbn/save-exhbn-info.do";
	var sInData = "ds_save=ds_exhbnInfo:A ds_save2=ds_gridExhbnOprUnitList:A ds_save3=ds_exhbnCatgPrdDtl:A ds_save4=ds_gridExhbnCatgDtl:A ds_save5=ds_gridExhbnCatgPrdDtl:A"
	var sOutData = "";
	var sArg = "";
	var sCallback = "fn_callbackFunction"; 
	 
	this.gfn_transaction(sSvcId, sUrl, sInData, sOutData, sArg, sCallback);
}










/* =============================================================== 
 * 3. CallBack
 *  - transaction 후 처리 영역
 * =============================================================== 
 */

/**
 * 공통 callback
 */
this.fn_callbackFunction = function(svcID, errorCode, errorMsg)
{
	if(errorCode < 0)
	{
		alert(errorMsg);
		return;
	}
	
	switch (svcID)
	{
		case "comCdList" :

			this.rdo_exhbnSprCd.set_index(0);
			
			this.rdo_noticSprCd.set_index(0);

			this.cbx_mallSprCd.set_index(0);
			
			// 기획전 상세 정보 조회
			
			this.ds_search.clearData();
			var nRow = this.ds_search.addRow();
			
			this.ds_search.setColumn(nRow, "CO_CD", this.fv_coCd);
			this.ds_search.setColumn(nRow, "EXHBN_SEQ", this.fv_exhbnSeq);
			
			this.fn_exhbnInfo();

			break;

		case "exhbnInfo" :

			this.fn_exhbnSprCdSet();
			
			this.fn_noticSprCdSet();
			
			//this.fn_mallSprCdSet();
			if (this.cbx_mallSprCd.value == "10")
			{
				// 10 : SSP Mall
				
				this.rdo_mainExpsYn.set_enable(true);
			}
			else
			{
				// 20 : R&D Mall
				
				this.rdo_mainExpsYn.set_index(1);
				
				this.rdo_mainExpsYn.set_enable(false);
				
				this.fn_mainExpsYnSet();
			}

			this.fn_mainExpsYnSet();
			
			var sNmList = "";
		
			for(var i=0; i<this.ds_exhbnCatgPrdDtl.getRowCount(); i++)
			{
				sNmList += this.ds_exhbnCatgPrdDtl.getColumn(i, "PRD_ID_VIEW") + ",";
			}
			
			sNmList = sNmList.substring(0, sNmList.length-1);
		
			this.edt_prdIdNm.set_value(sNmList);

			this.fn_setLenByte(this.edt_exhbnNm.value, 300, "00");
			if(!this.gfn_isNull(this.txt_exhbnDesc.value)) {
				this.fn_setLenByte(this.txt_exhbnDesc.value, 2000, "09");	
			}

			var nRow = this.ds_gridExhbnCatgDtl.rowposition;

			if (nRow >= 0)
			{
				var sExhbnCatgSeq = this.ds_gridExhbnCatgDtl.getColumn(nRow, "EXHBN_CATG_SEQ");

				this.ds_gridExhbnCatgPrdDtl.filter("EXHBN_CATG_SEQ == '" + sExhbnCatgSeq + "'");	
			}
			else
			{
				this.ds_gridExhbnCatgPrdDtl.filter("EXHBN_CATG_SEQ == 'NOTHING'");	
			}
			
			var sTotText = "(<b v='true'>총 " + this.ds_gridExhbnCatgPrdDtl.getRowCount() + "건 </b>)";			
			this.sta_totalCountPrdDtl.set_text(sTotText);

			var sTotText = "(<b v='true'>총 " + this.ds_gridExhbnOprUnitList.getRowCount() + "건 </b>)";			
			this.sta_totalCountOprUnit.set_text(sTotText);
			
			// 미리보기 설정
			
			var sFoDomain = "";
			var sFoParameter = "";

			if (this.cbx_mallSprCd.value == "10")
			{
				// 10 : SSP Mall
				
				sFoDomain = nexacro.getApplication().gds_sspHosts.getColumn(0, "HOST_SSP");
			}
			else if (this.cbx_mallSprCd.value == "20")
			{
				// 20 : R&D Mall
				
				sFoDomain = nexacro.getApplication().gds_sspHosts.getColumn(0, "HOST_RND");
			}
			
			sFoParameter = sFoParameter + "?searchCoCd=" + this.ds_exhbnInfo.getColumn(0, "CO_CD");
			sFoParameter = sFoParameter + "&searchExhbnSeq=" + this.ds_exhbnInfo.getColumn(0, "EXHBN_SEQ");
			
			//2022.09.16 : SSP-914 (불필요한 파라미터 삭제 searchExhbnSprCd, searchMallSprCd)
			
			
			var sFoUrl = "";
			var sFoMobileUrl = "";

			sFoUrl = sFoDomain + "/sa/pmt/ssp-pw-pe-02-bo.do" + sFoParameter;	
			sFoMobileUrl = sFoDomain + "/mo/sa/pmt/ssp-mw-pe-02-bo.do" + sFoParameter;	
			
			this.fv_foDomainUrl = sFoUrl.replace("-bo", "");
			this.fv_foBoDomainUrl = sFoUrl;
			
			this.fv_foMobileDomainUrl  = sFoMobileUrl.replace("-bo", "");
			this.fv_foBoMobileDomainUrl = sFoMobileUrl;

			this.edt_foUrl.set_value(this.fv_foDomainUrl);
			this.edt_foMobileUrl.set_value(this.fv_foMobileDomainUrl);
				
			// 미리보기 설정
			
			this.fv_mallSprCd = this.ds_exhbnInfo.getColumn(0, "MALL_SPR_CD");
			
			break;

		case "oprUnitCheck" :

			var tempOprUnitId = "";
			
			for (var x = 0; x < this.ds_oprUnitList.getRowCount(); x++)
			{
				var sBzplcId = this.ds_oprUnitList.getColumn(x, "BZPLC_ID");
				var sOprUnitId = this.ds_oprUnitList.getColumn(x, "OPR_UNIT_ID");
				var sOprUnitNm = this.ds_oprUnitList.getColumn(x, "OPR_UNIT_NM");

				if (sOprUnitNm == "" || sOprUnitNm == undefined)
				{
					tempOprUnitId = tempOprUnitId + "사업장ID : " + sBzplcId + " / 운영단위ID : " + sOprUnitId + "\n";
				}
			}
			
			if (tempOprUnitId != "")
			{
				this.fn_textCopy(this.fn_getMessage("ERRN000023", tempOprUnitId));
				alert(this.fn_getMessage("ERRN000023", tempOprUnitId)); // 없는 운영단위ID를 입력하였습니다. 운영단위ID를 확인해주세요.\n&1
			}

			var totalCount2 = 0;
			tempOprUnitId = "";
	
			for (var x = 0; x < this.ds_oprUnitList.getRowCount(); x++)
			{
				var sBzplcId = this.ds_oprUnitList.getColumn(x, "BZPLC_ID");
				var sOprUnitId = this.ds_oprUnitList.getColumn(x, "OPR_UNIT_ID");
				var sOprUnitNm = this.ds_oprUnitList.getColumn(x, "OPR_UNIT_NM");
			
				if (sOprUnitNm != "" && sOprUnitNm != undefined)
				{
					var findRow = this.ds_gridExhbnOprUnitList.findRowExpr("BZPLC_ID == '" + sBzplcId + "' && OPR_UNIT_ID == '" + sOprUnitId + "'");
				
					if(findRow < 0)
					{
						var nRow = this.ds_gridExhbnOprUnitList.addRow();

						this.ds_gridExhbnOprUnitList.setColumn(nRow, "CO_CD", this.fv_coCd);
						this.ds_gridExhbnOprUnitList.setColumn(nRow, "EXHBN_SEQ", "");
						this.ds_gridExhbnOprUnitList.setColumn(nRow, "BZPLC_ID", sBzplcId);
						this.ds_gridExhbnOprUnitList.setColumn(nRow, "OPR_UNIT_ID", sOprUnitId);
						this.ds_gridExhbnOprUnitList.setColumn(nRow, "OPR_UNIT_NM", sOprUnitNm);
					}
					else
					{
						totalCount2 = totalCount2 + 1;
							
						tempOprUnitId = tempOprUnitId + "사업장ID : " + sBzplcId + " / 운영단위ID : " + sOprUnitId + "\n";
					}
				}
			}
		
			if (totalCount2 > 0)
			{
				this.fn_textCopy(this.fn_getMessage("ERRN000024", tempOprUnitId));
				alert(this.fn_getMessage("ERRN000024", tempOprUnitId)); // 운영단위ID가 중복되었습니다. 운영단위ID를 확인해주세요.\n&1
			}

			var sTotText = "(<b v='true'>총 " + this.ds_gridExhbnOprUnitList.getRowCount() + "건 </b>)";			
			this.sta_totalCountOprUnit.set_text(sTotText);

			break;

		case "prdIdCheck" :

			var tempPrdId = "";
			
			for (var x = 0; x < this.ds_prdInfoList.getRowCount(); x++)
			{
				var sPrdId = this.ds_prdInfoList.getColumn(x, "PRD_ID");
				var sPrdIdView = this.ds_prdInfoList.getColumn(x, "PRD_ID_VIEW");
				var sPrdNm = this.ds_prdInfoList.getColumn(x, "PRD_NM");
				
				if (sPrdNm == "" || sPrdNm == undefined)
				{
					tempPrdId = tempPrdId + sPrdIdView + ",";
				}
			}
			
			tempPrdId = tempPrdId.substring(0, tempPrdId.length-1);
			
			if (tempPrdId != "")
			{
				this.fn_textCopy(this.fn_getMessage("ERRN000025", tempPrdId));
				alert(this.fn_getMessage("ERRN000025", tempPrdId)); // 없는 상품ID가 있습니다. 상품ID를 확인해주세요.\n&1
			}

			var nRow = this.ds_gridExhbnCatgDtl.rowposition;	// this.grid_exhbnCatgDtl.currentrow;
			var sExhbnCatgSeq = this.ds_gridExhbnCatgDtl.getColumn(nRow, "EXHBN_CATG_SEQ");

			var totalCount2 = 0;
			tempPrdId = "";
	
			for (var x = 0; x < this.ds_prdInfoList.getRowCount(); x++)
			{
				var sPrdId = this.ds_prdInfoList.getColumn(x, "PRD_ID");
				var sPrdIdView = this.ds_prdInfoList.getColumn(x, "PRD_ID_VIEW");
				var sPrdNm = this.ds_prdInfoList.getColumn(x, "PRD_NM");
				var sAttrVal = this.ds_prdInfoList.getColumn(x, "ATTR_VAL");
				var sMnfr = this.ds_prdInfoList.getColumn(x, "MNFR");
				var sPubOnlySprNm = this.ds_prdInfoList.getColumn(x, "PUB_ONLY_SPR_NM");
				var sReprPrdSprNm = this.ds_prdInfoList.getColumn(x, "REPR_PRD_SPR_NM");
				var sPrdUseYnNm = this.ds_prdInfoList.getColumn(x, "PRD_USE_YN_NM");
				var sDispStatsNm = this.ds_prdInfoList.getColumn(x, "DISP_STATS_NM");
			
				if (sPrdNm != "" && sPrdNm != undefined)
				{
					var findRow = this.ds_gridExhbnCatgPrdDtl.findRowExpr("PRD_ID == '" + sPrdId + "'");

					if(findRow < 0)
					{
						var nRow = this.ds_gridExhbnCatgPrdDtl.addRow();
						
						this.ds_gridExhbnCatgPrdDtl.setColumn(nRow, "CO_CD", this.fv_coCd);
						this.ds_gridExhbnCatgPrdDtl.setColumn(nRow, "EXHBN_SEQ", "");
						this.ds_gridExhbnCatgPrdDtl.setColumn(nRow, "EXHBN_CATG_SEQ", sExhbnCatgSeq);
						this.ds_gridExhbnCatgPrdDtl.setColumn(nRow, "PRD_ID", sPrdId);
						this.ds_gridExhbnCatgPrdDtl.setColumn(nRow, "PRD_ID_VIEW", sPrdIdView);
						this.ds_gridExhbnCatgPrdDtl.setColumn(nRow, "PRD_NM", sPrdNm);
						this.ds_gridExhbnCatgPrdDtl.setColumn(nRow, "ATTR_VAL", sAttrVal);
						this.ds_gridExhbnCatgPrdDtl.setColumn(nRow, "MNFR", sMnfr);
						this.ds_gridExhbnCatgPrdDtl.setColumn(nRow, "PUB_ONLY_SPR_NM", sPubOnlySprNm);
						this.ds_gridExhbnCatgPrdDtl.setColumn(nRow, "REPR_PRD_SPR_NM", sReprPrdSprNm);
						this.ds_gridExhbnCatgPrdDtl.setColumn(nRow, "PRD_USE_YN_NM", sPrdUseYnNm);
						this.ds_gridExhbnCatgPrdDtl.setColumn(nRow, "DISP_STATS_NM", sDispStatsNm);
						this.ds_gridExhbnCatgPrdDtl.setColumn(nRow, "DELETE_ROW", "");
					}
					else
					{
						totalCount2 = totalCount2 + 1;
							
						tempPrdId = tempPrdId + sPrdIdView + ",";
					}
				}
			}
		
			if (totalCount2 > 0)
			{
				tempPrdId = tempPrdId.substring(0, tempPrdId.length-1);
				this.fn_textCopy(this.fn_getMessage("ERRN000026", tempPrdId));
				alert(this.fn_getMessage("ERRN000026", tempPrdId)); // 상품이 중복되었습니다. 상품ID를 확인해주세요.\n&1
			}

			this.ds_gridExhbnCatgPrdDtl.filter("EXHBN_CATG_SEQ == '" + sExhbnCatgSeq + "'");

			var sTotText = "(<b v='true'>총 " + this.ds_gridExhbnCatgPrdDtl.getRowCount() + "건 </b>)";			
			this.sta_totalCountPrdDtl.set_text(sTotText);

			break;

		case "deleteExhbnInfo" :

			if( errorCode == -1 || errorCode == -100)
			{
				//사용자 지정 에러코드 -100
				alert(errorMsg);
			}
			else
			{
				alert(this.fn_getMessage("ERRN000031")); // 삭제되었습니다.
				
				var resData = {};
				var resString = "";
				
				resData.RETURN_YN = "Y";
				
				// json string 변경
				resString = JSON.stringify(resData);	
				
				// return
				this.close(resString);
			}				
			
			break;

		case "saveExhbnInfo" :

			if( errorCode == -1 || errorCode == -100)
			{
				//사용자 지정 에러코드 -100
				alert(errorMsg);
			}
			else
			{
				alert(this.fn_getMessage("ERRN000030")); // 저장되었습니다.
				
				var resData = {};
				var resString = "";
				
				resData.RETURN_YN = "Y";
				
				// json string 변경
				resString = JSON.stringify(resData);	
				
				// return
				this.close(resString);
			}				
			
			break;

		default : 
		
			break;
	}
}

/**
 * 싱글/멀티 팝업 공통 callback
 */
this.fn_popupCallbackFunction = function(sPopupId, sRetValue)
{
	if(this.gfn_isNull(sRetValue)) 
	{
		return;
	}
	
	var retObj = JSON.parse(sRetValue);
	
	switch(sPopupId)
	{
		case "btn_searchOprUnit" :

			var totalCount2 = 0;
			var tempOprUnitId = "";
			
			for(var i=0; i<retObj.length; i++)
			{
				var rowData = JSON.parse(retObj[i]);
				
				var findRow = this.ds_gridExhbnOprUnitList.findRowExpr("BZPLC_ID == '" + rowData.OPR_BZPLC_ID + "' && OPR_UNIT_ID == '" + rowData.OPR_UNIT_ID + "'");
				
				if(findRow < 0)
				{
					var nRow = this.ds_gridExhbnOprUnitList.addRow();

					this.ds_gridExhbnOprUnitList.setColumn(nRow, "CO_CD", this.fv_coCd);
					this.ds_gridExhbnOprUnitList.setColumn(nRow, "EXHBN_SEQ", "");
					this.ds_gridExhbnOprUnitList.setColumn(nRow, "BZPLC_ID", rowData.OPR_BZPLC_ID);
					this.ds_gridExhbnOprUnitList.setColumn(nRow, "OPR_UNIT_ID", rowData.OPR_UNIT_ID);
					this.ds_gridExhbnOprUnitList.setColumn(nRow, "OPR_UNIT_NM", rowData.OPR_UNIT_NM);
				}
				else
				{
					totalCount2 = totalCount2 + 1;
						
					tempOprUnitId = tempOprUnitId + "사업장ID : " + rowData.OPR_BZPLC_ID + " / 운영단위ID : " + rowData.OPR_UNIT_ID + "\n";
				}
			}

			if (totalCount2 > 0)
			{
				this.fn_textCopy(this.fn_getMessage("ERRN000024", tempOprUnitId));
				alert(this.fn_getMessage("ERRN000024", tempOprUnitId)); // 운영단위ID가 중복되었습니다. 운영단위ID를 확인해주세요.\n&1
			}

			var sTotText = "(<b v='true'>총 " + this.ds_gridExhbnOprUnitList.getRowCount() + "건 </b>)";			
			this.sta_totalCountOprUnit.set_text(sTotText);

			break;

		case "btn_searchOprUnitMulText" :
		
			var retValue = retObj.textValue;
			
			if (retValue != "")
			{
				this.ds_searchOprUnitCheckList.clearData();
				
				var sTempValue = retValue.split(",");

				for (var x = 0; x < sTempValue.length; x++)
				{
					var sTempValueSplit = sTempValue[x].split("	");
					
					var sBzplcId = sTempValueSplit[0];
					var sOprUnitId = sTempValueSplit[1];

					if (sBzplcId != "" && sBzplcId != undefined && sOprUnitId != "" && sOprUnitId != undefined)
					{
						var nRow = this.ds_searchOprUnitCheckList.addRow();
						
						this.ds_searchOprUnitCheckList.setColumn(nRow, "CO_CD", this.fv_coCd);
						this.ds_searchOprUnitCheckList.setColumn(nRow, "BZPLC_ID", sBzplcId);
						this.ds_searchOprUnitCheckList.setColumn(nRow, "OPR_UNIT_ID", sOprUnitId);
					}
				}
				
				this.fn_oprUnitCheck();
			}

			break;

		case "btn_searchPrdId0" :
		
			var totalCount = 0;
			
			for(var i=0; i<retObj.length; i++)
			{
				var rowData = JSON.parse(retObj[i]);
				
				var findRow = this.ds_exhbnCatgPrdDtl.findRowExpr("PRD_ID == '" + rowData.PRD_ID + "'");
				
				if(findRow < 0)
				{
					totalCount = totalCount + 1;
				}
			}
			
			if ((this.ds_exhbnCatgPrdDtl.getRowCount() + totalCount) > 3)
			{
				alert(this.fn_getMessage("ERRN000003")); // 최대 3개까지만 추가할 수 있습니다.
			}
			else
			{
				var totalCount2 = 0;
				var tempPrdId = "";
			
				for(var i=0; i<retObj.length; i++)
				{
					var rowData = JSON.parse(retObj[i]);
					
					var findRow = this.ds_exhbnCatgPrdDtl.findRowExpr("PRD_ID == '" + rowData.PRD_ID + "'");

					if(findRow < 0)
					{
						var nRow = this.ds_exhbnCatgPrdDtl.addRow();
						
						this.ds_exhbnCatgPrdDtl.setColumn(nRow, "CO_CD", this.fv_coCd);
						this.ds_exhbnCatgPrdDtl.setColumn(nRow, "EXHBN_SEQ", "");
						this.ds_exhbnCatgPrdDtl.setColumn(nRow, "EXHBN_CATG_SEQ", "0");
						this.ds_exhbnCatgPrdDtl.setColumn(nRow, "PRD_ID", rowData.PRD_ID);
						this.ds_exhbnCatgPrdDtl.setColumn(nRow, "PRD_ID_VIEW", rowData.PRD_ID_VIEW);
						this.ds_exhbnCatgPrdDtl.setColumn(nRow, "PRD_NM", rowData.PRD_NM);
						this.ds_exhbnCatgPrdDtl.setColumn(nRow, "ATTR_VAL", rowData.ATTR_VAL);
						this.ds_exhbnCatgPrdDtl.setColumn(nRow, "MNFR", rowData.MNFR_NM);
					}
					else
					{
						totalCount2 = totalCount2 + 1;
								
						tempPrdId = tempPrdId + rowData.PRD_ID_VIEW + ",";
					}
				}

				if (totalCount2 > 0)
				{
					tempPrdId = tempPrdId.substring(0, tempPrdId.length-1);
					this.fn_textCopy(this.fn_getMessage("ERRN000026", tempPrdId));
					alert(this.fn_getMessage("ERRN000026", tempPrdId)); // 상품이 중복되었습니다. 상품ID를 확인해주세요.\n&1
				}
				
				var sNmList = "";
			
				for(var i=0; i<this.ds_exhbnCatgPrdDtl.getRowCount(); i++)
				{
					sNmList += this.ds_exhbnCatgPrdDtl.getColumn(i, "PRD_ID_VIEW") + ",";
				}
				
				sNmList = sNmList.substring(0, sNmList.length-1);
			
				this.edt_prdIdNm.set_value(sNmList);
			}

			break;
	
		case "btn_searchCpnEvtNo" :

			var rowData = JSON.parse(sRetValue);
			
			this.edt_cpnEvtNo.set_value(rowData.CPN_EVT_NO);
			this.edt_cpnEvtNoNm.set_value(rowData.CPN_NM);
			
			break;
	
		case "btn_searchPrdId1" :

			var nRow = this.ds_gridExhbnCatgDtl.rowposition;	// this.grid_exhbnCatgDtl.currentrow;
			var sExhbnCatgSeq = this.ds_gridExhbnCatgDtl.getColumn(nRow, "EXHBN_CATG_SEQ");

			var totalCount2 = 0;
			var tempPrdId = "";
		
			for(var i=0; i<retObj.length; i++)
			{
				var rowData = JSON.parse(retObj[i]);
				
				var findRow = this.ds_gridExhbnCatgPrdDtl.findRowExpr("PRD_ID == '" + rowData.PRD_ID + "'");

				if(findRow < 0)
				{
					var nRow = this.ds_gridExhbnCatgPrdDtl.addRow();
					
					this.ds_gridExhbnCatgPrdDtl.setColumn(nRow, "CO_CD", this.fv_coCd);
					this.ds_gridExhbnCatgPrdDtl.setColumn(nRow, "EXHBN_SEQ", "");
					this.ds_gridExhbnCatgPrdDtl.setColumn(nRow, "EXHBN_CATG_SEQ", sExhbnCatgSeq);
					this.ds_gridExhbnCatgPrdDtl.setColumn(nRow, "PRD_ID", rowData.PRD_ID);
					this.ds_gridExhbnCatgPrdDtl.setColumn(nRow, "PRD_ID_VIEW", rowData.PRD_ID_VIEW);
					this.ds_gridExhbnCatgPrdDtl.setColumn(nRow, "PRD_NM", rowData.PRD_NM);
					this.ds_gridExhbnCatgPrdDtl.setColumn(nRow, "ATTR_VAL", rowData.ATTR_VAL);
					this.ds_gridExhbnCatgPrdDtl.setColumn(nRow, "MNFR", rowData.MNFR_NM);
					this.ds_gridExhbnCatgPrdDtl.setColumn(nRow, "PUB_ONLY_SPR_NM", "");
					this.ds_gridExhbnCatgPrdDtl.setColumn(nRow, "REPR_PRD_SPR_NM", "");
					this.ds_gridExhbnCatgPrdDtl.setColumn(nRow, "PRD_USE_YN_NM", "");
					this.ds_gridExhbnCatgPrdDtl.setColumn(nRow, "DISP_STATS_NM", "");
					this.ds_gridExhbnCatgPrdDtl.setColumn(nRow, "DELETE_ROW", "");
				}
				else
				{
					totalCount2 = totalCount2 + 1;
							
					tempPrdId = tempPrdId + rowData.PRD_ID_VIEW + ",";
				}
			}
			
			if (totalCount2 > 0)
			{
				tempPrdId = tempPrdId.substring(0, tempPrdId.length-1);
				this.fn_textCopy(this.fn_getMessage("ERRN000026", tempPrdId));
				alert(this.fn_getMessage("ERRN000026", tempPrdId)); // 상품이 중복되었습니다. 상품ID를 확인해주세요.\n&1
			}
			
			this.ds_gridExhbnCatgPrdDtl.filter("EXHBN_CATG_SEQ == '" + sExhbnCatgSeq + "'");

			var sTotText = "(<b v='true'>총 " + this.ds_gridExhbnCatgPrdDtl.getRowCount() + "건 </b>)";			
			this.sta_totalCountPrdDtl.set_text(sTotText);

			break;
	
		case "btn_searchPrdIdMulText1" :
		
			var retValue = retObj.textValue;
			
			if (retValue != "")
			{
				this.ds_searchPrdIdCheckList.clearData();
				
				var sTempValue = retValue.split(",");

				for (var x = 0; x < sTempValue.length; x++)
				{
					var sPrdId = sTempValue[x];
				
					if (sPrdId != "")
					{
						var nRow = this.ds_searchPrdIdCheckList.addRow();
						
						this.ds_searchPrdIdCheckList.setColumn(nRow, "CO_CD", this.fv_coCd);
						this.ds_searchPrdIdCheckList.setColumn(nRow, "PRD_ID", sPrdId);
					}
				}

				this.fn_prdIdCheck();
			}

			break;

		default : 
		
			break;
	}
}










/* =============================================================== 
 * 4. 외부 호출 FUNCTION 영역
 * =============================================================== 
 */

/**
 * 화면 설정 함수
 */
this.cfn_formInit = function()
{
	// 필수 설정
	this.sta_exhbnSprCd.uEssentiel = "true";
	this.sta_noticSprCd.uEssentiel = "true";
	this.sta_mallSprCd.uEssentiel = "true";
	this.sta_mainExpsYn.uEssentiel = "true";
	this.sta_dispDt.uEssentiel = "true";
	this.sta_exhbnNm.uEssentiel = "true";
	this.sta_mainImage.uEssentiel = "false";
	this.sta_prdIdNm.uEssentiel = "false";
	this.sta_bnrImage.uEssentiel = "false";
	this.sta_lpageImage.uEssentiel = "true";
	this.sta_catgNm.uEssentiel = "true";
	this.sta_catgDispSo.uEssentiel = "true";
	this.sta_exhbnCatgPrdDtl.uEssentiel = "true";
	this.sta_useYn.uEssentiel = "true";
	
	// grid 초기 설정
	this.grid_OprUnit.uSortFlag = "true";
	this.grid_OprUnit.uServerSortFlag = "false";
	this.grid_OprUnit.uCellSizeType = "true";
}










/* =============================================================== 
 * 5. event action
 *  - dataset 및 component 이벤트 영역
 * =============================================================== 
 */

/**
 * 기획전 구분 값 변경 시
 */
this.rdo_exhbnSprCd_onitemchanged = function(obj:nexacro.Radio,e:nexacro.ItemChangeEventInfo)
{
	this.fn_exhbnSprCdSet();
};

/**
 * 게시구분 값 변경 시
 */
this.rdo_noticSprCd_onitemchanged = function(obj:nexacro.Radio,e:nexacro.ItemChangeEventInfo)
{
	this.fn_noticSprCdSet();
};

/**
 * 그리드 cell 클릭 시
 */
this.grid_OprUnit_oncellclick = function(obj:nexacro.Grid,e:nexacro.GridClickEventInfo)
{
	var sEditType = obj.getCellProperty("body", e.cell, "edittype");
	
	if(sEditType == "button")
	{
		if ( confirm(this.fn_getMessage("ERRN000048"))) // 삭제하시겠습니까?
		{
			this.ds_gridExhbnOprUnitList.deleteRow(e.row);
			
			var sTotText = "(<b v='true'>총 " + this.ds_gridExhbnOprUnitList.getRowCount() + "건 </b>)";			
			this.sta_totalCountOprUnit.set_text(sTotText);
		}
	}	
};

/**
 * 로그인운영단위 검색 아이콘 클릭 시
 */
this.btn_searchOprUnit_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	var oArg = { coCd : this.fv_coCd
	           }; 

	var oOption = { top : "-1"
	              , left : "-1"
	              , width : "-1"
	              , height : "-1"
	              , popuptype : "modal"	// modal:showModal, modeless:application.open, modalsync:showModalSync, modalwindow:showModalWindow
	              , layered : "false"
	              , opacity : "100"
	              , autosize : "true"
	              , titlebar : "true"
	              , title : "운영단위 조회"
	              };	

	this.gfn_openPopup(e.fromobject.id, "CO_POP::SSP_BO_PP_23.xfdl", oArg, "fn_popupCallbackFunction", oOption);	
};

/**
 * 로그인운영단위 멀티텍스트 아이콘 클릭 시
 */
this.btn_searchOprUnitMulText_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	var oArg = { coCd : this.fv_coCd
	           , textId : this.btn_searchOprUnitMulText
	           }; 

	var oOption = { top : "-1"
	              , left : "-1"
	              , width : "-1"
	              , height : "-1"
	              , popuptype : "modal"	// modal:showModal, modeless:application.open, modalsync:showModalSync, modalwindow:showModalWindow
	              , layered : "false"
	              , opacity : "100"
	              , autosize : "true"
	              , titlebar : "true"
	              , title : "멀티 텍스트"
	              };

	this.gfn_openPopup(e.fromobject.id, "SA::SSP_BO_SA_MSEARCH.xfdl", oArg, "fn_popupCallbackFunction", oOption);
};

/**
 * 몰 구분 값 변경 시
 */
this.cbx_mallSprCd_onitemchanged = function(obj:nexacro.Combo,e:nexacro.ItemChangeEventInfo)
{
	this.fn_mallSprCdSet();
};

/**
 * 메인 노출 여부 값 변경 시
 */
this.rdo_mainExpsYn_onitemchanged = function(obj:nexacro.Radio,e:nexacro.ItemChangeEventInfo)
{
	this.fn_mainExpsYnSet();
};

/**
 * 기획전 명 텍스트 입력 시
 */
this.edt_exhbnNm_onkeyup = function(obj:nexacro.Edit,e:nexacro.KeyEventInfo)
{
	this.fn_setLenByte(obj.value, 300, "00");
};

/**
 * 미리보기 버튼 클릭 시
 */
this.btn_prev_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	system.execBrowser(this.fv_foBoDomainUrl);
};

/**
 * 미리보기 버튼 클릭 시
 */
this.btn_mobilePrev_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	system.execBrowser(this.fv_foBoMobileDomainUrl);
};

/**
 * 메인 이미지 - PC 파일첨부 버튼 클릭 시
 */
this.btn_mainPcDocRegId_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	this.curImgBtnName = e.fromobject.id;
	
	this.fileDialog.set_accept(this.fileType);
	this.fileDialog.open('nexacro17', FileDialog.MULTILOAD);	
};

/**
 * 메인 이미지 - PC 삭제 아이콘 클릭 시
 */
this.btn_mainPcDocRegIdClear_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	this.edt_mainPcDocRegIdNm.set_value("");
	
	this.fileUpTrans.removeFile("mainPcDocRegId");
	
	var findRow = this.ds_file.findRowExpr("IMG_TYPE == 'mainPcDocRegId'");
	
	if (findRow >= 0)
	{
		this.ds_file.deleteRow(findRow);
	}
};

/**
 * 메인 이미지 - 모바일 파일첨부 버튼 클릭 시
 */
this.btn_mainMblDocRegId_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	this.curImgBtnName = e.fromobject.id;
	
	this.fileDialog.set_accept(this.fileType);
	this.fileDialog.open('nexacro17', FileDialog.MULTILOAD);	
};

/**
 * 메인 이미지 - 모바일 삭제 아이콘 클릭 시
 */
this.btn_mainMblDocRegIdClear_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	this.edt_mainMblDocRegIdNm.set_value("");
	
	this.fileUpTrans.removeFile("mainMblDocRegId");
	
	var findRow = this.ds_file.findRowExpr("IMG_TYPE == 'mainMblDocRegId'");
	
	if (findRow >= 0)
	{
		this.ds_file.deleteRow(findRow);
	}	
};

/**
 * 메인 노출 상품 상품검색 아이콘 클릭 시
 */
this.btn_searchPrdId0_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	var oArg = { coCd : this.fv_coCd
			   , mallSprCd : this.cbx_mallSprCd.value
	           }; 

	var oOption = { top : "-1"
	              , left : "-1"
	              , width : "-1"
	              , height : "-1"
	              , popuptype : "modal"	// modal:showModal, modeless:application.open, modalsync:showModalSync, modalwindow:showModalWindow
	              , layered : "false"
	              , opacity : "100"
	              , autosize : "true"
	              , titlebar : "true"
	              , title : "메인 노출 상품 조회"
	              };	

	this.gfn_openPopup(e.fromobject.id, "PR_POP::SSP_BO_PP_16.xfdl", oArg, "fn_popupCallbackFunction", oOption);
};

/**
 * 메인 노출 상품 삭제 아이콘 클릭 시
 */
this.btn_searchPrdIdClear0_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	var aDelArr = new Array();
	
	for(var i = 0; i< this.ds_exhbnCatgPrdDtl.rowcount; i++)
	{
		aDelArr.push(i);
	}

	// 메인 노출 상품 삭제
	this.ds_exhbnCatgPrdDtl.deleteMultiRows(aDelArr);
	
	// 입력 항목 영역
	this.edt_prdIdNm.set_value("");
};

/**
 * 배너 이미지 - PC 파일첨부 버튼 클릭 시
 */
this.btn_bnrPcDocRegId_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	this.curImgBtnName = e.fromobject.id;
	
	this.fileDialog.set_accept(this.fileType);
	this.fileDialog.open('nexacro17', FileDialog.MULTILOAD);	
};

/**
 * 배너 이미지 - PC 삭제 아이콘 클릭 시
 */
this.btn_bnrPcDocRegIdClear_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	this.edt_bnrPcDocRegIdNm.set_value("");
	
	this.fileUpTrans.removeFile("bnrPcDocRegId");
	
	var findRow = this.ds_file.findRowExpr("IMG_TYPE == 'bnrPcDocRegId'");
	
	if (findRow >= 0)
	{
		this.ds_file.deleteRow(findRow);
	}		
};

/**
 * 배너 이미지 - 모바일 파일첨부 버튼 클릭 시
 */
this.btn_bnrMblDocRegId_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	this.curImgBtnName = e.fromobject.id;
	
	this.fileDialog.set_accept(this.fileType);
	this.fileDialog.open('nexacro17', FileDialog.MULTILOAD);
};

/**
 * 배너 이미지 - 모바일 삭제 아이콘 클릭 시
 */
this.btn_bnrMblDocRegIdClear_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	this.edt_bnrMblDocRegIdNm.set_value("");
	
	this.fileUpTrans.removeFile("bnrMblDocRegId");
	
	var findRow = this.ds_file.findRowExpr("IMG_TYPE == 'bnrMblDocRegId'");
	
	if (findRow >= 0)
	{
		this.ds_file.deleteRow(findRow);
	}		
};

/**
 * LP 이미지 - PC 파일첨부 버튼 클릭 시
 */
this.btn_lpagePcDocRegId_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	this.curImgBtnName = e.fromobject.id;
	
	this.fileDialog.set_accept(this.fileType);
	this.fileDialog.open('nexacro17', FileDialog.MULTILOAD);	
};

/**
 * LP 이미지 - PC 삭제 아이콘 클릭 시
 */
this.btn_lpagePcDocRegIdClear_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	this.edt_lpagePcDocRegIdNm.set_value("");
	
	this.fileUpTrans.removeFile("lpagePcDocRegId");
	
	var findRow = this.ds_file.findRowExpr("IMG_TYPE == 'lpagePcDocRegId'");
	
	if (findRow >= 0)
	{
		this.ds_file.deleteRow(findRow);
	}
};

/**
 * LP 이미지 - 모바일 파일첨부 버튼 클릭 시
 */
this.btn_lpageMblDocRegId_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	this.curImgBtnName = e.fromobject.id;
	
	this.fileDialog.set_accept(this.fileType);
	this.fileDialog.open('nexacro17', FileDialog.MULTILOAD);	
};

/**
 * LP 이미지 - 모바일 삭제 아이콘 클릭 시
 */
this.btn_lpageMblDocRegIdClear_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	this.edt_lpageMblDocRegIdNm.set_value("");
	
	this.fileUpTrans.removeFile("lpageMblDocRegId");
	
	var findRow = this.ds_file.findRowExpr("IMG_TYPE == 'lpageMblDocRegId'");
	
	if (findRow >= 0)
	{
		this.ds_file.deleteRow(findRow);
	}	
};

/**
 * 쿠폰 선택 검색 아이콘 클릭 시
 */
this.btn_searchCpnEvtNo_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	var oArg = { coCd : this.fv_coCd
	           }; 

	var oOption = { top : "-1"
	              , left : "-1"
	              , width : "-1"
	              , height : "-1"
	              , popuptype : "modal"	// modal:showModal, modeless:application.open, modalsync:showModalSync, modalwindow:showModalWindow
	              , layered : "false"
	              , opacity : "100"
	              , autosize : "true"
	              , titlebar : "true"
	              , title : "쿠폰 조회"
	              };	

	this.gfn_openPopup(e.fromobject.id, "SA::SSP_BO_PP_29.xfdl", oArg, "fn_popupCallbackFunction", oOption);		
};

/**
 * 쿠폰 선택 삭제 아이콘 클릭 시
 */
this.btn_searchCpnEvtNoClear_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	this.edt_cpnEvtNo.set_value("");
	this.edt_cpnEvtNoNm.set_value("");	
};

/**
 * 쿠폰 이미지 - PC 파일첨부 버튼 클릭 시
 */
this.btn_cpnPcDocRegId_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	this.curImgBtnName = e.fromobject.id;
	
	this.fileDialog.set_accept(this.fileType);
	this.fileDialog.open('nexacro17', FileDialog.MULTILOAD);	
};

/**
 * 쿠폰 이미지 - PC 삭제 아이콘 클릭 시
 */
this.btn_cpnPcDocRegIdClear_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	this.edt_cpnPcDocRegIdNm.set_value("");
	
	this.fileUpTrans.removeFile("cpnPcDocRegId");
	
	var findRow = this.ds_file.findRowExpr("IMG_TYPE == 'cpnPcDocRegId'");
	
	if (findRow >= 0)
	{
		this.ds_file.deleteRow(findRow);
	}		
};

/**
 * 쿠폰 이미지 - 모바일 파일첨부 버튼 클릭 시
 */
this.btn_cpnMblDocRegId_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	this.curImgBtnName = e.fromobject.id;
	
	this.fileDialog.set_accept(this.fileType);
	this.fileDialog.open('nexacro17', FileDialog.MULTILOAD);
};

/**
 * 쿠폰 이미지 - 모바일 삭제 아이콘 클릭 시
 */
this.btn_cpnMblDocRegIdClear_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	this.edt_cpnMblDocRegIdNm.set_value("");
	
	this.fileUpTrans.removeFile("cpnMblDocRegId");
	
	var findRow = this.ds_file.findRowExpr("IMG_TYPE == 'cpnMblDocRegId'");
	
	if (findRow >= 0)
	{
		this.ds_file.deleteRow(findRow);
	}		
};

/**
 * 기획전 설명 텍스트 입력 시
 */
this.txt_exhbnDesc_onkeyup = function(obj:nexacro.TextArea,e:nexacro.KeyEventInfo)
{
	this.fn_setLenByte(obj.value, 2000, "09");	
};

/**
 * 그리드 cell 클릭 시
 */
this.grid_exhbnCatgDtl_oncellclick = function(obj:nexacro.Grid,e:nexacro.GridClickEventInfo)
{
	var objDs = obj.getBindDataset();
	var nRow = objDs.rowposition;
	
	var sExhbnCatgSeq = this.ds_gridExhbnCatgDtl.getColumn(nRow, "EXHBN_CATG_SEQ");
	
	this.ds_gridExhbnCatgPrdDtl.filter("EXHBN_CATG_SEQ == '" + sExhbnCatgSeq + "'");

	var sTotText = "(<b v='true'>총 " + this.ds_gridExhbnCatgPrdDtl.getRowCount() + "건 </b>)";			
	this.sta_totalCountPrdDtl.set_text(sTotText);
};

/**
 * 카테고리 삭제 버튼 클릭 시
 */
this.btn_catgDelete_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	var nRow = this.grid_exhbnCatgDtl.currentrow;
	
	if (nRow < 0)
	{
		alert(this.fn_getMessage("ERRN000004")); // 카테고리를 먼저 선택해야 합니다.
		return;
	}
	
	if ( confirm(this.fn_getMessage("ERRN000048"))) // 삭제하시겠습니까?
	{
		var nRow = this.ds_gridExhbnCatgDtl.rowposition;
		
		var sExhbnCatgSeq = this.ds_gridExhbnCatgDtl.getColumn(nRow, "EXHBN_CATG_SEQ");

		var aDelArr = new Array();
		
		for(var i = 0; i< this.ds_gridExhbnCatgPrdDtl.rowcount; i++)
		{
			if(this.ds_gridExhbnCatgPrdDtl.getColumn(i, "EXHBN_CATG_SEQ") == sExhbnCatgSeq)
			{
				aDelArr.push(i);
			}
		}
		
		// 기본 상품 삭제
		this.ds_gridExhbnCatgPrdDtl.deleteMultiRows(aDelArr);
		
		// 기본 상품 카테고리 삭제
		this.ds_gridExhbnCatgDtl.deleteRow(nRow);
		
		var nRow2 = this.ds_gridExhbnCatgDtl.rowposition;

		if (nRow2 >= 0)
		{
			var sExhbnCatgSeq2 = this.ds_gridExhbnCatgDtl.getColumn(nRow2, "EXHBN_CATG_SEQ");

			this.ds_gridExhbnCatgPrdDtl.filter("EXHBN_CATG_SEQ == '" + sExhbnCatgSeq2 + "'");	
		}
		else
		{
			this.ds_gridExhbnCatgPrdDtl.filter("EXHBN_CATG_SEQ == 'NOTHING'");	
		}
		
		var sTotText = "(<b v='true'>총 " + this.ds_gridExhbnCatgPrdDtl.getRowCount() + "건 </b>)";			
		this.sta_totalCountPrdDtl.set_text(sTotText);
	}
};

/**
 * 카테고리 추가 버튼 클릭 시
 */
this.btn_catgAdd_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{	
	var nRowCurr = this.ds_gridExhbnCatgDtl.rowposition;

	if (nRowCurr >= 0)
	{
		var sExhbnCatgSeq = this.ds_gridExhbnCatgDtl.getColumn(nRowCurr, "EXHBN_CATG_SEQ");
		var sCatgNm = this.ds_gridExhbnCatgDtl.getColumn(nRowCurr, "CATG_NM");
		var sCatgDispSo = this.ds_gridExhbnCatgDtl.getColumn(nRowCurr, "CATG_DISP_SO");
				
		if (this.edt_catgNm.value == "" || this.edt_catgNm.value == undefined)
		{
			alert(this.fn_getMessage("ERRN000001", "카테고리 명은")); // 카테고리 명은 필수 입력항목입니다.
			this.edt_catgNm.setFocus();
			return;
		}
		
		if (this.edt_catgDispSo.value == "" || this.edt_catgDispSo.value == undefined)
		{
			alert(this.fn_getMessage("ERRN000001", "카테고리 순서는")); // 카테고리 순서는 필수 입력항목입니다.
			this.edt_catgDispSo.setFocus();
			return;
		}

		this.ds_gridExhbnCatgDtlTemp.clearData();

		for(var i=0; i<this.ds_gridExhbnCatgDtl.getRowCount(); i++)
		{
			if (nRowCurr != i)
			{
				var nRowAdd = this.ds_gridExhbnCatgDtlTemp.addRow();
				
				this.ds_gridExhbnCatgDtlTemp.setColumn(nRowAdd, "CO_CD", this.ds_gridExhbnCatgDtl.getColumn(i, "CO_CD"));
				this.ds_gridExhbnCatgDtlTemp.setColumn(nRowAdd, "EXHBN_SEQ", this.ds_gridExhbnCatgDtl.getColumn(i, "EXHBN_SEQ"));
				this.ds_gridExhbnCatgDtlTemp.setColumn(nRowAdd, "EXHBN_CATG_SEQ", this.ds_gridExhbnCatgDtl.getColumn(i, "EXHBN_CATG_SEQ"));
				this.ds_gridExhbnCatgDtlTemp.setColumn(nRowAdd, "CATG_NM", this.ds_gridExhbnCatgDtl.getColumn(i, "CATG_NM"));
				this.ds_gridExhbnCatgDtlTemp.setColumn(nRowAdd, "CATG_DISP_SO", this.ds_gridExhbnCatgDtl.getColumn(i, "CATG_DISP_SO"));
			}
		}

		var findRow = this.ds_gridExhbnCatgDtlTemp.findRowExpr("CATG_DISP_SO == '" + this.edt_catgDispSo.value + "'");

		if(findRow >= 0)
		{
			alert(this.fn_getMessage("ERRN000005")); // 동일한 순서가 있습니다. 확인 후 재 입력해 주시기 바랍니다.
			this.edt_catgDispSo.setFocus();
			return;
		}

		if (this.ds_gridExhbnCatgPrdDtl.getRowCount() <= 0)
		{
			alert(this.fn_getMessage("ERRN000006")); // 기본 상품은 최소 1개는 추가해야 합니다.
			return;
		}
	}
	
	var nRow = this.ds_gridExhbnCatgDtl.addRow();

	this.ds_gridExhbnCatgDtl.setColumn(nRow, "CO_CD", "1000");
	this.ds_gridExhbnCatgDtl.setColumn(nRow, "EXHBN_SEQ", "");
	this.ds_gridExhbnCatgDtl.setColumn(nRow, "EXHBN_CATG_SEQ", "C" + nRow);
	
	this.ds_gridExhbnCatgPrdDtl.filter("EXHBN_CATG_SEQ == '" + "C" + nRow + "'");	
};

/**
 * 상품검색 버튼 클릭 시
 */
this.btn_searchPrdId1_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	var nRow = this.grid_exhbnCatgDtl.currentrow;
	
	if (nRow < 0)
	{
		alert(this.fn_getMessage("ERRN000004")); // 카테고리를 먼저 선택해야 합니다.
		return;
	}
	
	var oArg = { coCd : this.fv_coCd
			   , mallSprCd : this.cbx_mallSprCd.value
	           }; 

	var oOption = { top : "-1"
	              , left : "-1"
	              , width : "-1"
	              , height : "-1"
	              , popuptype : "modal"	// modal:showModal, modeless:application.open, modalsync:showModalSync, modalwindow:showModalWindow
	              , layered : "false"
	              , opacity : "100"
	              , autosize : "true"
	              , titlebar : "true"
	              , title : "기본 상품 조회"
	              };	

	this.gfn_openPopup(e.fromobject.id, "PR_POP::SSP_BO_PP_16.xfdl", oArg, "fn_popupCallbackFunction", oOption);
};

/**
 * 상품검색 멀티텍스트 버튼 클릭 시
 */
this.btn_searchPrdIdMulText1_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	var nRow = this.grid_exhbnCatgDtl.currentrow;
	
	if (nRow < 0)
	{
		alert(this.fn_getMessage("ERRN000004")); // 카테고리를 먼저 선택해야 합니다.
		return;
	}
	
	var oArg = { coCd : this.fv_coCd
	           , textId : this.btn_searchPrdIdMulText1
	           }; 

	var oOption = { top : "-1"
	              , left : "-1"
	              , width : "-1"
	              , height : "-1"
	              , popuptype : "modal"	// modal:showModal, modeless:application.open, modalsync:showModalSync, modalwindow:showModalWindow
	              , layered : "false"
	              , opacity : "100"
	              , autosize : "true"
	              , titlebar : "true"
	              , title : "멀티 텍스트"
	              };

	this.gfn_openPopup(e.fromobject.id, "CO_POP::SSP_BO_PP_13.xfdl", oArg, "fn_popupCallbackFunction", oOption);
};

/**
 * 그리드 cell 클릭 시
 */
this.grid_exhbnCatgPrdDtl_oncellclick = function(obj:nexacro.Grid,e:nexacro.GridClickEventInfo)
{
	if(e.col == this.grid_exhbnCatgPrdDtl.getBindCellIndex("body", "DELETE_ROW"))
	{
		if ( confirm(this.fn_getMessage("ERRN000048"))) // 삭제하시겠습니까?
		{
			var objDs = obj.getBindDataset();
			var nRow = objDs.rowposition;
			
			objDs.deleteRow(nRow);
			
			var sTotText = "(<b v='true'>총 " + this.ds_gridExhbnCatgPrdDtl.getRowCount() + "건 </b>)";			
			this.sta_totalCountPrdDtl.set_text(sTotText);
		}
	}
};

/**
 * 취소 버튼 클릭 시
 */
this.btn_cancel_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	if ( confirm(this.fn_getMessage("ERRN000053"))) // 취소하시겠습니까?
	{
		var resData = {};
		var resString = "";
		
		resData.RETURN_YN = "N";
		
		// json string 변경
		resString = JSON.stringify(resData);	
		
		// return
		this.close(resString);	
	}
};

/**
 * 삭제 버튼 클릭 시
 */
this.btn_delete_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	this.fn_deleteExhbnInfo();	
};

/**
 * 저장 버튼 클릭 시
 */
this.btn_save_onclick = function(obj:nexacro.Button,e:nexacro.ClickEventInfo)
{
	if (this.rdo_noticSprCd.value == "30")
	{
		if (this.ds_gridExhbnOprUnitList.getRowCount() <= 0)
		{
			alert(this.fn_getMessage("ERRN000021")); // 게시구분(로그인운영단위)을 선택하면 운영단위를 선택해야 합니다.
			return;
		}
	}	
	
	if (this.cal_dispStrDt.value == "" || this.cal_dispStrDt.value == undefined)
	{
		alert(this.fn_getMessage("ERRN000001", "전시 시작일은")); // 전시 시작일은 필수 입력항목입니다.
		this.cal_dispStrDt.setFocus();
		return
	}
		
	if (this.cal_dispEndDt.value == "" || this.cal_dispEndDt.value == undefined)
	{
		alert(this.fn_getMessage("ERRN000001", "전시 종료일은")); // 전시 종료일은 필수 입력항목입니다.
		this.cal_dispEndDt.setFocus();
		return
	}

	if (this.cal_dispStrDt.value > this.cal_dispEndDt.value)
	{
		alert(this.fn_getMessage("ERRN000002", "전시 종료일이 전시 시작일보다")); // 전시 종료일이 전시 시작일보다 작습니다.
		this.cal_dispStrDt.setFocus();
		return
	}

	if (this.edt_exhbnNm.value == "" || this.edt_exhbnNm.value == undefined)
	{
		alert(this.fn_getMessage("ERRN000001", "기획전 명은")); // 기획전 명은 필수 입력항목입니다.
		this.edt_exhbnNm.setFocus();
		return;
	}
	
	if (this.rdo_mainExpsYn.value == "Y")
	{
		if (this.edt_mainPcDocRegIdNm.value == "" || this.edt_mainPcDocRegIdNm.value == undefined)
		{
			alert(this.fn_getMessage("ERRN000001", "메인 이미지(PC)는")); // 메인 이미지(PC)는 필수 입력항목입니다.
			return;
		}
		
		if (this.edt_mainMblDocRegIdNm.value == "" || this.edt_mainMblDocRegIdNm.value == undefined)
		{
			alert(this.fn_getMessage("ERRN000001", "메인 이미지(모바일)는")); // 메인 이미지(모바일)는 필수 입력항목입니다.
			return;
		}
		
		if (this.edt_prdIdNm.value == "" || this.edt_prdIdNm.value == undefined)
		{
			alert(this.fn_getMessage("ERRN000001", "메인 노출 상품은")); // 메인 노출 상품은 필수 입력항목입니다.
			return;
		}
		
		if (this.ds_exhbnCatgPrdDtl.getRowCount() > 3)
		{
			alert(this.fn_getMessage("ERRN000001", "메인 노출 상품은 최대 3개까지")); // 메인 노출 상품은 최대 3개까지 필수 입력항목입니다.
			return;
		}
	}
	else
	{
		this.ds_exhbnInfo.setColumn(0, "MAIN_PC_DOC_REG_ID", "");
		this.ds_exhbnInfo.setColumn(0, "MAIN_MBL_DOC_REG_ID", "");
						
		var aDelArr = new Array();
		
		for(var i = 0; i< this.ds_exhbnCatgPrdDtl.rowcount; i++)
		{
			aDelArr.push(i);
		}
		
		this.ds_exhbnCatgPrdDtl.deleteMultiRows(aDelArr);
		
		this.edt_mainPcDocRegIdNm.set_value("");
		this.edt_mainMblDocRegIdNm.set_value("");
		this.edt_prdIdNm.set_value("");
		
		this.fileUpTrans.removeFile("mainPcDocRegId");
		
		var findRow = this.ds_file.findRowExpr("IMG_TYPE == 'mainPcDocRegId'");
		
		if (findRow >= 0)
		{
			this.ds_file.deleteRow(findRow);
		}
		
		this.fileUpTrans.removeFile("mainMblDocRegId");
		
		var findRow = this.ds_file.findRowExpr("IMG_TYPE == 'mainMblDocRegId'");
		
		if (findRow >= 0)
		{
			this.ds_file.deleteRow(findRow);
		}
	}
	
	if (this.rdo_exhbnSprCd.value == "10")
	{
		// 10 : 서브원추천상품
	
		this.ds_exhbnInfo.setColumn(0, "BNR_PC_DOC_REG_ID", "");
		this.ds_exhbnInfo.setColumn(0, "BNR_MBL_DOC_REG_ID", "");

		this.edt_bnrPcDocRegIdNm.set_value("");
		this.edt_bnrMblDocRegIdNm.set_value("");
			
		this.fileUpTrans.removeFile("bnrPcDocRegId");
		
		var findRow = this.ds_file.findRowExpr("IMG_TYPE == 'bnrPcDocRegId'");
		
		if (findRow >= 0)
		{
			this.ds_file.deleteRow(findRow);
		}
		
		this.fileUpTrans.removeFile("bnrMblDocRegId");
		
		var findRow = this.ds_file.findRowExpr("IMG_TYPE == 'bnrMblDocRegId'");
		
		if (findRow >= 0)
		{
			this.ds_file.deleteRow(findRow);
		}		
	}
	else
	{
		// 20 : 기획전
		
		if (this.edt_bnrPcDocRegIdNm.value == "" || this.edt_bnrPcDocRegIdNm.value == undefined)
		{
			alert(this.fn_getMessage("ERRN000001", "배너 이미지(PC)는")); // 배너 이미지(PC)는 필수 입력항목입니다.
			return;
		}
		
		if (this.edt_bnrMblDocRegIdNm.value == "" || this.edt_bnrMblDocRegIdNm.value == undefined)
		{
			alert(this.fn_getMessage("ERRN000001", "배너 이미지(모바일)는")); // 배너 이미지(모바일)는 필수 입력항목입니다.
			return;
		}
	}
	
	if (this.edt_lpagePcDocRegIdNm.value == "" || this.edt_lpagePcDocRegIdNm.value == undefined)
	{
		alert(this.fn_getMessage("ERRN000001", "LP 이미지(PC)는")); // LP 이미지(PC)는 필수 입력항목입니다.
		return;
	}
	
	if (this.edt_lpageMblDocRegIdNm.value == "" || this.edt_lpageMblDocRegIdNm.value == undefined)
	{
		alert(this.fn_getMessage("ERRN000001", "LP 이미지(모바일)는")); // LP 이미지(모바일)는 필수 입력항목입니다.
		return;
	}
	
	if (this.ds_gridExhbnCatgDtl.getRowCount() == 0)
	{
		alert(this.fn_getMessage("ERRN000001", "기본 상품은")); // 기본 상품은 필수 입력항목입니다.
		return;
	}
	
	if (this.edt_cpnPcDocRegIdNm.value == "")
	{
		this.ds_exhbnInfo.setColumn(0, "CPN_PC_DOC_REG_ID", "");
	}
	
	if (this.edt_cpnMblDocRegIdNm.value == "")
	{
		this.ds_exhbnInfo.setColumn(0, "CPN_MBL_DOC_REG_ID", "");
	}
	
	for(var i = 0; i< this.ds_gridExhbnCatgDtl.rowcount; i++)
	{
		var sExhbnCatgSeq = this.ds_gridExhbnCatgDtl.getColumn(i, "EXHBN_CATG_SEQ");
		var sCatgNm = this.ds_gridExhbnCatgDtl.getColumn(i, "CATG_NM");
		var sCatgDispSo = this.ds_gridExhbnCatgDtl.getColumn(i, "CATG_DISP_SO");
		
		if (sCatgNm == "" || sCatgNm == undefined)
		{
			alert(this.fn_getMessage("ERRN000001", "카테고리를 추가하면 카테고리 명은")); // 카테고리를 추가하면 카테고리 명은 필수 입력항목입니다.
			return;
		}
		
		if (sCatgDispSo == "" || sCatgDispSo == undefined)
		{
			alert(this.fn_getMessage("ERRN000001", "카테고리를 추가하면 카테고리 순서는")); // 카테고리를 추가하면 카테고리 순서는 필수 입력항목입니다.
			this.edt_catgDispSo.setFocus();
			return;
		}

		this.ds_gridExhbnCatgDtlTemp.clearData();
		this.ds_gridExhbnCatgDtlTemp.copyData(this.ds_gridExhbnCatgDtl);
		this.ds_gridExhbnCatgDtlTemp.filter("CATG_DISP_SO == '" + this.edt_catgDispSo.value + "'");
		var nCnt = this.ds_gridExhbnCatgDtlTemp.getRowCount();
		
		if(nCnt > 1)
		{
			alert(this.fn_getMessage("ERRN000005")); // 동일한 순서가 있습니다. 확인 후 재 입력해 주시기 바랍니다.
			this.edt_catgDispSo.setFocus();
			return;
		}

		this.ds_gridExhbnCatgPrdDtlTemp.clearData();
		this.ds_gridExhbnCatgPrdDtlTemp.copyData(this.ds_gridExhbnCatgPrdDtl);
		this.ds_gridExhbnCatgPrdDtlTemp.filter("EXHBN_CATG_SEQ == '" + sExhbnCatgSeq + "'");

		if (this.ds_gridExhbnCatgPrdDtlTemp.getRowCount() <= 0)
		{
			alert(this.fn_getMessage("ERRN000007")); // 카테고리를 추가하면 기본 상품은 최소 1개는 추가해야 합니다.
			return;
		}
	}
	
	if ( !confirm(this.fn_getMessage("ERRN000044"))) // 저장하시겠습니까?
	{
		return;
	}
	
	// 게시구분코드가 운영단위가 아니면 아니면 운영단위 정보 삭제
	// SSP-2971
	if(this.rdo_noticSprCd.value != "30" && this.rdo_noticSprCd.value != "50"
		&& this.rdo_noticSprCd.value != "60" && this.rdo_noticSprCd.value != "70") {
		var aDelArr = new Array();
		
		for(var i = 0; i< this.ds_gridExhbnOprUnitList.rowcount; i++)
		{
			aDelArr.push(i);
		}
		
		this.ds_gridExhbnOprUnitList.deleteMultiRows(aDelArr);
	}
	
	// 파일업로드
	if( this.ds_file.rowcount > 0 )
	{
		if(this.fn_dataCheck(this.ds_file) )
		{
			var jsonArray = new Array();
			
			for(var i=0; i<this.ds_file.rowcount; i++)
			{
				var imgType = this.ds_file.getColumn(i, "IMG_TYPE") == undefined ? "" : this.ds_file.getColumn(i, "IMG_TYPE");
				
				var jsonObj = new Object();
					
				if(this.ds_file.getColumn(i, "IMG_TYPE") == "mainPcDocRegId")
				{
					jsonObj.IMG_TYPE = imgType;
					jsonObj.DOC_REG_ID = this.ds_exhbnInfo.getColumn(0, "MAIN_PC_DOC_REG_ID") == undefined ? "" : this.ds_exhbnInfo.getColumn(0, "MAIN_PC_DOC_REG_ID");
					jsonObj.ATFL_NM = this.ds_exhbnInfo.getColumn(0, "MAIN_PC_DOC_REG_ID_NM") == undefined ? "" : this.ds_exhbnInfo.getColumn(0, "MAIN_PC_DOC_REG_ID_NM");
					jsonObj.DOC_REG_SEQ = this.ds_exhbnInfo.getColumn(0, "MAIN_PC_DOC_REG_ID_REG_SEQ") == undefined ? 1 :this.ds_exhbnInfo.getColumn(0, "MAIN_PC_DOC_REG_ID_REG_SEQ").toString();
					jsonObj.ATFL_STOR_PATH = this.ds_exhbnInfo.getColumn(0, "MAIN_PC_DOC_REG_ID_ATFL_STOR_PATH") == undefined ? "" :this.ds_exhbnInfo.getColumn(0, "MAIN_PC_DOC_REG_ID_ATFL_STOR_PATH");
					jsonObj.ORI_ATFL_NM = this.ds_exhbnInfo.getColumn(0, "MAIN_PC_DOC_REG_ID_ORI_ATFL_NM") == undefined ? "" : this.ds_exhbnInfo.getColumn(0, "MAIN_PC_DOC_REG_ID_ORI_ATFL_NM");
				}
				else if(this.ds_file.getColumn(i, "IMG_TYPE") == "mainMblDocRegId")
				{
					jsonObj.IMG_TYPE = imgType;
					jsonObj.DOC_REG_ID = this.ds_exhbnInfo.getColumn(0, "MAIN_MBL_DOC_REG_ID") == undefined ? "" : this.ds_exhbnInfo.getColumn(0, "MAIN_MBL_DOC_REG_ID");
					jsonObj.ATFL_NM = this.ds_exhbnInfo.getColumn(0, "MAIN_MBL_DOC_REG_ID_NM") == undefined ? "" : this.ds_exhbnInfo.getColumn(0, "MAIN_MBL_DOC_REG_ID_NM");
					jsonObj.DOC_REG_SEQ = this.ds_exhbnInfo.getColumn(0, "MAIN_MBL_DOC_REG_ID_REG_SEQ") == undefined ? 1 :this.ds_exhbnInfo.getColumn(0, "MAIN_MBL_DOC_REG_ID_REG_SEQ").toString();
					jsonObj.ATFL_STOR_PATH = this.ds_exhbnInfo.getColumn(0, "MAIN_MBL_DOC_REG_ID_ATFL_STOR_PATH") == undefined ? "" :this.ds_exhbnInfo.getColumn(0, "MAIN_MBL_DOC_REG_ID_ATFL_STOR_PATH");
					jsonObj.ORI_ATFL_NM = this.ds_exhbnInfo.getColumn(0, "MAIN_MBL_DOC_REG_ID_ORI_ATFL_NM") == undefined ? "" : this.ds_exhbnInfo.getColumn(0, "MAIN_MBL_DOC_REG_ID_ORI_ATFL_NM");
				}
				else if(this.ds_file.getColumn(i, "IMG_TYPE") == "bnrPcDocRegId")
				{
					jsonObj.IMG_TYPE = imgType;
					jsonObj.DOC_REG_ID = this.ds_exhbnInfo.getColumn(0, "BNR_PC_DOC_REG_ID") == undefined ? "" : this.ds_exhbnInfo.getColumn(0, "BNR_PC_DOC_REG_ID");
					jsonObj.ATFL_NM = this.ds_exhbnInfo.getColumn(0, "BNR_PC_DOC_REG_ID_NM") == undefined ? "" : this.ds_exhbnInfo.getColumn(0, "BNR_PC_DOC_REG_ID_NM");
					jsonObj.DOC_REG_SEQ = this.ds_exhbnInfo.getColumn(0, "BNR_PC_DOC_REG_ID_REG_SEQ") == undefined ? 1 :this.ds_exhbnInfo.getColumn(0, "BNR_PC_DOC_REG_ID_REG_SEQ").toString();
					jsonObj.ATFL_STOR_PATH = this.ds_exhbnInfo.getColumn(0, "BNR_PC_DOC_REG_ID_ATFL_STOR_PATH") == undefined ? "" :this.ds_exhbnInfo.getColumn(0, "BNR_PC_DOC_REG_ID_ATFL_STOR_PATH");
					jsonObj.ORI_ATFL_NM = this.ds_exhbnInfo.getColumn(0, "BNR_PC_DOC_REG_ID_ORI_ATFL_NM") == undefined ? "" : this.ds_exhbnInfo.getColumn(0, "BNR_PC_DOC_REG_ID_ORI_ATFL_NM");
				}
				else if(this.ds_file.getColumn(i, "IMG_TYPE") == "bnrMblDocRegId")
				{
					jsonObj.IMG_TYPE = imgType;
					jsonObj.DOC_REG_ID = this.ds_exhbnInfo.getColumn(0, "BNR_MBL_DOC_REG_ID") == undefined ? "" : this.ds_exhbnInfo.getColumn(0, "BNR_MBL_DOC_REG_ID");
					jsonObj.ATFL_NM = this.ds_exhbnInfo.getColumn(0, "BNR_MBL_DOC_REG_ID_NM") == undefined ? "" : this.ds_exhbnInfo.getColumn(0, "BNR_MBL_DOC_REG_ID_NM");
					jsonObj.DOC_REG_SEQ = this.ds_exhbnInfo.getColumn(0, "BNR_MBL_DOC_REG_ID_REG_SEQ") == undefined ? 1 :this.ds_exhbnInfo.getColumn(0, "BNR_MBL_DOC_REG_ID_REG_SEQ").toString();
					jsonObj.ATFL_STOR_PATH = this.ds_exhbnInfo.getColumn(0, "BNR_MBL_DOC_REG_ID_ATFL_STOR_PATH") == undefined ? "" :this.ds_exhbnInfo.getColumn(0, "BNR_MBL_DOC_REG_ID_ATFL_STOR_PATH");
					jsonObj.ORI_ATFL_NM = this.ds_exhbnInfo.getColumn(0, "BNR_MBL_DOC_REG_ID_ORI_ATFL_NM") == undefined ? "" : this.ds_exhbnInfo.getColumn(0, "BNR_MBL_DOC_REG_ID_ORI_ATFL_NM");
				}
				else if(this.ds_file.getColumn(i, "IMG_TYPE") == "lpagePcDocRegId")
				{
					jsonObj.IMG_TYPE = imgType;
					jsonObj.DOC_REG_ID = this.ds_exhbnInfo.getColumn(0, "LPAGE_PC_DOC_REG_ID") == undefined ? "" : this.ds_exhbnInfo.getColumn(0, "LPAGE_PC_DOC_REG_ID");
					jsonObj.ATFL_NM = this.ds_exhbnInfo.getColumn(0, "LPAGE_PC_DOC_REG_ID_NM") == undefined ? "" : this.ds_exhbnInfo.getColumn(0, "LPAGE_PC_DOC_REG_ID_NM");
					jsonObj.DOC_REG_SEQ = this.ds_exhbnInfo.getColumn(0, "LPAGE_PC_DOC_REG_ID_REG_SEQ") == undefined ? 1 :this.ds_exhbnInfo.getColumn(0, "LPAGE_PC_DOC_REG_ID_REG_SEQ").toString();
					jsonObj.ATFL_STOR_PATH = this.ds_exhbnInfo.getColumn(0, "LPAGE_PC_DOC_REG_ID_ATFL_STOR_PATH") == undefined ? "" :this.ds_exhbnInfo.getColumn(0, "LPAGE_PC_DOC_REG_ID_ATFL_STOR_PATH");
					jsonObj.ORI_ATFL_NM = this.ds_exhbnInfo.getColumn(0, "LPAGE_PC_DOC_REG_ID_ORI_ATFL_NM") == undefined ? "" : this.ds_exhbnInfo.getColumn(0, "LPAGE_PC_DOC_REG_ID_ORI_ATFL_NM");
				}
				else if(this.ds_file.getColumn(i, "IMG_TYPE") == "lpageMblDocRegId")
				{
					jsonObj.IMG_TYPE = imgType;
					jsonObj.DOC_REG_ID = this.ds_exhbnInfo.getColumn(0, "LPAGE_MBL_DOC_REG_ID") == undefined ? "" : this.ds_exhbnInfo.getColumn(0, "LPAGE_MBL_DOC_REG_ID");
					jsonObj.ATFL_NM = this.ds_exhbnInfo.getColumn(0, "LPAGE_MBL_DOC_REG_ID_NM") == undefined ? "" : this.ds_exhbnInfo.getColumn(0, "LPAGE_MBL_DOC_REG_ID_NM");
					jsonObj.DOC_REG_SEQ = this.ds_exhbnInfo.getColumn(0, "LPAGE_MBL_DOC_REG_ID_REG_SEQ") == undefined ? 1 :this.ds_exhbnInfo.getColumn(0, "LPAGE_MBL_DOC_REG_ID_REG_SEQ").toString();
					jsonObj.ATFL_STOR_PATH = this.ds_exhbnInfo.getColumn(0, "LPAGE_MBL_DOC_REG_ID_ATFL_STOR_PATH") == undefined ? "" :this.ds_exhbnInfo.getColumn(0, "LPAGE_MBL_DOC_REG_ID_ATFL_STOR_PATH");
					jsonObj.ORI_ATFL_NM = this.ds_exhbnInfo.getColumn(0, "LPAGE_MBL_DOC_REG_ID_ORI_ATFL_NM") == undefined ? "" : this.ds_exhbnInfo.getColumn(0, "LPAGE_MBL_DOC_REG_ID_ORI_ATFL_NM");
				}
				else if(this.ds_file.getColumn(i, "IMG_TYPE") == "cpnPcDocRegId")
				{
					jsonObj.IMG_TYPE = imgType;
					jsonObj.DOC_REG_ID = this.ds_exhbnInfo.getColumn(0, "CPN_PC_DOC_REG_ID") == undefined ? "" : this.ds_exhbnInfo.getColumn(0, "CPN_PC_DOC_REG_ID");
					jsonObj.ATFL_NM = this.ds_exhbnInfo.getColumn(0, "CPN_PC_DOC_REG_ID_NM") == undefined ? "" : this.ds_exhbnInfo.getColumn(0, "CPN_PC_DOC_REG_ID_NM");
					jsonObj.DOC_REG_SEQ = this.ds_exhbnInfo.getColumn(0, "CPN_PC_DOC_REG_ID_REG_SEQ") == undefined ? 1 :this.ds_exhbnInfo.getColumn(0, "CPN_PC_DOC_REG_ID_REG_SEQ").toString();
					jsonObj.ATFL_STOR_PATH = this.ds_exhbnInfo.getColumn(0, "CPN_PC_DOC_REG_ID_ATFL_STOR_PATH") == undefined ? "" :this.ds_exhbnInfo.getColumn(0, "CPN_PC_DOC_REG_ID_ATFL_STOR_PATH");
					jsonObj.ORI_ATFL_NM = this.ds_exhbnInfo.getColumn(0, "CPN_PC_DOC_REG_ID_ORI_ATFL_NM") == undefined ? "" : this.ds_exhbnInfo.getColumn(0, "CPN_PC_DOC_REG_ID_ORI_ATFL_NM");
				}
				else if(this.ds_file.getColumn(i, "IMG_TYPE") == "cpnMblDocRegId")
				{
					jsonObj.IMG_TYPE = imgType;
					jsonObj.DOC_REG_ID = this.ds_exhbnInfo.getColumn(0, "CPN_MBL_DOC_REG_ID") == undefined ? "" : this.ds_exhbnInfo.getColumn(0, "CPN_MBL_DOC_REG_ID");
					jsonObj.ATFL_NM = this.ds_exhbnInfo.getColumn(0, "CPN_MBL_DOC_REG_ID_NM") == undefined ? "" : this.ds_exhbnInfo.getColumn(0, "CPN_MBL_DOC_REG_ID_NM");
					jsonObj.DOC_REG_SEQ = this.ds_exhbnInfo.getColumn(0, "CPN_MBL_DOC_REG_ID_REG_SEQ") == undefined ? 1 :this.ds_exhbnInfo.getColumn(0, "CPN_MBL_DOC_REG_ID_REG_SEQ").toString();
					jsonObj.ATFL_STOR_PATH = this.ds_exhbnInfo.getColumn(0, "CPN_MBL_DOC_REG_ID_ATFL_STOR_PATH") == undefined ? "" :this.ds_exhbnInfo.getColumn(0, "CPN_MBL_DOC_REG_ID_ATFL_STOR_PATH");
					jsonObj.ORI_ATFL_NM = this.ds_exhbnInfo.getColumn(0, "CPN_MBL_DOC_REG_ID_ORI_ATFL_NM") == undefined ? "" : this.ds_exhbnInfo.getColumn(0, "CPN_MBL_DOC_REG_ID_ORI_ATFL_NM");
				}

				jsonArray.push(jsonObj);
			}
			
			this.fileUpTrans.setPostData("resList", JSON.stringify(jsonArray));
			this.fileUpTrans.upload('/sa/com/file-upload.do');
		} 
		else
		{
			this.fn_saveExhbnInfo();
		}
	}
	else
	{
		this.fn_saveExhbnInfo();
	}	
};










/* =============================================================== 
 * 6. User Function
 *  - 사용자 구현 함수 영역
 * =============================================================== */

/**
 * 기획전 구분 값 변경 시 항목 설정 함수
 */
this.fn_exhbnSprCdSet = function()
{
	if (this.rdo_exhbnSprCd.value == "10")
	{
		// 10 : 서브원추천상품
	
		this.cbx_mallSprCd.set_index(0);
		
		this.cbx_mallSprCd.set_readonly(true);
		this.rdo_mainExpsYn.set_enable(true);
	
		// 배너 이미지 - PC 파일첨부, 모바일 파일첨부
		this.btn_bnrPcDocRegId.set_enable(false);
		this.btn_bnrMblDocRegId.set_enable(false);
	}
	else
	{
		// 20 : 기획전
		
		this.cbx_mallSprCd.set_readonly(false);
		this.rdo_mainExpsYn.set_enable(true);
	
		// 배너 이미지 - PC 파일첨부, 모바일 파일첨부
		this.btn_bnrPcDocRegId.set_enable(true);
		this.btn_bnrMblDocRegId.set_enable(true);
	}
};

/**
 * 게시구분 값 변경 시 항목 설정 함수
 */
this.fn_noticSprCdSet = function()
{
	if (this.rdo_noticSprCd.value == "30" || this.rdo_noticSprCd.value == "50"
		|| this.rdo_noticSprCd.value == "60" || this.rdo_noticSprCd.value == "70")
	{
		this.grid_OprUnit.set_enable(true);
			
		// 로그인운영단위 검색 아이콘
		this.btn_searchOprUnit.set_enable(true);
		this.btn_searchOprUnitMulText.set_enable(true);
		
		this.chk_notLogn_Inc_Yn.set_enable(true);
	}
	else
	{
		this.grid_OprUnit.set_enable(false);
			
		// 로그인운영단위 검색 아이콘
		this.btn_searchOprUnit.set_enable(false);
		this.btn_searchOprUnitMulText.set_enable(false);
		
		this.chk_notLogn_Inc_Yn.set_value(false);
		this.chk_notLogn_Inc_Yn.set_enable(false);
		this.ds_exhbnInfo.setColumn(0, "NOTLOGN_INC_YN", "N");
	}
};

/**
 * 몰 구분 값 변경 시 항목 설정 함수
 */
this.fn_mallSprCdSet = function()
{
	if (this.cbx_mallSprCd.value == "10")
	{
		// 10 : SSP Mall
		this.grid_exhbnCatgPrdDtl.setFormatColProperty(6, "size", 80); // 대표상품구분
	}
	else
	{
		// 20 : R&D Mall
		this.grid_exhbnCatgPrdDtl.setFormatColProperty(6, "size", 0); // 대표상품구분
	}

	if (this.ds_gridExhbnCatgPrdDtl.getCount() == 0)
	{
		// 등록된 상품이 없으면
		
		if (this.cbx_mallSprCd.value == "10")
		{
			// 10 : SSP Mall
			
			this.rdo_mainExpsYn.set_enable(true);
		}
		else
		{
			// 20 : R&D Mall
			
			this.rdo_mainExpsYn.set_index(1);
			
			this.rdo_mainExpsYn.set_enable(false);
			
			this.fn_mainExpsYnSet();
		}

		this.fv_mallSprCd = this.cbx_mallSprCd.value;
	}
	else
	{
		if ( confirm(this.fn_getMessage("ERRN000114"))) // 등록/추가된 기본 상품이 삭제됩니다. 변경하시겠습니까?
		{
			// 변경하면
			
			if (this.cbx_mallSprCd.value == "10")
			{
				// 10 : SSP Mall
				
				this.rdo_mainExpsYn.set_enable(true);
			}
			else
			{
				// 20 : R&D Mall
				
				this.rdo_mainExpsYn.set_index(1);
				
				this.rdo_mainExpsYn.set_enable(false);
				
				this.fn_mainExpsYnSet();
			}
			
			var aDelArr1 = new Array();
			
			for(var i = 0; i< this.ds_gridExhbnCatgDtl.rowcount; i++)
			{
				aDelArr1.push(i);
			}
			
			// 기본 상품 카테고리 삭제
			this.ds_gridExhbnCatgDtl.deleteMultiRows(aDelArr1);
			
			var aDelArr2 = new Array();
			
			for(var i = 0; i< this.ds_gridExhbnCatgPrdDtl.rowcount; i++)
			{
				aDelArr2.push(i);
			}
			
			// 기본 상품 삭제
			this.ds_gridExhbnCatgPrdDtl.deleteMultiRows(aDelArr2);
			
			this.ds_gridExhbnCatgDtlTemp.clearData();
			this.ds_gridExhbnCatgPrdDtlTemp.clearData();

			var sTotText = "(<b v='true'>총 0건 </b>)";			
			this.sta_totalCountPrdDtl.set_text(sTotText);
			
			this.fv_mallSprCd = this.cbx_mallSprCd.value;
		}
		else
		{
			// 변경안하면
			
			if (this.fv_mallSprCd == "10")
			{
				this.cbx_mallSprCd.set_index(0);
			}
			else if (this.fv_mallSprCd == "20")
			{
				this.cbx_mallSprCd.set_index(1);
			}
		}
	}
};

/**
 * 메인 노출 여부 값 변경 시 항목 설정 함수
 */
this.fn_mainExpsYnSet = function()
{
	if (this.rdo_mainExpsYn.value == "Y")
	{
		// dataset 영역
		//this.ds_exhbnCatgPrdDtl.clearData();
	
		// Static 영역
		this.sta_mainImage.uEssentiel = "true";
		this.sta_prdIdNm.uEssentiel = "true";
		
		// 입력 항목 영역
		//this.edt_mainPcDocRegIdNm.set_value("");
		//this.edt_mainMblDocRegIdNm.set_value("");
		//this.edt_prdIdNm.set_value("");

		// 메인 이미지 - PC 첨부, PC 대체텍스트, 모바일 첨부, 메인 노출 상품  항목 활성화
		this.edt_mainPcDocRegIdNm.set_readonly(true);
		this.edt_mainMblDocRegIdNm.set_readonly(true);
		this.edt_prdIdNm.set_readonly(true);
			
		// 메인 이미지 - PC 파일첨부, PC 삭제 아이콘, 모바일 파일첨부, 모바일 삭제 아이콘
		this.btn_mainPcDocRegId.set_enable(true);
		this.btn_mainPcDocRegIdClear.set_enable(true);
		this.btn_mainMblDocRegId.set_enable(true);
		this.btn_mainMblDocRegIdClear.set_enable(true);
		
		// 메인 노출 상품 검색 아이콘, 메인 노출 상품 삭제 아이콘
		this.btn_searchPrdId0.set_enable(true);
		this.btn_searchPrdIdClear0.set_enable(true);
	}
	else
	{
		// dataset 영역
		//this.ds_exhbnCatgPrdDtl.clearData();
	
		// Static 영역
		this.sta_mainImage.uEssentiel = "false";
		this.sta_prdIdNm.uEssentiel = "false";
		
		// 입력 항목 영역
		//this.edt_mainPcDocRegIdNm.set_value("");
		//this.edt_mainMblDocRegIdNm.set_value("");
		//this.edt_prdIdNm.set_value("");

		// 메인 이미지 - PC 첨부, 모바일 첨부, 메인 노출 상품  항목 비활성화
		this.edt_mainPcDocRegIdNm.set_readonly(true);
		this.edt_mainMblDocRegIdNm.set_readonly(true);
		this.edt_prdIdNm.set_readonly(true);
			
		// 메인 이미지 - PC 파일첨부, PC 삭제 아이콘, 모바일 파일첨부, 모바일 삭제 아이콘
		this.btn_mainPcDocRegId.set_enable(false);
		this.btn_mainPcDocRegIdClear.set_enable(true);
		this.btn_mainMblDocRegId.set_enable(false);
		this.btn_mainMblDocRegIdClear.set_enable(true);
		
		// 메인 노출 상품 검색 아이콘, 메인 노출 상품 삭제 아이콘
		this.btn_searchPrdId0.set_enable(false);
		this.btn_searchPrdIdClear0.set_enable(false);
	}
};

/**
 * 글자 byte 체크 함수
 */
this.fn_setLenByte = function(sVal, maxByte, sGubun)
{
	var count = nexacro._getUtf8Length(sVal);
	var expsText = "";
	
	if (count < 0)
	{
		count = 0;
	}
	
	if(count <= maxByte)
	{
		expsText = "(<fc v='red'>" + count + "</fc> / " + maxByte + " Byte)";
		
		if (sGubun == "00")
		{
			this.sta_exhbnNmSize.set_text(expsText);
		}
		else if (sGubun == "09")
		{
			this.sta_exhbnDescSize.set_text(expsText);
		}

		return;
	}
	
	var tempVal = "";
	
	tempVal = nexacro._substrByUtf8(sVal, 0, maxByte);
	count = nexacro._getUtf8Length(tempVal);
	
	//trace(tempVal + " / " + count);

	expsText = "(<fc v='red'>" + count + "</fc> / " + maxByte + " Byte)";

	if (sGubun == "00")
	{
		this.edt_exhbnNm.set_value("");
		this.edt_exhbnNm.set_value(tempVal);
		this.sta_exhbnNmSize.set_text(expsText);
	}
	else if (sGubun == "09")
	{
		this.txt_exhbnDesc.set_value("");
		this.txt_exhbnDesc.set_value(tempVal);
		this.sta_exhbnDescSize.set_text(expsText);
	}
};

/**
 * 화면 초기화 함수
 */
this.fn_init = function(sVal)
{
	switch (sVal)
	{
		case "VAL_INIT" :
		
			// 변수 초기화

			this.fv_coCd = this.parent.sCoCd;
			this.fv_exhbnSeq = this.parent.sExhbnSeq;
			this.fv_pageNum = this.parent.sPageNum;

			break;

		case "FORM_INIT" :

			// 입력 항목 초기화

			// dataset 영역
			this.ds_searchOprUnitCheckList.clearData();
			this.ds_oprUnitList.clearData();
			this.ds_searchPrdIdCheckList.clearData();
			this.ds_prdInfoList.clearData();
			
			this.ds_exhbnInfo.clearData();
			var nRow = this.ds_exhbnInfo.addRow();
			
			this.ds_gridExhbnOprUnitList.clearData();
			this.ds_exhbnCatgPrdDtl.clearData();
			this.ds_gridExhbnCatgDtl.clearData();
			this.ds_gridExhbnCatgPrdDtl.clearData();
			
			// 입력 항목 영역
			this.rdo_exhbnSprCd.set_index(0);
			this.rdo_noticSprCd.set_index(0);
			this.cbx_mallSprCd.set_index(0);
			this.rdo_mainExpsYn.set_index(1);
			this.cal_dispStrDt.set_value("");
			this.cal_dispEndDt.set_value("");
			this.edt_exhbnNm.set_value("");
			this.sta_exhbnNmSize.set_text("(<fc v='red'>0</fc> / 300 Byte)");
			this.edt_foUrl.set_value("");
			this.edt_foMobileUrl.set_value("");
			this.edt_mainPcDocRegIdNm.set_value("");
			this.edt_mainMblDocRegIdNm.set_value("");
			this.edt_prdIdNm.set_value("");
			this.edt_bnrPcDocRegIdNm.set_value("");
			this.edt_bnrMblDocRegIdNm.set_value("");
			this.edt_lpagePcDocRegIdNm.set_value("");
			this.edt_lpageMblDocRegIdNm.set_value("");
			this.edt_cpnEvtNo.set_value("");
			this.edt_cpnEvtNoNm.set_value("");
			this.edt_cpnPcDocRegIdNm.set_value("");
			this.edt_cpnMblDocRegIdNm.set_value("");
			this.txt_exhbnDesc.set_value("");
			this.sta_exhbnDescSize.set_text("(<fc v='red'>0</fc> / 2000 Byte)");

			this.edt_catgNm.set_value("");
			this.edt_catgDispSo.set_value("");

			this.rdo_useYn.set_index(0);
			
			this.edt_regpsnId.set_value("");
			this.edt_regpsnIdNm.set_value("");
			this.edt_regDtm.set_value("");
			this.edt_updpsnId.set_value("");
			this.edt_updpsnIdNm.set_value("");
			this.edt_updDtm.set_value("");
			
			this.edt_foUrl.set_readonly(true);
			this.edt_foMobileUrl.set_readonly(true);

			// 메인 이미지 - PC 첨부, 모바일 첨부, 메인 노출 상품  항목 비활성화
			this.edt_mainPcDocRegIdNm.set_readonly(true);
			this.edt_mainMblDocRegIdNm.set_readonly(true);
			this.edt_prdIdNm.set_readonly(true);
			this.edt_bnrPcDocRegIdNm.set_readonly(true);
			this.edt_bnrMblDocRegIdNm.set_readonly(true);
			this.edt_lpagePcDocRegIdNm.set_readonly(true);
			this.edt_lpageMblDocRegIdNm.set_readonly(true);
			this.edt_cpnEvtNoNm.set_readonly(true);
			this.edt_cpnPcDocRegIdNm.set_readonly(true);
			this.edt_cpnMblDocRegIdNm.set_readonly(true);
			
			this.edt_regpsnId.set_readonly(true);
			this.edt_regpsnIdNm.set_readonly(true);
			this.edt_regDtm.set_readonly(true);
			this.edt_updpsnId.set_readonly(true);
			this.edt_updpsnIdNm.set_readonly(true);
			this.edt_updDtm.set_readonly(true);

			// 버튼 영역
			
			// 로그인운영단위 검색, 로그인운영단위 멀티텍스트 아이콘
			this.btn_searchOprUnit.set_enable(false);
			this.btn_searchOprUnitMulText.set_enable(false);
			
			// URL 미리보기 버튼
			this.btn_prev.set_enable(true);
			this.btn_mobilePrev.set_enable(true);
			
			// SSP-2637 : 목록 미노출 체크박스 추가
			this.chk_expsYn.set_enable(true);
			// SSP-2971
			this.chk_notLogn_Inc_Yn.set_enable(true);
			
			// 메인 이미지 - PC 파일첨부, PC 삭제 아이콘, 모바일 파일첨부, 모바일 삭제 아이콘
			this.btn_mainPcDocRegId.set_enable(false);
			this.btn_mainPcDocRegIdClear.set_enable(true);
			this.btn_mainMblDocRegId.set_enable(false);
			this.btn_mainMblDocRegIdClear.set_enable(true);
			
			// 메인 노출 상품 검색 아이콘, 메인 노출 상품 삭제 아이콘
			this.btn_searchPrdId0.set_enable(false);
			this.btn_searchPrdIdClear0.set_enable(false);
			
			// 배너 이미지 - PC 파일첨부, 모바일 파일첨부
			this.btn_bnrPcDocRegId.set_enable(true);	
			this.btn_bnrMblDocRegId.set_enable(true);	
			
			// LP 이미지 - PC 파일첨부, 모바일 파일첨부
			this.btn_lpagePcDocRegId.set_enable(true);
			this.btn_lpageMblDocRegId.set_enable(true);
			
			// 쿠폰 선택 검색 아이콘, 쿠폰 선택 삭제 아이콘
			this.btn_searchCpnEvtNo.set_enable(true);
			this.btn_searchCpnEvtNoClear.set_enable(true);
			
			// 쿠폰 이미지 - PC 파일첨부, PC 삭제 아이콘, 모바일 파일첨부, 모바일 삭제 아이콘
			this.btn_cpnPcDocRegId.set_enable(true);
			this.btn_cpnPcDocRegIdClear.set_enable(true);
			this.btn_cpnMblDocRegId.set_enable(true);
			this.btn_cpnMblDocRegIdClear.set_enable(true);

			// 카테고리 삭제, 카테고리 추가, 상품검색 버튼
			this.btn_catgDelete.set_enable(true);
			this.btn_catgAdd.set_enable(true);
			this.btn_searchPrdId1.set_enable(true);
			
			// 취소, 삭제, 등록 버튼
			this.btn_cancel.set_enable(true);
			this.btn_delete.set_enable(true);
			this.btn_save.set_enable(true);

			// grid 영역
			this.grid_OprUnit.nodatatext = "추가한 항목이 없습니다.";
			this.grid_exhbnCatgDtl.nodatatext = "추가한 항목이 없습니다.";
			this.grid_exhbnCatgPrdDtl.nodatatext = "추가한 항목이 없습니다.";

			// 운영단위 grid 항목 비활성화
			this.grid_OprUnit.set_enable(false);

			break;

		case "CODE_INIT" :
		
			// 코드 초기화
			
			// 공통코드 값 조회
			this.fn_comCdList();

			break;

		default :
			
			//alert("작업구분이 없습니다.");

			break;
	}
}

// 이미지 노출 처리
this.edt_atflNm_onmouseenter = function(obj:nexacro.Edit,e:nexacro.MouseEventInfo)
{
	var docRegId = "";
	var docRegSeq = "";
	
	if(e.fromobject.id == "edt_mainPcDocRegIdNm") {
		docRegId = this.ds_exhbnInfo.getColumn(0, "MAIN_PC_DOC_REG_ID");
		docRegSeq = this.ds_exhbnInfo.getColumn(0, "MAIN_PC_DOC_REG_ID_REG_SEQ");
		this.img_view.set_width(500);
 		this.img_view.set_height(100);
	} else if(e.fromobject.id == "edt_mainMblDocRegIdNm") {
		docRegId = this.ds_exhbnInfo.getColumn(0, "MAIN_MBL_DOC_REG_ID");
		docRegSeq = this.ds_exhbnInfo.getColumn(0, "MAIN_MBL_DOC_REG_ID_REG_SEQ");
		this.img_view.set_width(400);
 		this.img_view.set_height(100);
	} else if(e.fromobject.id == "edt_bnrPcDocRegIdNm") {
		docRegId = this.ds_exhbnInfo.getColumn(0, "BNR_PC_DOC_REG_ID");
		docRegSeq = this.ds_exhbnInfo.getColumn(0, "BNR_PC_DOC_REG_ID_REG_SEQ");
		this.img_view.set_width(500);
 		this.img_view.set_height(100);
	} else if(e.fromobject.id == "edt_bnrMblDocRegIdNm") {
		docRegId = this.ds_exhbnInfo.getColumn(0, "BNR_MBL_DOC_REG_ID");
		docRegSeq = this.ds_exhbnInfo.getColumn(0, "BNR_MBL_DOC_REG_ID_REG_SEQ");
		this.img_view.set_width(500);
 		this.img_view.set_height(200);
	} else if(e.fromobject.id == "edt_lpagePcDocRegIdNm") {
		docRegId = this.ds_exhbnInfo.getColumn(0, "LPAGE_PC_DOC_REG_ID");
		docRegSeq = this.ds_exhbnInfo.getColumn(0, "LPAGE_PC_DOC_REG_ID_REG_SEQ");
		this.img_view.set_width(500);
 		this.img_view.set_height(100);
	} else if(e.fromobject.id == "edt_lpageMblDocRegIdNm") {
		docRegId = this.ds_exhbnInfo.getColumn(0, "LPAGE_MBL_DOC_REG_ID");
		docRegSeq = this.ds_exhbnInfo.getColumn(0, "LPAGE_MBL_DOC_REG_ID_REG_SEQ");
		this.img_view.set_width(500);
 		this.img_view.set_height(100);
	} else if(e.fromobject.id == "edt_cpnPcDocRegIdNm") {
		docRegId = this.ds_exhbnInfo.getColumn(0, "CPN_PC_DOC_REG_ID");
		docRegSeq = this.ds_exhbnInfo.getColumn(0, "CPN_PC_DOC_REG_ID_REG_SEQ");
		this.img_view.set_width(500);
 		this.img_view.set_height(100);
	} else if(e.fromobject.id == "edt_cpnMblDocRegIdNm") {
		docRegId = this.ds_exhbnInfo.getColumn(0, "CPN_MBL_DOC_REG_ID");
		docRegSeq = this.ds_exhbnInfo.getColumn(0, "CPN_MBL_DOC_REG_ID_REG_SEQ");
		this.img_view.set_width(500);
 		this.img_view.set_height(200);
	}

	if(!this.gfn_isNull(docRegId)) {
		this.fn_imgView(this.img_view, obj, docRegId, docRegSeq);
	}
};
this.edt_atflNm_onmouseleave = function(obj:nexacro.Edit,e:nexacro.MouseEventInfo)
{
	this.img_view.set_visible(false);
};








/* =============================================================== 
 * 6-1. 파일
 * =============================================================== */

/**
 * 해당 row에 파일 추가
 */
this.addFileList = function(filelists)
{
	var vFile= filelists[0];
	vFile.addEventHandler("onsuccess", this.fileList_onsuccess, this);
	vFile.addEventHandler("onerror", this.fileList_onerror, this);
	vFile.open(null, VirtualFile.openRead);
	vFile.getFileSize();	//return file size
	vFile.close();	
};

/**
 * 업로드용 Virtual 파일 onsuccess 이벤트
 */
this.fileList_onsuccess = function(obj:nexacro.VirtualFile, e:nexacro.VirtualFileEventInfo)
{
	if (e.reason == 1)
	{
		// 파일사이즈 체크
		
		obj.getFileSize();
	}
	
	if (e.reason == 9) 
	{
		if( !this.fn_fileSizeCheck(obj, e.filesize) )
		{
			return false;
		}

		// 같은 이름의 파일을 업로드했을 경우 대비
		
		//this.ds_exhbnInfo.set_updatecontrol(false);
		//this.ds_exhbnInfo.setRowType(0, Dataset.ROWTYPE_UPDATE);
		//this.ds_exhbnInfo.set_updatecontrol(true);
		
		if(this.curImgBtnName == "btn_mainPcDocRegId")
		{
			this.fileUpTrans.removeFile("mainPcDocRegId");
			
			// 수정 후 다시 저장 시에 기존 파일 데이터도 같이 전송하여 삭제 처리.
			
			var nRowIdx = this.ds_file.addRow();
			
			this.ds_file.setColumn(nRowIdx, "ATFL_NM", obj.filename);
			this.ds_file.setColumn(nRowIdx, "IMG_TYPE", "mainPcDocRegId");
			
			this.edt_mainPcDocRegIdNm.set_value(obj.filename);
			
			this.fileUpTrans.addFile("mainPcDocRegId", obj)
		}
		else if(this.curImgBtnName == "btn_mainMblDocRegId")
		{
			this.fileUpTrans.removeFile("mainMblDocRegId");
			
			var nRowIdx = this.ds_file.addRow();
			
			this.ds_file.setColumn(nRowIdx, "ATFL_NM", obj.filename);
			this.ds_file.setColumn(nRowIdx, "IMG_TYPE", "mainMblDocRegId");
			
			this.edt_mainMblDocRegIdNm.set_value(obj.filename);
			
			this.fileUpTrans.addFile("mainMblDocRegId", obj)
		}
		else if(this.curImgBtnName == "btn_bnrPcDocRegId")
		{
			this.fileUpTrans.removeFile("bnrPcDocRegId");
			
			var nRowIdx = this.ds_file.addRow();
			
			this.ds_file.setColumn(nRowIdx, "ATFL_NM", obj.filename);
			this.ds_file.setColumn(nRowIdx, "IMG_TYPE", "bnrPcDocRegId");
			
			this.edt_bnrPcDocRegIdNm.set_value(obj.filename);
			
			this.fileUpTrans.addFile("bnrPcDocRegId", obj)
		}
		else if(this.curImgBtnName == "btn_bnrMblDocRegId")
		{
			this.fileUpTrans.removeFile("bnrMblDocRegId");
			
			var nRowIdx = this.ds_file.addRow();
			
			this.ds_file.setColumn(nRowIdx, "ATFL_NM", obj.filename);
			this.ds_file.setColumn(nRowIdx, "IMG_TYPE", "bnrMblDocRegId");
			
			this.edt_bnrMblDocRegIdNm.set_value(obj.filename);
			
			this.fileUpTrans.addFile("bnrMblDocRegId", obj)
		}
		else if(this.curImgBtnName == "btn_lpagePcDocRegId")
		{
			this.fileUpTrans.removeFile("lpagePcDocRegId");
			
			var nRowIdx = this.ds_file.addRow();
			
			this.ds_file.setColumn(nRowIdx, "ATFL_NM", obj.filename);
			this.ds_file.setColumn(nRowIdx, "IMG_TYPE", "lpagePcDocRegId");
			
			this.edt_lpagePcDocRegIdNm.set_value(obj.filename);
			
			this.fileUpTrans.addFile("lpagePcDocRegId", obj)
		}
		else if(this.curImgBtnName == "btn_lpageMblDocRegId")
		{
			this.fileUpTrans.removeFile("lpageMblDocRegId");
			
			var nRowIdx = this.ds_file.addRow();
			
			this.ds_file.setColumn(nRowIdx, "ATFL_NM", obj.filename);
			this.ds_file.setColumn(nRowIdx, "IMG_TYPE", "lpageMblDocRegId");
			
			this.edt_lpageMblDocRegIdNm.set_value(obj.filename);
			
			this.fileUpTrans.addFile("lpageMblDocRegId", obj)
		}
		else if(this.curImgBtnName == "btn_cpnPcDocRegId")
		{
			this.fileUpTrans.removeFile("cpnPcDocRegId");
			
			var nRowIdx = this.ds_file.addRow();
			
			this.ds_file.setColumn(nRowIdx, "ATFL_NM", obj.filename);
			this.ds_file.setColumn(nRowIdx, "IMG_TYPE", "cpnPcDocRegId");
			
			this.edt_cpnPcDocRegIdNm.set_value(obj.filename);
			
			this.fileUpTrans.addFile("cpnPcDocRegId", obj)
		}
		else if(this.curImgBtnName == "btn_cpnMblDocRegId")
		{
			this.fileUpTrans.removeFile("cpnMblDocRegId");
			
			var nRowIdx = this.ds_file.addRow();
			
			this.ds_file.setColumn(nRowIdx, "ATFL_NM", obj.filename);
			this.ds_file.setColumn(nRowIdx, "IMG_TYPE", "cpnMblDocRegId");
			
			this.edt_cpnMblDocRegIdNm.set_value(obj.filename);
			
			this.fileUpTrans.addFile("cpnMblDocRegId", obj)
		}
	}
};

/**
 * 업로드용 Virtual 파일 oneroor 이벤트
 */
this.fileList_onerror = function(obj:nexacro.VirtualFile, e:nexacro.VirtualFileErrorEventInfo)
{
	var msg = ">>>>>>>>> VirtualFile event ERROR >>>>>>>>\n";
	msg += "errortype : " + e.errortype + "\n";
	msg += "errormsg : " + e.errormsg + "\n";
	msg += "statuscode : " + e.statuscode;
	
	alert(msg);
	
	this.nRow = -1;
};

/**
 * 파일 확장자 검증
 */
this.fn_fileSizeCheck = function(obj, fileSize)
{
	var fileName = obj.filename;
	var extNm  = fileName.substr(fileName.lastIndexOf(".") + 1);	// 맨 뒤 확장자만 자르기
	var fileGbn = ".jpg, .png";

	extNm = extNm.toLowerCase();
	
	//10485760 - 10메가
	//메가바이트 변환
	var mbSize = fileSize / 1024 / 1024;
	
	if( this.maxFileSize < mbSize )
	{
		alert(this.fn_getMessage("ERRN000039", extNm)); // &1 파일은 10MB 이상으로 첨부하실 수 없습니다.
		return false;
	}
	
	if( fileGbn.indexOf(extNm) == -1 )
	{
		alert(this.fn_getMessage("ERRN000040", extNm)); // &1 파일은 허용되지 않는 파일 타입입니다.
		return false;
	}
	
	return true;
};

/**
 * 파일 DIALOG CLOSE 이벤트
 */
this.fileDialog_onclose = function(obj:nexacro.FileDialog,e:nexacro.FileDialogEventInfo)
{
	if(this.gfn_isNull(e.virtualfiles))
	{
		return;
	}
	
	var vFile = e.virtualfiles[0];
	
	//VirtualFile 이벤트 생성
	vFile.addEventHandler("onsuccess", this.fileList_onsuccess, this);
	vFile.addEventHandler("onerror", this.fileList_onerror, this);
	vFile.open(null, 1);
};

/**
 * 다운 완료
 */
this.FileDownTransfer_onsuccess = function(obj:nexacro.FileDownTransfer,e:nexacro.FileDownTransferEventInfo)
{
	console.log(e);
	console.log(obj);
};

/**
 * 다운 실패
 */
this.FileDownTransfer_onerror = function(obj:nexacro.FileDownTransfer,e:nexacro.FileDownTransferErrorEventInfo)
{
	console.log(e);
	console.log(obj);
};

/**
 * 저장 -> 파일 업로드 성공 시
 */
this.fileUpTrans_onsuccess = function(obj:nexacro.FileUpTransfer,e:nexacro.FileUpTransferEventInfo)
{
	var objCallDs = e.datasets[0];
	
	if(objCallDs.rowcount  == 0 )
	{
		alert(this.fn_getMessage("ERRN000041")); // 파일 업로드 오류입니다.
	}
	
	for(var i = 0 ; i < objCallDs.rowcount ; i++)
	{
		/*
		if(objCallDs.getColumn(i, "result") == "none")
		{
			alert("파일이 없습니다.");
			return;
		}
		*/
		
		if(objCallDs.getColumn(i, "imgType") == "mainPcDocRegId")
		{
			this.ds_exhbnInfo.setColumn(0, "MAIN_PC_DOC_REG_ID", objCallDs.getColumn(i, "docRegId"));
		}
		else if(objCallDs.getColumn(i, "imgType") == "mainMblDocRegId")
		{
			this.ds_exhbnInfo.setColumn(0, "MAIN_MBL_DOC_REG_ID", objCallDs.getColumn(i, "docRegId"));
		}
		else if(objCallDs.getColumn(i, "imgType") == "bnrPcDocRegId")
		{
			this.ds_exhbnInfo.setColumn(0, "BNR_PC_DOC_REG_ID", objCallDs.getColumn(i, "docRegId"));
		}
		else if(objCallDs.getColumn(i, "imgType") == "bnrMblDocRegId")
		{
			this.ds_exhbnInfo.setColumn(0, "BNR_MBL_DOC_REG_ID", objCallDs.getColumn(i, "docRegId"));
		}
		else if(objCallDs.getColumn(i, "imgType") == "lpagePcDocRegId")
		{
			this.ds_exhbnInfo.setColumn(0, "LPAGE_PC_DOC_REG_ID", objCallDs.getColumn(i, "docRegId"));
		}
		else if(objCallDs.getColumn(i, "imgType") == "lpageMblDocRegId")
		{
			this.ds_exhbnInfo.setColumn(0, "LPAGE_MBL_DOC_REG_ID", objCallDs.getColumn(i, "docRegId"));
		}
		else if(objCallDs.getColumn(i, "imgType") == "cpnPcDocRegId")
		{
			this.ds_exhbnInfo.setColumn(0, "CPN_PC_DOC_REG_ID", objCallDs.getColumn(i, "docRegId"));
		}
		else if(objCallDs.getColumn(i, "imgType") == "cpnMblDocRegId")
		{
			this.ds_exhbnInfo.setColumn(0, "CPN_MBL_DOC_REG_ID", objCallDs.getColumn(i, "docRegId"));
		}
	}
	
	this.ds_file.clearData();			// 업로드 완료 후 ds_file 클리어
	this.fileUpTrans.clearFileList();
	
	// 신규 데이터 등록
	this.fn_saveExhbnInfo();
};

/**
 * 파일전송 실패
 */
this.fileUpTrans_onerror = function(obj:nexacro.FileUpTransfer,e:nexacro.FileUpTransferErrorEventInfo)
{
	alert(e.errormsg);
};
]]></Script>
  </Form>
</FDL>
