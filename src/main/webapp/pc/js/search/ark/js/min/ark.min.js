function stopEventBubble(e){var t="undefined"!=typeof e?e:event;t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function requestArkJson(e){jQuery.support.cors=!0,cursorPos=-1,jQuery.ajaxSetup({cache:!1}),jQuery.ajax({url:transURL,type:"POST",dataType:"json",data:{convert:g_oConvert,target:target,charset:charset,query:encodeURIComponent(e),datatype:datatype},success:function(e){e.result.length<=0&&(totalFwCount=0,totalRwCount=0);var t="";jQuery.each(e.result,function(e,o){var r=parseInt(o.totalcount);0==e?totalFwCount=r:totalRwCount=r,r>0&&jQuery.each(o.items,function(o,r){0!=e&&(o=totalFwCount+o),t+='<li id="bg'+o+'" ><a href="javascript:onClickKeyword('+o+');" onmouseover="onMouseOverKeyword('+o+');" onmouseout="onMouseOutKeyword('+o+');" title="'+r.keyword+'">',t+="&nbsp;&nbsp;"+r.hkeyword+'<span id="f'+o+'" style=display:none;>'+r.keyword+"</span></a>",t+='<button type="button" class="btn_page_go" onclick="location=\''+r.linkurl+'\'" title="바로가기">바로가기</button></li>'})}),totalFwCount+totalRwCount==0?jQuery("#"+contentListId).html("<li>해당 단어로 시작하는 검색어가 없습니다.</li>"):jQuery("#"+contentListId).html(t),showArk()}})}function requestArkXml(e){jQuery.support.cors=!0,cursorPos=-1,totalFwCount=0,totalRwCount=0,jQuery.ajaxSetup({cache:!1}),jQuery.ajax({url:transURL,type:"POST",dataType:"xml",data:{convert:g_oConvert,target:target,charset:charset,query:e,datatype:datatype},success:function(e){var t="",o=jQuery(e).find("Response").find("Value"),r=o.find("Return").text();if(0==r){if(o.find("ARKList").size()<=0)totalFwCount=0;else{var n=o.find("ARKList").find("TotalCount").text();totalFwCount=n}if(o.find("ARKRList").size()<=0)totalRwCount=0;else{var n=o.find("ARKRList").find("TotalCount").text();totalRwCount=n}o.find("ARKList").each(function(){jQuery(this).find("ARK").each(function(e){{var o=jQuery(this),r=o.attr("HKeyword"),n=o.attr("keyword");o.attr("count"),o.attr("type")}t+='<li id="bg'+e+'" onclick="onClickKeyword('+e+');" onmouseover="onMouseOverKeyword('+e+');"',t+=' onmouseout="onMouseOutKeyword('+e+');">'+r,t+=' <span id="f'+e+'" style=display:none;>'+n+"</span></li>"})}),o.find("ARKRList").each(function(e){jQuery(this).find("ARK").each(function(o){{var r=o+parseInt(totalFwCount),n=jQuery(this),i=n.attr("HKeyword"),s=n.attr("keyword");n.attr("count"),n.attr("type")}t+='<li id="bg'+r+'" onclick="onClickKeyword('+e+');" onmouseover="onMouseOverKeyword('+r+');"',t+=' onmouseout="onMouseOutKeyword('+r+');">'+i,t+=' <span id="f'+r+'" style=display:none;>'+s+"</span></li>"})}),totalFwCount+totalRwCount==0?jQuery("#"+contentListId).html('<li style="padding:6px 0 6px 10px;">해당 단어로 시작하는 검색어가 없습니다.</li>'):jQuery("#"+contentListId).html(t),showArk()}}})}function eventKeydown(){isKeydown&&(keyword!=jQuery(queryId).val()&&(keyword=jQuery(queryId).val(),""!=keyword&&isArk?"json"==datatype?requestArkJson(jQuery(queryId).val()):"xml"==datatype&&requestArkXml(jQuery(queryId).val()):hideArk()),setTimeout("eventKeydown()",20))}function moveFocusEvent(e){isKeydown=!1,alert("1111"),38==e.keyCode?-1==cursorPos||0==cursorPos?(cursorPos=-1,hideArk(),jQuery(queryId).val(tempQuery),tempQuery=""):(onMouseOutKeyword(cursorPos),cursorPos-=1,onMouseOverKeyword(cursorPos),jQuery(queryId).val(jQuery("#f"+cursorPos).text())):40==e.keyCode&&(-1==cursorPos&&(tempQuery=jQuery(queryId).val()),totalFwCount+totalRwCount>cursorPos+1&&(onMouseOutKeyword(cursorPos),cursorPos+=1,onMouseOverKeyword(cursorPos),jQuery(queryId).val(jQuery("#f"+cursorPos).text())))}function onMouseOverKeyword(e){clearCursorPos(),cursorPos=e,jQuery("#bg"+e).css({backgroundColor:"#eeeeee"}),jQuery("#bg"+e).css({cursor:"pointer"})}function onMouseOutKeyword(e){cursorPos=e,jQuery("#bg"+cursorPos).css({backgroundColor:"#ffffff"})}function clearCursorPos(){for(var e=0;totalFwCount+totalRwCount>e;e++)jQuery("#bg"+e).css({backgroundColor:"#ffffff"})}function onClickKeyword(e){var t=document.searchTop;jQuery(queryId).val(jQuery("#f"+e).text()),t.submit()}function showArkGuide(){var e='<li style="line-height:145%; font-size:11px;">';e+=isArk?"현재 검색어 &nbsp;<strong>자동 추천 기능</strong>을 사용하고 있습니다.<br>검색어 입력시 자동으로 관련어를 추천합니다.":'<strong>자동 추천 기능</strong>을 사용해 보세요. <label OnClick="setArkOn();" style="cursor:pointer;color:#435fea;text-decoration:underline;">기능켜기</label><br>검색어 입력시 자동으로 관련어를 추천합니다.',e+="</li>",jQuery("#"+contentListId).html(e)}function setArkFooter(){var e="";isArk&&""!=jQuery(queryId).val()&&totalFwCount+totalRwCount>0&&isListShow&&(e+='<div class="left" style="padding:8px 0 0 5px; color:#888888;">',"fw"==g_oConvert?e+='<label OnClick="onConvert(\'rw\');" style="cursor:pointer;">끝단어 더보기</label>':"rw"==g_oConvert&&(e+='<label OnClick="onConvert(\'fw\');" style="cursor:pointer;">첫단어 더보기</label>'),e+="</div>"),isArk?(e+='<div class="right" style="padding:8px 0 0 0; color:#888888;">',""!=jQuery(queryId).val()&&isListShow||(e+='<label OnClick="showArk();" style="cursor:pointer;">닫기</label>',isListShow=!0),e+="</div>"):e+='<div class="right" style="padding:8px 0 0 0; color:#888888;"><label OnClick="showArk();" style="cursor:pointer;">닫기</label></div>',jQuery("#"+footerId).html(e)}function showArk(){jQuery(queryId).parent().parent().find(".autoCompleteBox").show()}function hideArk(){jQuery(".autoCompleteBox").hide()}function openHelp(){window.open(arkPath+"/help/help_01.html","도움말","height=540,width=768,toolbar=no,menubar=no,scrollbars=yes,resizable=no,location=no,directories=no,status=no")}function onConvert(e){var t=jQuery(queryId).val();g_oConvert="fw"==e?"fw":"rw","json"==datatype?requestArkJson(t):"xml"==datatype&&requestArkXml(t)}function setArkOff(){jQuery(queryId).attr("autocomplete","on"),isArk=!1;var e=new Date,t=new Date(e.getTime()+31536e6);setCookie("ark","off",t)}function setArkOn(){jQuery(queryId).attr("autocomplete","on"),isArk=!0;var e=new Date,t=new Date(e.getTime()-864e5);setCookie("ark","on",t);var o=jQuery(queryId).val();""!=o&&("json"==datatype?requestArkJson(o):"xml"==datatype&&requestArkXml(o),setArkFooter())}function setCookie(e,t,o){var r=new Date(o);document.cookie=e+"="+escape(t)+"; path=/; expires="+r.toGMTString()}function getCookie(e){var t=document.cookie,o=e+"=",r=t.indexOf("; "+o);if(-1==r){if(r=t.indexOf(o),0!=r)return null}else r+=2;var n=document.cookie.indexOf(";",r);return-1==n&&(n=t.length),unescape(t.substring(r+o.length,n))}function showSource(e){var t,o;return t=e>=0&&4>=e?"#989898":"#CC6633",o=0==e||5==e?"<font style='font-size:11px;font-family:돋움;color:"+t+"'>사전</font>":1==e||6==e?"<font style='font-size:11px;font-family:돋움;color:"+t+"'>일반</font>":2==e||7==e?"<font style='font-size:11px;font-family:돋움;color:"+t+"'>인기</font>":3==e||8==e?"<font style='font-size:11px;font-family:돋움;color:"+t+"'>테마</font>":4==e||9==e?"<font style='font-size:11px;font-family:돋움;color:"+t+"'>추천</font>":""}function showRankIcon(e){var t;return t=e>=0&&20>=e?'<font style="font-size:9px;color:#CC6633">|</font><font style="font-size:9px;color:#C0C0C0">||||</font>':e>20&&40>=e?'<font style="font-size:9px;color:#CC6633">||</font><font style="font-size:9px;color:#C0C0C0">|||</font>':e>40&&60>=e?'<font style="font-size:9px;color:#CC6633">|||</font><font style="font-size:9px;color:#C0C0C0">||</font>':e>60&&80>=e?'<font style="font-size:9px;color:#CC6633">||||</font><font style="font-size:9px;color:#C0C0C0">|</font>':e>80&&100>=e?'<font style="font-size:9px;color:#CC6633">|||||</font>':'<font style="font-size:9px;color:#CC6633">|||||</font>'}function attachEvent_(e,t,o,r){return r||(r=!1),e.addEventListener?e.addEventListener(t,o,r):e.attachEvent?e.attachEvent("on"+t,o):(MyAttachEvent(e,t,o),e["on"+t]=function(){MyFireEvent(e,t)},void 0)}function detachEvent_(e,t,o,r){return r||(r=!1),e.removeEventListener?e.removeEventListener(t,o,r):e.detachEvent?e.detachEvent("on"+t,o):(MyDetachEvent(e,t,o),e["on"+t]=function(){MyFireEvent(e,t)},void 0)}function MyAttachEvent(e,t,o){e.myEvents||(e.myEvents={}),e.myEvents[t]||(e.myEvents[t]=[]);var r=e.myEvents[t];r[r.length]=o}function MyFireEvent(e,t){if(e.myEvents&&e.myEvents[t])for(var o=e.myEvents[t],r=0;len>r;r++)len=o.length,o[r]()}function previewShow(e,t,o){preview=o,gobj=t,attachEvent_(t,"mousemove",previewMove,!1),attachEvent_(t,"mouseout",previewHide,!1)}function previewMove(e){var t=document.getElementById(preview);t.parentElement?t.parentElement.style.display="block":t.parentNode.style.display="";var o=e?e:window.event,r=0,n=0;o.pageX||o.pageY?(r=o.pageX+8,n=o.pageY+16):(o.clientX||o.clientY)&&(r=o.clientX+10,n=o.clientY+20,window.event&&(r+=document.body.scrollLeft-80,n+=document.body.scrollTop)),t.style.left=r+"px",t.style.top=n+"px"}function previewHide(){var e=document.getElementById(preview);e.parentElement?e.parentElement.style.display="none":e.parentNode.style.display="none",detachEvent_(gobj,"mousemove",previewMove,!1)}var g_oConvert="fw",isArk=!0,isKeydown=!1,isListShow=!0,cursorPos=-1,formName="#searchTop",queryId="#inp_sh",arkId="#ark",wrapId="ark_wrap",footerId="ark_footer",contentListId="ark_content_list",imgDownId="ark_img_down",imgUpId="ark_img_up",arkUpId="ark_up",arkDownId="ark_down",totalFwCount=0,totalRwCount=0,target="common",charset="utf-8",datatype="xml",arkPath="/pc/search/ark",transURL=arkPath+"/ark_trans.do",tempQuery="",BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version",this.OS=this.searchString(this.dataOS)||"an unknown OS"},searchString:function(e){for(var t=0;t<e.length;t++){var o=e[t].string,r=e[t].prop;if(this.versionSearchString=e[t].versionSearch||e[t].identity,o){if(-1!=o.indexOf(e[t].subString))return e[t].identity}else if(r)return e[t].identity}},searchVersion:function(e){var t=e.indexOf(this.versionSearchString);if(-1!=t)return parseFloat(e.substring(t+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"CHROME"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.Vendor,subString:"Apple",versionSearch:"Version",identity:"Safari"},{prop:window.opera,identity:"OPERA",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"FF"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"IE",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win32",identity:"Windows"},{string:navigator.platform,subString:"Wind",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.userAgent,subString:"Linux",identity:"Linux"}]};BrowserDetect.init();var browser=BrowserDetect.browser,browserVersion=BrowserDetect.version,os=BrowserDetect.OS,offset=null,offsetTop=0,offsetLeft=0,IE6_TOP_OFFSET=-36,IE6_LEFT_OFFSET=20,IE7_TOP_OFFSET=-60,IE7_LEFT_OFFSET=-18,IE8_TOP_OFFSET=0,IE8_LEFT_OFFSET=0,FF_TOP_OFFSET=0,FF_LEFT_OFFSET=0,CHROME_TOP_OFFSET=0,CHROME_LEFT_OFFSET=0,OPERA_TOP_OFFSET=0,OPERA_LEFT_OFFSET=0,arkWidth=37,arkTop=29,arkLeft=-3,arkImgTop=26,arkImgLeft=26,tooltip01TopPos=0,tooltip01LeftPos=-155,tooltip02TopPos=0,tooltip02LeftPos=0,keyFix=new beta.fix("query");jQuery(document).ready(function(){"off"==getCookie("ark")?(isArk=!1,jQuery(queryId).attr("autocomplete","on")):jQuery(queryId).attr("autocomplete","off"),"OPERA"==browser||"FF"==browser?jQuery(document).keydown(function(e){var t=jQuery(queryId).val();38==e.which||40==e.which?(""!=t&&showArk(),moveFocusEvent(e)):jQuery(e.target).is(queryId)&&(isKeydown=!0,eventKeydown())}):("IE"==browser||"CHROME"==browser||"Mozilla"==browser)&&jQuery(document).keyup(function(e){var t=jQuery(queryId).val();if(38==e.keyCode||40==e.keyCode){if(!jQuery("#fsearch").is(":focus"))return;""!=t&&showArk(),moveFocusEvent(e)}else 16==e.keyCode||(8==e.keyCode&&""==t?(jQuery("#"+contentListId).html(""),hideArk()):jQuery(e.target).is(queryId)&&(isArk&&""!=jQuery(queryId).val()?"json"==datatype?requestArkJson(jQuery(queryId).val()):"xml"==datatype&&requestArkXml(jQuery(queryId).val()):""==jQuery(queryId).val()&&hideArk()));showArk()}),jQuery(queryId).keyup(function(e){if(8==e.keyCode&&""==jQuery(this).val()){var t="";t+="",jQuery("#"+contentListId).html(t),jQuery("#"+contentListId).html(""),hideArk()}}),jQuery(document).click(function(e){if(stopEventBubble(e),jQuery(e.target).is("#"+imgDownId))isListShow=!1,showArk(),showArkGuide(),setArkFooter();else if(jQuery(e.target).is("#"+imgUpId))hideArk();else if(jQuery(e.target).is(queryId)){if(isArk){var t=jQuery(queryId).val();""!=t&&("json"==datatype?requestArkJson(jQuery(queryId).val()):"xml"==datatype&&requestArkXml(jQuery(queryId).val()),keyword=t),isKeydown=!0}}else jQuery(e.target).is("."+wrapId)||(myArray=null!=/\/([A-Z|a-z]{1,})\.ebs/.exec(document.location)?/\/([A-Z|a-z]{1,})\.ebs/.exec(document.location):"null",null==myArray[0]||"/retrieveTotalSearchList.ebs"!=myArray[0]&&"/dynaSympathyMain.ebs"!=myArray[0]||hideArk())}),jQuery("#"+imgUpId).hover(function(){jQuery("#tooltip01").show()},function(){jQuery("#tooltip01").hide()})});var keyword="",preview="",gobj="";