$(function(){"use strict";var n=function(n){var i,t=[],e=$.extend({id:null,autoHeight:!1,onBefore:function(){},onInit:function(){},onSlide:function(){},onTransitionEnd:function(){},startSlide:0,speed:400,auto:0,continuous:!0,disableScroll:!1,stopPropagation:!0},n);t.this=document.getElementById(e.id),t.$this=$(t.this),t.$inner=t.$this.children(),t.$items=t.$inner.children(),t.$current=t.$items.eq(0),t.length=t.$items.length,t.idx=0;var o=function(){var n;return function(i,t){clearTimeout(n),n=setTimeout(i,t)}}(),r=function(n,i,t,e){return n="string"==typeof n?window[n]:n,$.isFunction(n)?(i="undefined"==typeof i?null:i,t=null===t?"":t,e=e||50,setTimeout(function(){n.call(null,i,t)},e),void 0):!1},s=$.extend({callback:function(n,i){t.idx=n,t.$current=i,r(e.onSlide,t)},transitionEnd:function(){t.$this.trigger("slided"),r(e.onTransitionEnd,t)}},e),l=function(){$("#wrapper").scrollTop()+$("#footer").height();t.$this.css({visibility:"hidden",position:"relative"}),t.$inner.css({overflow:"hidden",position:"relative",transition:"all .1s ease-in-out"}),t.$items.css({position:"relative","float":"left",width:"100%"})},a=function(n,i){var e=void 0!==i?$(i):t.$inner.children().eq(0);e.css("height","auto"),t.$inner.height(e.outerHeight())},c=function(){t.$this.off(".swipe").on("slided.swipe",function(){e.autoHeight===!0&&a(t.idx,t.$current)}),e.autoHeight===!0&&a(t.idx,t.$current)};return l(),r(e.onBefore,t),i=Swipe(t.this,s),o(function(){c(),r(e.onInit,t)},500),i};$.swing=function(n,i){var t=$.extend({scrollerEl:"#nav",innerEl:".inner",itemEl:".item"},i);n=parseInt(n,10);var e={},o={},r=$(window),s=$(t.scrollerEl),l=(s.find(t.innerEl),s.find(t.itemEl)),a=l.eq(n),c=BASE.width||r.width();if(!s.length)return!1;var d=Math.min(s.width(),c),u=0,f=0,h=parseInt(n,10)+1,w=0;for(a.addClass("in").siblings().removeClass("in");h>f;)u+=l.eq(f).width(),f++;var g=function(){e={start:u-a.width(),center:u-a.width()/2,end:u},o={width:d,widthHalf:parseInt(d/2,10)}},v=function(){var n=0;return w=e.center<o.widthHalf?0:e.center-o.widthHalf,n=parseInt(w,10)},p=function(n){s.animate({scrollLeft:n},100)};g(),w=v(),p(w)},$.initSwing=function(){var i=function(){{var n={};window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(i,t,e){n[t]=e})}return n},t=i().slide;t=void 0!==t?t:0,$(document).on("click","#nav a.d1",function(n){n.preventDefault();var i=$(n.target).closest(".item").index();swipeStage.slide(i,400)}),window.swipeStage=n({startSlide:t,speed:400,auto:0,continuous:!1,disableScroll:!1,stopPropagation:!1,id:"sliderMainWrap",autoHeight:!0,onInit:function(n){n.$this.addClass("loaded");setTimeout(function(){$.swing(t)},500)},onSlide:function(n){$.swing(n.idx)}}),$(document).on("click",".test a",function(n){n.preventDefault();var i=$(n.target).closest(".cell").index();$.swing(i,{scrollerEl:"#foo",innerEl:".slider-inner",itemEl:".cell"})}),$(document).on("touchstart","#foo a",function(){$("html").addClass("is-focus")}),$(document).on("touchend","#foo a",function(){$("html").removeClass("is-focus")})}}),function(){}(BASEkit,window.jQuery);