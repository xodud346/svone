$(function(){var a=$("#gnb"),n=(a.next(),$("#lnb")),i=function(){var a=$("#gnb ul.d2, #lnb ul.d3"),n=function(n){{var i=$(n),t=i.data("submenuId"),d=$("#"+t);a.outerHeight(),a.outerWidth()}d.css({opacity:1,visibility:"visible",transition:"opacity .2s 0s, visibility 0s 0s"})},i=function(a){var n=$(a),i=n.data("submenuId"),t=$("#"+i);t.css({opacity:0,visibility:"hidden",transition:"opacity .4s 0s, visibility 0s .4s"})};return"function"!=typeof a.menuAim?!1:(a.menuAim({activate:n,deactivate:i}),void 0)},t=function(){var i=function(){var a=function(a){var n=$("#gnb"),i="active";if("lnb"==a&&(n=$("#lnb")),n.find("li").removeClass("active"),null!==$.params.nav[0]&&(n.find("li.d1").eq($.params.nav[0]).addClass(i).find("li.d2").eq($.params.nav[1]).addClass(i).find("li.d3").eq($.params.nav[2]).addClass(i),"gnb"==a)){var t=n.find("li.d1").eq($.params.nav[0]).find("a").eq(0).text();$("#lnb").find(".title").text(t)}};a("gnb"),a("lnb")},t=function(){var a,n,t;a=n=t=0;var d=$(this).parent();d.hasClass("d3")&&(t=d.index(),d=d.parents("li")),d.hasClass("d2")&&(n=d.index(),d=d.parents("li")),d.hasClass("d1")&&(a=d.index()),$.params.nav=[a,n,t],i()},d={activate:t,click:function(){$(this).trigger("activate")}};a.find("a").on(d),n.find("a").on(d),i()},d=function(a){var n="",i=function(a){n+="<ul>",$.each(a,function(){var a=this;n+="<li>",n+='<a href="'+a.src+'"><span>'+a.name+"</span></a>",void 0!==a.child&&null!==a.child&&(n+="<div>",i(a.child),n+="</div>"),n+="</li>"}),n+="</ul>"};return void 0===a?!1:(i(a.child),n)},s=d($.params.tree),e=function(a,n){var i=function(a){a.each(function(a){var t=$(this),d=t.children("a"),s=t.children("div"),e=s.children("ul");void 0===t.parent().attr("menu")&&t.parent().attr("menu","menu");var l=t.parent().attr("menu")+"-"+a,r=l.split("-").length-1;t.attr("menu",l),d.attr("menu",l),s.attr("menu",l),e.attr("menu",l),t.addClass("d"+r).addClass(l),d.addClass("d"+r).addClass(l),s.addClass("d"+(r+1)).addClass(l),e.addClass("d"+(r+1)).addClass(l),t.attr("data-submenu-id",n+l),s.attr("id",n+l),e.length&&i(e.children())})};i(a)};$("#gnb .core").empty().html(s),$("#lnb .core").empty().html(s),$("#gnb ul").eq(0).addClass("nav"),$("#lnb ul").eq(0).addClass("nav"),e($("#gnb ul").eq(0).children(),"gnb"),e($("#lnb ul").eq(0).children(),"lnb");var l=function(){{var n=a.find("ul").eq(0).children();1/(n.length+2)*100+"%"}};l(),i(),t()});