function Node(i,e,t,o,s,n,h,d,c){this.id=i,this.pid=e,this.name=t,this.url=o,this.title=s,this.target=n,this.icon=h,this.iconOpen=d,this._io=c||!1,this._is=!1,this._ls=!1,this._hc=!1,this._ai=0,this._p}function dTree(i){this.config={target:null,folderLinks:!0,useSelection:!0,useCookies:!0,useLines:!0,useIcons:!0,useStatusText:!1,closeSameLevel:!1,inOrder:!1},this.icon={root:"/common/img/plugins/base.gif",folder:"/common/img/plugins/folder.gif",folderOpen:"/common/img/plugins/folderopen.gif",node:"/common/img/plugins/page.gif",empty:"/common/img/plugins/empty.gif",line:"/common/img/plugins/line.gif",join:"/common/img/plugins/join.gif",joinBottom:"/common/img/plugins/joinbottom.gif",plus:"/common/img/plugins/plus.gif",plusBottom:"/common/img/plugins/plusbottom.gif",minus:"/common/img/plugins/minus.gif",minusBottom:"/common/img/plugins/minusbottom.gif",nlPlus:"/common/img/plugins/nolines_plus.gif",nlMinus:"/common/img/plugins/nolines_minus.gif"},this.obj=i,this.aNodes=[],this.aIndent=[],this.root=new Node(-1),this.selectedNode=null,this.selectedFound=!1,this.completed=!1}dTree.prototype.add=function(i,e,t,o,s,n,h,d,c){this.aNodes[this.aNodes.length]=new Node(i,e,t,o,s,n,h,d,c)},dTree.prototype.openAll=function(){this.oAll(!0)},dTree.prototype.closeAll=function(){this.oAll(!1)},dTree.prototype.toString=function(){var i='<div class="dtree">\n';return document.getElementById?(this.config.useCookies&&(this.selectedNode=this.getSelected()),i+=this.addNode(this.root)):i+="Browser not supported.",i+="</div>",this.selectedFound||(this.selectedNode=null),this.completed=!0,i},dTree.prototype.addNode=function(i){var e="",t=0;for(this.config.inOrder&&(t=i._ai),t;t<this.aNodes.length;t++)if(this.aNodes[t].pid==i.id){var o=this.aNodes[t];if(o._p=i,o._ai=t,this.setCS(o),!o.target&&this.config.target&&(o.target=this.config.target),o._hc&&!o._io&&this.config.useCookies&&(o._io=this.isOpen(o.id)),!this.config.folderLinks&&o._hc&&(o.url=null),this.config.useSelection&&o.id==this.selectedNode&&!this.selectedFound&&(o._is=!0,this.selectedNode=t,this.selectedFound=!0),e+=this.node(o,t),o._ls)break}return e},dTree.prototype.node=function(i,e){var t='<div class="dTreeNode">'+this.indent(i,e);return this.config.useIcons&&(i.icon||(i.icon=this.root.id==i.pid?this.icon.root:i._hc?this.icon.folder:this.icon.node),i.iconOpen||(i.iconOpen=i._hc?this.icon.folderOpen:this.icon.node),this.root.id==i.pid&&(i.icon=this.icon.root,i.iconOpen=this.icon.root),t+='<img id="i'+this.obj+e+'" src="'+(i._io?i.iconOpen:i.icon)+'" alt="" />'),i.url?(t+='<a id="s'+this.obj+e+'" class="'+(this.config.useSelection?i._is?"nodeSel":"node":"node")+'" href="'+i.url+'"',i.title&&(t+=' title="'+i.title+'"'),i.target&&(t+=' target="'+i.target+'"'),this.config.useStatusText&&(t+=" onmouseover=\"window.status='"+i.name+"';return true;\" onmouseout=\"window.status='';return true;\" "),this.config.useSelection&&(i._hc&&this.config.folderLinks||!i._hc)&&(t+=' onclick="javascript: '+this.obj+".s("+e+');"'),t+=">"):this.config.folderLinks&&i.url||!i._hc||i.pid==this.root.id||(t+='<a href="javascript: '+this.obj+".o("+e+');" class="node">'),t+=i.name,(i.url||(!this.config.folderLinks||!i.url)&&i._hc)&&(t+="</a>"),t+="</div>",i._hc&&(t+='<div id="d'+this.obj+e+'" class="clip" style="display:'+(this.root.id==i.pid||i._io?"block":"none")+';">',t+=this.addNode(i),t+="</div>"),this.aIndent.pop(),t},dTree.prototype.indent=function(i,e){var t="";if(this.root.id!=i.pid){for(var o=0;o<this.aIndent.length;o++)t+='<img src="'+(1==this.aIndent[o]&&this.config.useLines?this.icon.line:this.icon.empty)+'" alt="" />';i._ls?this.aIndent.push(0):this.aIndent.push(1),i._hc?(t+='<a href="javascript: '+this.obj+".o("+e+');"><img id="j'+this.obj+e+'" src="',t+=this.config.useLines?i._io?i._ls&&this.config.useLines?this.icon.minusBottom:this.icon.minus:i._ls&&this.config.useLines?this.icon.plusBottom:this.icon.plus:i._io?this.icon.nlMinus:this.icon.nlPlus,t+='" alt="" /></a>'):t+='<img src="'+(this.config.useLines?i._ls?this.icon.joinBottom:this.icon.join:this.icon.empty)+'" alt="" />'}return t},dTree.prototype.setCS=function(i){for(var e,t=0;t<this.aNodes.length;t++)this.aNodes[t].pid==i.id&&(i._hc=!0),this.aNodes[t].pid==i.pid&&(e=this.aNodes[t].id);e==i.id&&(i._ls=!0)},dTree.prototype.getSelected=function(){var i=this.getCookie("cs"+this.obj);return i?i:null},dTree.prototype.s=function(i){if(this.config.useSelection){var e=this.aNodes[i];(!e._hc||this.config.folderLinks)&&this.selectedNode!=i&&((this.selectedNode||0==this.selectedNode)&&(eOld=document.getElementById("s"+this.obj+this.selectedNode),eOld.className="node"),eNew=document.getElementById("s"+this.obj+i),eNew.className="nodeSel",this.selectedNode=i,this.config.useCookies&&this.setCookie("cs"+this.obj,e.id))}},dTree.prototype.o=function(i){var e=this.aNodes[i];this.nodeStatus(!e._io,i,e._ls),e._io=!e._io,this.config.closeSameLevel&&this.closeLevel(e),this.config.useCookies&&this.updateCookie()},dTree.prototype.oAll=function(i){for(var e=0;e<this.aNodes.length;e++)this.aNodes[e]._hc&&this.aNodes[e].pid!=this.root.id&&(this.nodeStatus(i,e,this.aNodes[e]._ls),this.aNodes[e]._io=i);this.config.useCookies&&this.updateCookie()},dTree.prototype.openTo=function(i,e,t){if(!t)for(var o=0;o<this.aNodes.length;o++)if(this.aNodes[o].id==i){i=o;break}var s=this.aNodes[i];s.pid!=this.root.id&&s._p&&(s._io=!0,s._is=e,this.completed&&s._hc&&this.nodeStatus(!0,s._ai,s._ls),this.completed&&e?this.s(s._ai):e&&(this._sn=s._ai),this.openTo(s._p._ai,!1,!0))},dTree.prototype.closeLevel=function(i){for(var e=0;e<this.aNodes.length;e++)this.aNodes[e].pid==i.pid&&this.aNodes[e].id!=i.id&&this.aNodes[e]._hc&&(this.nodeStatus(!1,e,this.aNodes[e]._ls),this.aNodes[e]._io=!1,this.closeAllChildren(this.aNodes[e]))},dTree.prototype.closeAllChildren=function(i){for(var e=0;e<this.aNodes.length;e++)this.aNodes[e].pid==i.id&&this.aNodes[e]._hc&&(this.aNodes[e]._io&&this.nodeStatus(!1,e,this.aNodes[e]._ls),this.aNodes[e]._io=!1,this.closeAllChildren(this.aNodes[e]))},dTree.prototype.nodeStatus=function(i,e,t){eDiv=document.getElementById("d"+this.obj+e),eJoin=document.getElementById("j"+this.obj+e),this.config.useIcons&&(eIcon=document.getElementById("i"+this.obj+e),eIcon.src=i?this.aNodes[e].iconOpen:this.aNodes[e].icon),eJoin.src=this.config.useLines?i?t?this.icon.minusBottom:this.icon.minus:t?this.icon.plusBottom:this.icon.plus:i?this.icon.nlMinus:this.icon.nlPlus,eDiv.style.display=i?"block":"none"},dTree.prototype.clearCookie=function(){var i=new Date,e=new Date(i.getTime()-864e5);this.setCookie("co"+this.obj,"cookieValue",e),this.setCookie("cs"+this.obj,"cookieValue",e)},dTree.prototype.setCookie=function(i,e,t,o,s,n){document.cookie=escape(i)+"="+escape(e)+(t?"; expires="+t.toGMTString():"")+(o?"; path="+o:"")+(s?"; domain="+s:"")+(n?"; secure":"")},dTree.prototype.getCookie=function(i){var e="",t=document.cookie.indexOf(escape(i)+"=");if(-1!=t){var o=t+(escape(i)+"=").length,s=document.cookie.indexOf(";",o);e=-1!=s?unescape(document.cookie.substring(o,s)):unescape(document.cookie.substring(o))}return e},dTree.prototype.updateCookie=function(){for(var i="",e=0;e<this.aNodes.length;e++)this.aNodes[e]._io&&this.aNodes[e].pid!=this.root.id&&(i&&(i+="."),i+=this.aNodes[e].id);this.setCookie("co"+this.obj,i)},dTree.prototype.isOpen=function(i){for(var e=this.getCookie("co"+this.obj).split("."),t=0;t<e.length;t++)if(e[t]==i)return!0;return!1},Array.prototype.push||(Array.prototype.push=function(){for(var i=0;i<arguments.length;i++)this[this.length]=arguments[i];return this.length}),Array.prototype.pop||(Array.prototype.pop=function(){return lastElement=this[this.length-1],this.length=Math.max(this.length-1,0),lastElement});
//# sourceMappingURL=dtree.min.js.map